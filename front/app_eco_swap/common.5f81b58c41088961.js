"use strict";(self.webpackChunkapp_eco_swap=self.webpackChunkapp_eco_swap||[]).push([[592],{9499:(v,g,o)=>{o.d(g,{O:()=>s});var n=o(4755),p=o(5110),u=o(9401),r=o(3148),_=o(4466),a=o(2223);let s=(()=>{class t{}return t.\u0275fac=function(d){return new(d||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[n.ez,p.q,r.IJ,u.u5,u.UX,_.m]}),t})()},8628:(v,g,o)=>{o.d(g,{M:()=>_});var n=o(2223),p=o(8980);const r="URImsUsuarios";let _=(()=>{class a{constructor(t){this.backendService=t}crearColecta(t){return this.backendService.post(r,"api/colecta",t)}getAllColectas(t){return this.backendService.get(r,"api/colectas",t)}getMisColectas(){return this.backendService.get(r,"api/misColectas")}getColecta(t){return this.backendService.get(r,"api/colecta/"+t)}getDonacionesColecta(t){return this.backendService.get(r,"api/colecta/"+t+"/donaciones")}getMisDonaciones(){return this.backendService.get(r,"api/particular/misDonaciones")}crearDonacion(t,C){return this.backendService.post(r,"api/colecta/"+t+"/crearDonacion",C)}getImagen(t){return"http://localhost:8080/api/getImage/"+t}cambiarEstadoDonacion(t,C,d){return this.backendService.put(r,"api/colecta/"+t+"/donaciones/"+C,d)}}return a.\u0275fac=function(t){return new(t||a)(n.LFG(p.k))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},4893:(v,g,o)=>{o.d(g,{k:()=>r});var n=o(2223),p=o(8980);const u="URImsUsuarios";let r=(()=>{class _{constructor(s){this.backendService=s}getTiposProductos(){return this.backendService.get(u,"api/tiposProductos")}getProductosColecta(s){return this.backendService.get(u,"api/productos/"+s)}}return _.\u0275fac=function(s){return new(s||_)(n.LFG(p.k))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},2777:(v,g,o)=>{o.d(g,{x:()=>_});var n=o(2223),p=o(8980);const r="URImsUsuarios";let _=(()=>{class a{constructor(t){this.backendService=t}crearPublicacion(t){return this.backendService.post(r,"api/publicacion",t)}getPublicaciones(t={}){return this.backendService.get(r,"api/publicaciones",t)}getMisPublicaciones(){return this.backendService.get(r,"api/misPublicaciones")}getPublicacion(t){return this.backendService.get(r,"api/publicacion/"+t)}getImagen(t){return"http://localhost:8080/api/getImage/"+t}}return a.\u0275fac=function(t){return new(t||a)(n.LFG(p.k))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},6247:(v,g,o)=>{o.d(g,{_:()=>m});var n=o(2223),p=o(5226),u=o.n(p),r=o(8628),_=o(430),a=o(1728),s=o(6012),t=o(4755);function C(l,P){1&l&&(n.TgZ(0,"mat-icon",11),n._uU(1,"star"),n.qZA())}function d(l,P){1&l&&(n.TgZ(0,"mat-icon",12),n._uU(1,"star"),n.qZA())}function O(l,P){if(1&l){const i=n.EpF();n.TgZ(0,"img",13),n.NdJ("click",function(){const f=n.CHM(i).$implicit,h=n.oxw();return n.KtG(h.zoomImage(f))}),n.qZA()}if(2&l){const i=P.$implicit,c=n.oxw();n.Q6J("src",c.getImage(i),n.LSH)}}function e(l,P){if(1&l){const i=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(){const f=n.CHM(i).$implicit,h=n.oxw();return n.KtG(h.changeEstadoDonacion(h.donacion,f.status))}),n.TgZ(1,"mat-icon"),n._uU(2),n.qZA(),n._uU(3),n.qZA()}if(2&l){const i=P.$implicit;n.Q6J("color",i.color)("disabled",i.disabled),n.xp6(2),n.Oqu(i.icon),n.xp6(1),n.hij(" ",i.name," ")}}let m=(()=>{class l{constructor(i){this.donacionesService=i,this.buttons=[],this.statusChanged=new n.vpe,this.caracteristicas=""}ngOnInit(){console.log(this.donacion,this.usuarioHeader,this.donacion.caracteristicaDonacion);for(const[i,c]of this.donacion.caracteristicaDonacion.entries())c.caracteristica&&0==i?this.caracteristicas=c.caracteristica:c.caracteristica&&(this.caracteristicas+=" - "+c.caracteristica)}getImage(i){return this.donacionesService.getImagen(i)}zoomImage(i){i&&u().fire({html:`<img src="${this.getImage(i)}" style="width: 100%"/>`,showConfirmButton:!1,showCloseButton:!0})}changeEstadoDonacion(i,c){this.donacionesService.cambiarEstadoDonacion(this.id_colecta,i.idDonacion,{nuevoEstado:c}).subscribe(M=>{console.log(M),this.donacion.estadoDonacion=c,this.statusChanged.emit()})}getStars(i){const c=[];for(let M=0;M<i;M++)c.push(1);return c}}return l.\u0275fac=function(i){return new(i||l)(n.Y36(r.M))},l.\u0275cmp=n.Xpm({type:l,selectors:[["app-card-donacion"]],inputs:{donacion:"donacion",id_colecta:"id_colecta",usuarioHeader:"usuarioHeader",buttons:"buttons"},outputs:{statusChanged:"statusChanged"},decls:22,vars:14,consts:[[2,"margin","10px"],[2,"border-bottom","solid 1px var(--light-grey)"],["mat-card-avatar","",1,"donacion-example-header-image"],["color","primary",4,"ngFor","ngForOf"],["class","empty-star",4,"ngFor","ngForOf"],[1,"donacion-card-content"],[1,"card-title"],[1,"imagenes"],[3,"src","click",4,"ngFor","ngForOf"],[1,"donacion-status"],["mat-raised-button","",3,"color","disabled","click",4,"ngFor","ngForOf"],["color","primary"],[1,"empty-star"],[3,"src","click"],["mat-raised-button","",3,"color","disabled","click"]],template:function(i,c){1&i&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header",1),n._UZ(2,"div",2),n.TgZ(3,"mat-card-title"),n._uU(4),n.qZA(),n.TgZ(5,"mat-card-subtitle"),n.YNc(6,C,2,0,"mat-icon",3),n.YNc(7,d,2,0,"mat-icon",4),n.qZA()(),n.TgZ(8,"mat-card-content",5)(9,"div")(10,"h2",6),n._uU(11),n.qZA(),n.TgZ(12,"p"),n._uU(13),n.qZA(),n.TgZ(14,"p"),n._uU(15),n.qZA(),n.TgZ(16,"p"),n._uU(17),n.qZA()(),n.TgZ(18,"div",7),n.YNc(19,O,1,1,"img",8),n.qZA(),n.TgZ(20,"div",9),n.YNc(21,e,4,4,"button",10),n.qZA()()()),2&i&&(n.xp6(4),n.AsE("",c.usuarioHeader.nombre," ",c.usuarioHeader.apellido,""),n.xp6(2),n.Q6J("ngForOf",c.getStars(c.usuarioHeader.puntaje)),n.xp6(1),n.Q6J("ngForOf",c.getStars(5-c.usuarioHeader.puntaje)),n.xp6(4),n.Oqu(c.donacion.producto.descripcion||c.donacion.nombreProducto),n.xp6(2),n.hij("Cantidad: ",c.donacion.cantidadDonacion,""),n.xp6(1),n.ekj("aprobada","APROBADA"==c.donacion.estadoDonacion)("rechazada","RECHAZADA"==c.donacion.estadoDonacion),n.xp6(1),n.hij("Estado: ",c.donacion.estadoDonacion,""),n.xp6(2),n.Oqu(c.caracteristicas.length>0?"Caracter\xedsticas: "+c.caracteristicas:""),n.xp6(2),n.Q6J("ngForOf",c.donacion.parsedImagenes),n.xp6(2),n.Q6J("ngForOf",c.buttons))},dependencies:[_.Hw,a.lW,s.a8,s.kc,s.dn,s.dk,s.$j,s.n5,t.sg],styles:[".donacion-example-header-image[_ngcontent-%COMP%]{background-image:url(persona.5bfdedb8d26ee878.png);background-size:cover}.donacion-card-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 2fr 1fr;gap:1rem;margin-top:10px}.donacion-card-content[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:65px;margin:5px;border-radius:5px;box-shadow:2px 2px 5px var(--dark-grey)}.donacion-card-content[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.donacion-card-content[_ngcontent-%COMP%]   .donacion-status[_ngcontent-%COMP%]{display:flex;flex-direction:column}.donacion-card-content[_ngcontent-%COMP%]   .donacion-status[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px auto;width:150px;text-transform:uppercase}.donacion-card-content[_ngcontent-%COMP%]   .aprobada[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500}.donacion-card-content[_ngcontent-%COMP%]   .rechazada[_ngcontent-%COMP%]{color:var(--warn-color)}"]}),l})()},8719:(v,g,o)=>{o.d(g,{G:()=>C});var n=o(2223),p=o(2777),u=o(1531),r=o(4755);function _(d,O){if(1&d&&n._UZ(0,"img",10),2&d){const e=n.oxw().$implicit,m=n.oxw();n.Q6J("src",m.getImagen(e.parsedImagenes[0]),n.LSH)("ngClass","publicaciones"==m.origin?"big":"small")}}function a(d,O){if(1&d&&(n.TgZ(0,"div",11),n._uU(1),n.qZA()),2&d){const e=n.oxw().$implicit;n.xp6(1),n.hij(" Precio de venta: $",e.precioVenta," ")}}function s(d,O){if(1&d&&(n.TgZ(0,"div",12),n._UZ(1,"img",13),n.TgZ(2,"h4"),n._uU(3),n.qZA(),n.TgZ(4,"h6"),n._uU(5),n.ALo(6,"date"),n.qZA()()),2&d){const e=n.oxw().$implicit;n.xp6(3),n.Oqu(e.particularDTO.nombre+" "+e.particularDTO.apellido),n.xp6(2),n.Oqu(n.xi3(6,2,e.fechaPublicacion,"dd/MM/yyyy"))}}function t(d,O){if(1&d){const e=n.EpF();n.TgZ(0,"div",2),n.NdJ("click",function(){const P=n.CHM(e).$implicit,i=n.oxw();return n.KtG(i.clicked(P))}),n.TgZ(1,"div",3),n.YNc(2,_,1,2,"img",4),n.qZA(),n.TgZ(3,"div",5)(4,"h2",6),n._uU(5),n.qZA(),n.TgZ(6,"div",7),n._uU(7),n.qZA(),n.YNc(8,a,2,1,"div",8),n.qZA(),n.YNc(9,s,7,5,"div",9),n.qZA()}if(2&d){const e=O.$implicit,m=n.oxw();n.Q6J("ngClass","intercambio"==m.origin&&e.idPublicacion==m.cardSelected?"selected-card":""),n.xp6(2),n.Q6J("ngIf",e.parsedImagenes&&e.parsedImagenes.length>0),n.xp6(3),n.Oqu(e.titulo),n.xp6(2),n.AsE(" Valor de trueque: $",e.valorTruequeMin," - $",e.valorTruequeMax," "),n.xp6(1),n.Q6J("ngIf","VENTA"==e.tipoPublicacion),n.xp6(1),n.Q6J("ngIf","publicaciones"==m.origin)}}let C=(()=>{class d{constructor(e,m){this.truequesService=e,this.router=m,this.publicacionesToShow=[],this.origin="publicaciones",this.selectedCard=new n.vpe}getImagen(e){return this.truequesService.getImagen(e)}clicked(e){"publicaciones"==this.origin?this.goToPublicacion(e):(this.cardSelected=e.idPublicacion,this.selectedCard.emit(this.cardSelected))}goToPublicacion(e){this.router.navigate(["publicacion/"+e.idPublicacion])}}return d.\u0275fac=function(e){return new(e||d)(n.Y36(p.x),n.Y36(u.F0))},d.\u0275cmp=n.Xpm({type:d,selectors:[["app-deck-publicaciones"]],inputs:{publicacionesToShow:"publicacionesToShow",origin:"origin"},outputs:{selectedCard:"selectedCard"},decls:2,vars:1,consts:[[1,"card-deck"],["class","card row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card","row",3,"ngClass","click"],[1,"col-sm-4",2,"display","flex","justify-content","center"],["class","card-img",3,"src","ngClass",4,"ngIf"],[1,"card-body","col-sm-6"],[1,"card-title"],[1,"trueque"],["class","venta",4,"ngIf"],["class","card-fundacion col-sm-2",4,"ngIf"],[1,"card-img",3,"src","ngClass"],[1,"venta"],[1,"card-fundacion","col-sm-2"],["src","assets/persona.png",1,"img-fundacion"]],template:function(e,m){1&e&&(n.TgZ(0,"div",0),n.YNc(1,t,10,7,"div",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",m.publicacionesToShow))},dependencies:[r.mk,r.sg,r.O5,r.uU],styles:[".card[_ngcontent-%COMP%]{margin:5px;display:flex;flex-direction:row;align-items:center}.card.selected-card[_ngcontent-%COMP%]{background-color:#bceba1}.card[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{margin:20px;width:auto}.card[_ngcontent-%COMP%]   .card-img.big[_ngcontent-%COMP%]{max-height:160px}.card[_ngcontent-%COMP%]   .card-img.small[_ngcontent-%COMP%]{max-height:110px;max-width:100%}.card[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.card[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]{margin:5px 10px;min-width:100px}.card[_ngcontent-%COMP%]   .card-fundacion[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]   .card-fundacion[_ngcontent-%COMP%]   .img-fundacion[_ngcontent-%COMP%]{width:30px}"]}),d})()},4984:(v,g,o)=>{o.d(g,{O:()=>_});var n=o(2223),p=o(8467),u=o(4755);function r(a,s){1&a&&n._UZ(0,"mat-spinner",2)}let _=(()=>{class a{constructor(){this.loading=!1}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-spinner"]],inputs:{loading:"loading"},decls:2,vars:1,consts:[[2,"display","flex","justify-content","center"],["diameter","40",4,"ngIf"],["diameter","40"]],template:function(t,C){1&t&&(n.TgZ(0,"div",0),n.YNc(1,r,1,0,"mat-spinner",1),n.qZA()),2&t&&(n.xp6(1),n.Q6J("ngIf",C.loading))},dependencies:[p.Ou,u.O5]}),a})()}}]);