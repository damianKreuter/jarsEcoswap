"use strict";(self.webpackChunkapp_eco_swap=self.webpackChunkapp_eco_swap||[]).push([[592],{9499:(h,m,e)=>{e.d(m,{O:()=>t});var n=e(4755),p=e(2100),d=e(9401),u=e(3148),c=e(4466),_=e(2223);let t=(()=>{class l{}return l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=_.oAB({type:l}),l.\u0275inj=_.cJS({imports:[n.ez,p.q,u.IJ,d.u5,d.UX,c.m]}),l})()},8628:(h,m,e)=>{e.d(m,{M:()=>_});var n=e(2340),p=e(2223),d=e(1562);const u=n.N.apiUrl+"8080/",c="URImsUsuarios";let _=(()=>{class t{constructor(r){this.backendService=r}crearColecta(r){return this.backendService.post(c,"api/colecta",r)}getAllColectas(r){return this.backendService.get(c,"api/colectas",r)}getMisColectas(){return this.backendService.get(c,"api/misColectas")}getColecta(r){return this.backendService.get(c,"api/colecta/"+r)}getDonacionesColecta(r){return this.backendService.get(c,"api/colecta/"+r+"/donaciones")}getMisDonaciones(){return this.backendService.get(c,"api/particular/misDonaciones")}crearDonacion(r,s){return this.backendService.post(c,"api/colecta/"+r+"/crearDonacion",s)}getImagen(r){return`${u}api/getImage/${r}`}cambiarEstadoDonacion(r,s,P){return this.backendService.put(c,"api/colecta/"+r+"/donaciones/"+s,P)}}return t.\u0275fac=function(r){return new(r||t)(p.LFG(d.k))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},4893:(h,m,e)=>{e.d(m,{k:()=>u});var n=e(2223),p=e(1562);const d="URImsUsuarios";let u=(()=>{class c{constructor(t){this.backendService=t}getTiposProductos(){return this.backendService.get(d,"api/tiposProductos")}getProductosColecta(t){return this.backendService.get(d,"api/productos/"+t)}}return c.\u0275fac=function(t){return new(t||c)(n.LFG(p.k))},c.\u0275prov=n.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},2777:(h,m,e)=>{e.d(m,{x:()=>u});var n=e(2223),p=e(1562);const d="URImsUsuarios";let u=(()=>{class c{constructor(t){this.backendService=t}crearPublicacion(t){return this.backendService.post(d,"api/publicacion",t)}getPublicaciones(t={}){return this.backendService.get(d,"api/publicaciones",t)}getMisPublicaciones(){return this.backendService.get(d,"api/misPublicaciones")}getPublicacion(t){return this.backendService.get(d,"api/publicacion/"+t)}getImagen(t){return this.backendService.getUrlByName(d)+"api/getImage/"+t}}return c.\u0275fac=function(t){return new(t||c)(n.LFG(p.k))},c.\u0275prov=n.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},6247:(h,m,e)=>{e.d(m,{_:()=>C});var n=e(2223),p=e(5226),d=e.n(p),u=e(8628),c=e(430),_=e(1728),t=e(6012),l=e(4755);function r(g,v){1&g&&(n.TgZ(0,"mat-icon",12),n._uU(1,"star"),n.qZA())}function s(g,v){1&g&&(n.TgZ(0,"mat-icon",13),n._uU(1,"star"),n.qZA())}function P(g,v){if(1&g){const i=n.EpF();n.TgZ(0,"img",14),n.NdJ("click",function(){const f=n.CHM(i).$implicit,M=n.oxw();return n.KtG(M.zoomImage(f))}),n.qZA()}if(2&g){const i=v.$implicit,a=n.oxw();n.Q6J("src",a.getImage(i),n.LSH)}}function o(g,v){if(1&g){const i=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){const f=n.CHM(i).$implicit,M=n.oxw();return n.KtG(M.changeEstadoDonacion(M.donacion,f.status))}),n.TgZ(1,"mat-icon"),n._uU(2),n.qZA(),n._uU(3),n.qZA()}if(2&g){const i=v.$implicit;n.Q6J("color",i.color)("disabled",i.disabled),n.xp6(2),n.Oqu(i.icon),n.xp6(1),n.hij(" ",i.name," ")}}let C=(()=>{class g{constructor(i){this.donacionesService=i,this.buttons=[],this.statusChanged=new n.vpe,this.caracteristicas=""}ngOnInit(){for(const[i,a]of this.donacion.caracteristicaDonacion.entries())a.caracteristica&&0==i?this.caracteristicas=a.caracteristica:a.caracteristica&&(this.caracteristicas+=" - "+a.caracteristica)}getImage(i){return this.donacionesService.getImagen(i)}zoomImage(i){i&&d().fire({html:`<img src="${this.getImage(i)}" style="width: 100%"/>`,showConfirmButton:!1,showCloseButton:!0})}changeEstadoDonacion(i,a){let O="",f="",M="",E="",b="",D="warning";switch(a){case"CANCELADA":O="Confirmar Cancelaci\xf3n",f="\xbfEst\xe1s seguro/a que quer\xe9s cancelar esta donaci\xf3n? La acci\xf3n es irreversible, pero podr\xe1s crear otra donaci\xf3n luego.",b="S\xed, cancelar donaci\xf3n",E="No, mantener donaci\xf3n",D="warning";break;case"ACEPTADA":O="Confirmar Aprobaci\xf3n",f="Confirm\xe1 que acept\xe1s la donaci\xf3n. Esta acci\xf3n es irreversible ya que comenzar\xe1 con el proceso de env\xedo.",M="S\xed, aceptar donaci\xf3n",E="No, cancelar",D="warning";break;case"RECHAZADA":O="Confirmar Rechazo",f="\xbfEst\xe1s seguro/a que quer\xe9s rechazar esta donaci\xf3n? La acci\xf3n es irreversible.",b="S\xed, rechazar donaci\xf3n",E="No, cancelar",D="warning";break;default:O="Confirmar Acci\xf3n",f="Cambiar el estado de la donaci\xf3n es irreversible, \xbfEst\xe1s seguro/a que quer\xe9s continuar?",M="S\xed, continuar",E="No, cancelar",D="warning"}d().fire({title:O,text:f,showConfirmButton:""!=M,confirmButtonText:M,showDenyButton:""!=b,denyButtonText:b,showCancelButton:""!=E,cancelButtonText:E,icon:D,reverseButtons:!0}).then(({isConfirmed:T,isDenied:x})=>{(T||x)&&this.donacionesService.cambiarEstadoDonacion(this.id_colecta,i.idDonacion,{nuevoEstado:a}).subscribe({next:A=>{console.log(A),this.donacion.estadoDonacion=a,this.statusChanged.emit()}})})}getStars(i){const a=[];for(let O=0;O<i;O++)a.push(1);return a}}return g.\u0275fac=function(i){return new(i||g)(n.Y36(u.M))},g.\u0275cmp=n.Xpm({type:g,selectors:[["app-card-donacion"]],inputs:{donacion:"donacion",id_colecta:"id_colecta",usuarioHeader:"usuarioHeader",buttons:"buttons"},outputs:{statusChanged:"statusChanged"},decls:25,vars:18,consts:[[2,"margin","10px"],[1,"header"],["mat-card-avatar","",1,"donacion-example-header-image"],["color","primary",4,"ngFor","ngForOf"],["class","empty-star",4,"ngFor","ngForOf"],[2,"text-align","right"],[1,"donacion-card-content"],[1,"card-title"],[1,"imagenes"],[3,"src","click",4,"ngFor","ngForOf"],[1,"donacion-status"],["mat-raised-button","",3,"color","disabled","click",4,"ngFor","ngForOf"],["color","primary"],[1,"empty-star"],[3,"src","click"],["mat-raised-button","",3,"color","disabled","click"]],template:function(i,a){1&i&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header",1),n._UZ(2,"div",2),n.TgZ(3,"mat-card-title"),n._uU(4),n.qZA(),n.TgZ(5,"mat-card-subtitle"),n.YNc(6,r,2,0,"mat-icon",3),n.YNc(7,s,2,0,"mat-icon",4),n.qZA(),n.TgZ(8,"div",5),n._uU(9),n.ALo(10,"date"),n.qZA()(),n.TgZ(11,"mat-card-content",6)(12,"div")(13,"h2",7),n._uU(14),n.qZA(),n.TgZ(15,"p"),n._uU(16),n.qZA(),n.TgZ(17,"p"),n._uU(18),n.qZA(),n.TgZ(19,"p"),n._uU(20),n.qZA()(),n.TgZ(21,"div",8),n.YNc(22,P,1,1,"img",9),n.qZA(),n.TgZ(23,"div",10),n.YNc(24,o,4,4,"button",11),n.qZA()()()),2&i&&(n.xp6(4),n.AsE("",a.usuarioHeader.nombre," ",a.usuarioHeader.apellido,""),n.xp6(2),n.Q6J("ngForOf",a.getStars(a.usuarioHeader.puntaje)),n.xp6(1),n.Q6J("ngForOf",a.getStars(5-a.usuarioHeader.puntaje)),n.xp6(2),n.Oqu(n.xi3(10,15,a.donacion.fechaDonacion,"dd/MM/yyyy")),n.xp6(5),n.Oqu(a.donacion.producto.descripcion||a.donacion.nombreProducto),n.xp6(2),n.hij("Cantidad: ",a.donacion.cantidadDonacion,""),n.xp6(1),n.ekj("aprobada","APROBADA"==a.donacion.estadoDonacion)("rechazada","RECHAZADA"==a.donacion.estadoDonacion),n.xp6(1),n.hij("Estado: ",a.donacion.estadoDonacion,""),n.xp6(2),n.Oqu(a.caracteristicas.length>0?"Caracter\xedsticas: "+a.caracteristicas:""),n.xp6(2),n.Q6J("ngForOf",a.donacion.parsedImagenes),n.xp6(2),n.Q6J("ngForOf",a.buttons))},dependencies:[c.Hw,_.lW,t.a8,t.kc,t.dn,t.dk,t.$j,t.n5,l.sg,l.uU],styles:[".header[_ngcontent-%COMP%]{border-bottom:solid 1px var(--light-grey);display:grid;grid-template-columns:.5fr 3fr 3fr}.donacion-example-header-image[_ngcontent-%COMP%]{background-image:url(persona.5bfdedb8d26ee878.png);background-size:cover}.donacion-card-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 2fr 1fr;gap:1rem;margin-top:10px}.donacion-card-content[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:65px;margin:5px;border-radius:5px;box-shadow:2px 2px 5px var(--dark-grey)}.donacion-card-content[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.donacion-card-content[_ngcontent-%COMP%]   .donacion-status[_ngcontent-%COMP%]{display:flex;flex-direction:column}.donacion-card-content[_ngcontent-%COMP%]   .donacion-status[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px auto;width:150px;text-transform:uppercase}.donacion-card-content[_ngcontent-%COMP%]   .aprobada[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500}.donacion-card-content[_ngcontent-%COMP%]   .rechazada[_ngcontent-%COMP%]{color:var(--warn-color)}@media (min-width: 0px) and (max-width: 576px){.header[_ngcontent-%COMP%], .donacion-card-content[_ngcontent-%COMP%]{grid-template-columns:1fr!important;justify-items:center}.header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .donacion-card-content[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{text-align:center}}"]}),g})()},8719:(h,m,e)=>{e.d(m,{G:()=>r});var n=e(2223),p=e(2777),d=e(1531),u=e(4755);function c(s,P){if(1&s&&n._UZ(0,"img",10),2&s){const o=n.oxw().$implicit,C=n.oxw();n.Q6J("src",C.getImagen(o.parsedImagenes[0]),n.LSH)("ngClass","publicaciones"==C.origin?"big":"small")}}function _(s,P){if(1&s&&(n.TgZ(0,"div",11),n._uU(1),n.qZA()),2&s){const o=n.oxw().$implicit;n.xp6(1),n.hij(" Precio de venta: $",o.precioVenta," ")}}function t(s,P){if(1&s&&(n.TgZ(0,"div",12),n._UZ(1,"img",13),n.TgZ(2,"h4"),n._uU(3),n.qZA(),n.TgZ(4,"h6"),n._uU(5),n.ALo(6,"date"),n.qZA()()),2&s){const o=n.oxw().$implicit;n.xp6(3),n.Oqu(o.particularDTO.nombre+" "+o.particularDTO.apellido),n.xp6(2),n.Oqu(n.xi3(6,2,o.fechaPublicacion,"dd/MM/yyyy"))}}function l(s,P){if(1&s){const o=n.EpF();n.TgZ(0,"div",2),n.NdJ("click",function(){const v=n.CHM(o).$implicit,i=n.oxw();return n.KtG(i.clicked(v))}),n.TgZ(1,"div",3),n.YNc(2,c,1,2,"img",4),n.qZA(),n.TgZ(3,"div",5)(4,"h2",6),n._uU(5),n.qZA(),n.TgZ(6,"div",7),n._uU(7),n.qZA(),n.YNc(8,_,2,1,"div",8),n.qZA(),n.YNc(9,t,7,5,"div",9),n.qZA()}if(2&s){const o=P.$implicit,C=n.oxw();n.Q6J("ngClass","intercambio"==C.origin&&o.idPublicacion==C.cardSelected?"selected-card":""),n.xp6(2),n.Q6J("ngIf",o.parsedImagenes&&o.parsedImagenes.length>0),n.xp6(3),n.Oqu(o.titulo),n.xp6(2),n.AsE(" Valor de trueque: $",o.valorTruequeMin," - $",o.valorTruequeMax," "),n.xp6(1),n.Q6J("ngIf","VENTA"==o.tipoPublicacion),n.xp6(1),n.Q6J("ngIf","publicaciones"==C.origin)}}let r=(()=>{class s{constructor(o,C){this.truequesService=o,this.router=C,this.publicacionesToShow=[],this.origin="publicaciones",this.selectedCard=new n.vpe}getImagen(o){return this.truequesService.getImagen(o)}clicked(o){"publicaciones"==this.origin?this.goToPublicacion(o):(this.cardSelected=o.idPublicacion,this.selectedCard.emit(this.cardSelected))}goToPublicacion(o){this.router.navigate(["publicacion/"+o.idPublicacion])}}return s.\u0275fac=function(o){return new(o||s)(n.Y36(p.x),n.Y36(d.F0))},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-deck-publicaciones"]],inputs:{publicacionesToShow:"publicacionesToShow",origin:"origin"},outputs:{selectedCard:"selectedCard"},decls:2,vars:1,consts:[[1,"card-deck"],["class","card row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card","row",3,"ngClass","click"],[1,"col-sm-4",2,"display","flex","justify-content","center"],["class","card-img",3,"src","ngClass",4,"ngIf"],[1,"card-body","col-sm-6"],[1,"card-title"],[1,"trueque"],["class","venta",4,"ngIf"],["class","card-fundacion col-sm-2",4,"ngIf"],[1,"card-img",3,"src","ngClass"],[1,"venta"],[1,"card-fundacion","col-sm-2"],["src","assets/persona.png",1,"img-fundacion"]],template:function(o,C){1&o&&(n.TgZ(0,"div",0),n.YNc(1,l,10,7,"div",1),n.qZA()),2&o&&(n.xp6(1),n.Q6J("ngForOf",C.publicacionesToShow))},dependencies:[u.mk,u.sg,u.O5,u.uU],styles:[".card[_ngcontent-%COMP%]{margin:5px;display:flex;flex-direction:row;align-items:center}.card.selected-card[_ngcontent-%COMP%]{background-color:#bceba1}.card[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{margin:20px;width:auto}.card[_ngcontent-%COMP%]   .card-img.big[_ngcontent-%COMP%]{max-height:160px}.card[_ngcontent-%COMP%]   .card-img.small[_ngcontent-%COMP%]{max-height:110px;max-width:100%}.card[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.card[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]{margin:5px 10px;min-width:100px}.card[_ngcontent-%COMP%]   .card-fundacion[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]   .card-fundacion[_ngcontent-%COMP%]   .img-fundacion[_ngcontent-%COMP%]{width:30px}"]}),s})()},4984:(h,m,e)=>{e.d(m,{O:()=>c});var n=e(2223),p=e(8467),d=e(4755);function u(_,t){1&_&&n._UZ(0,"mat-spinner",2)}let c=(()=>{class _{constructor(){this.loading=!1}}return _.\u0275fac=function(l){return new(l||_)},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-spinner"]],inputs:{loading:"loading"},decls:2,vars:1,consts:[[2,"display","flex","justify-content","center"],["diameter","40",4,"ngIf"],["diameter","40"]],template:function(l,r){1&l&&(n.TgZ(0,"div",0),n.YNc(1,u,1,0,"mat-spinner",1),n.qZA()),2&l&&(n.xp6(1),n.Q6J("ngIf",r.loading))},dependencies:[p.Ou,d.O5]}),_})()}}]);