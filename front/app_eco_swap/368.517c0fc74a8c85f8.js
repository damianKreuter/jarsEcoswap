"use strict";(self.webpackChunkapp_eco_swap=self.webpackChunkapp_eco_swap||[]).push([[368],{2368:(Co,Z,s)=>{s.r(Z),s.d(Z,{RegistroModule:()=>To});var g=s(4755),T=s(1531),n=s(9401),v=s(1217),A=s(5226),d=s.n(A),w=s(6266),o=s(2223),I=s(5763),q=s(4377),P=s(2342),b=s(8954),U=s(4212),_=s(9114),D=s(430),O=s(9609),N=s(1728),R=s(787),C=s(8280),p=s(6012),y=s(7876);function J(t,i){if(1&t&&(o.TgZ(0,"div")(1,"mat-card-title"),o._uU(2,"Registrate!"),o.qZA(),o.TgZ(3,"mat-card-subtitle"),o._uU(4),o.qZA()()),2&t){const e=o.oxw(2);o.xp6(4),o.hij("Complet\xe1 ",e.isSwapper?"tus datos":"los datos de la fundaci\xf3n"," para crear tu cuenta")}}function M(t,i){if(1&t&&(o.TgZ(0,"div")(1,"mat-card-title"),o._uU(2,"Actualizar contrase\xf1a"),o.qZA(),o.TgZ(3,"mat-card-subtitle"),o._uU(4),o.qZA()()),2&t){const e=o.oxw(2);o.xp6(4),o.hij("Complet\xe1 ",e.isSwapper?"tus datos":"los datos de la fundaci\xf3n"," para actualizar tu contrase\xf1a")}}function E(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function Y(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Email inv\xe1lido "),o.qZA())}function Q(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function S(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," El formato debe ser 11 1234-5678 "),o.qZA())}function k(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Tel\xe9fono"),o.qZA(),o.TgZ(3,"input",18),o.NdJ("keyup",function(){o.CHM(e);const a=o.oxw(2);return o.KtG(a.formatearTelefono())}),o.qZA(),o.TgZ(4,"mat-hint"),o._uU(5,"Formato: 11 1234-5678"),o.qZA(),o.YNc(6,Q,2,0,"mat-error",9),o.YNc(7,S,2,0,"mat-error",9),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(3),o.Q6J("ngModel",e.mainForm.get("telefono").value),o.xp6(3),o.Q6J("ngIf",e.mainForm.get("telefono").hasError("required")),o.xp6(1),o.Q6J("ngIf",e.mainForm.get("telefono").hasError("formatoInvalido"))}}function V(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function G(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Las contrase\xf1as no coinciden "),o.qZA())}function B(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Debe tener de 8 a 32 caracteres y al menos 1 min\xfascula, 1 may\xfascula, 1 n\xfamero y 1 caracter especial. "),o.qZA())}function K(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function z(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Las contrase\xf1as no coinciden "),o.qZA())}function $(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function j(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function H(t,i){if(1&t&&(o.TgZ(0,"mat-option",28),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.Q6J("value",e.nombre),o.xp6(1),o.hij(" ",e.descripcion," ")}}function L(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function W(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function X(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Formato inv\xe1lido "),o.qZA())}function oo(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function ro(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"form",6)(1,"div",7)(2,"mat-form-field")(3,"mat-label"),o._uU(4,"Nombre"),o.qZA(),o._UZ(5,"input",19),o.YNc(6,$,2,0,"mat-error",9),o.qZA()(),o.TgZ(7,"div",7)(8,"mat-form-field")(9,"mat-label"),o._uU(10,"Apellido"),o.qZA(),o._UZ(11,"input",20),o.YNc(12,j,2,0,"mat-error",9),o.qZA()(),o.TgZ(13,"div",7)(14,"mat-form-field")(15,"mat-label"),o._uU(16,"Tipo Documento"),o.qZA(),o.TgZ(17,"mat-select",21),o.NdJ("selectionChange",function(a){o.CHM(e);const m=o.oxw(2);return o.KtG(m.formatDocument(a))}),o.YNc(18,H,2,2,"mat-option",22),o.qZA(),o.YNc(19,L,2,0,"mat-error",9),o.qZA()(),o.TgZ(20,"div",7)(21,"mat-form-field")(22,"mat-label"),o._uU(23,"N\xfamero de Documento"),o.qZA(),o._UZ(24,"input",23),o.YNc(25,W,2,0,"mat-error",9),o.YNc(26,X,2,0,"mat-error",9),o.qZA()(),o.TgZ(27,"div",7)(28,"mat-form-field",24)(29,"mat-label"),o._uU(30,"Fecha de Nacimiento"),o.qZA(),o._UZ(31,"input",25),o.TgZ(32,"mat-hint"),o._uU(33,"DD/MM/YYYY"),o.qZA(),o._UZ(34,"mat-datepicker-toggle",26)(35,"mat-datepicker",null,27),o.YNc(37,oo,2,0,"mat-error",9),o.qZA()()()}if(2&t){const e=o.MAs(36),r=o.oxw(2);o.Q6J("formGroup",r.particularForm),o.xp6(6),o.Q6J("ngIf",r.particularForm.get("nombre").hasError("required")),o.xp6(6),o.Q6J("ngIf",r.particularForm.get("apellido").hasError("required")),o.xp6(6),o.Q6J("ngForOf",r.tiposDocumento),o.xp6(1),o.Q6J("ngIf",r.particularForm.get("tipoDocumento").hasError("required")),o.xp6(6),o.Q6J("ngIf",r.particularForm.get("nroDocumento").hasError("required")),o.xp6(1),o.Q6J("ngIf",r.particularForm.get("nroDocumento").hasError("pattern")),o.xp6(5),o.Q6J("matDatepicker",e),o.xp6(3),o.Q6J("for",e),o.xp6(3),o.Q6J("ngIf",r.particularForm.get("fechaNacimiento").hasError("required"))}}function to(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function eo(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function ao(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," CUIT inv\xe1lido "),o.qZA())}function io(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"form",6)(1,"div",7)(2,"mat-form-field")(3,"mat-label"),o._uU(4,"Nombre / Raz\xf3n Social"),o.qZA(),o._UZ(5,"input",19),o.YNc(6,to,2,0,"mat-error",9),o.qZA()(),o.TgZ(7,"div",7)(8,"mat-form-field")(9,"mat-label"),o._uU(10,"CUIT"),o.qZA(),o.TgZ(11,"input",29),o.NdJ("keyup",function(){o.CHM(e);const a=o.oxw(2);return o.KtG(a.formatearCUIT())}),o.qZA(),o.TgZ(12,"mat-hint"),o._uU(13,"Formato: 20-12345678-9"),o.qZA(),o.YNc(14,eo,2,0,"mat-error",9),o.YNc(15,ao,2,0,"mat-error",9),o.qZA()()()}if(2&t){const e=o.oxw(2);o.Q6J("formGroup",e.fundacionForm),o.xp6(6),o.Q6J("ngIf",e.fundacionForm.get("nombre").hasError("required")),o.xp6(8),o.Q6J("ngIf",e.fundacionForm.get("cuit").hasError("required")),o.xp6(1),o.Q6J("ngIf",e.fundacionForm.get("cuit").hasError("invalidCUIT"))}}function no(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function so(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function mo(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function co(t,i){if(1&t&&(o.TgZ(0,"form",6)(1,"div",7)(2,"mat-form-field")(3,"mat-label"),o._uU(4,"Calle"),o.qZA(),o._UZ(5,"input",30),o.YNc(6,no,2,0,"mat-error",9),o.qZA()(),o.TgZ(7,"div",7)(8,"mat-form-field")(9,"mat-label"),o._uU(10,"Altura"),o.qZA(),o._UZ(11,"input",31),o.YNc(12,so,2,0,"mat-error",9),o.qZA()(),o.TgZ(13,"div",7)(14,"mat-form-field")(15,"mat-label"),o._uU(16,"Piso"),o.qZA(),o._UZ(17,"input",32),o.qZA()(),o.TgZ(18,"div",7)(19,"mat-form-field")(20,"mat-label"),o._uU(21,"Departamento"),o.qZA(),o._UZ(22,"input",33),o.qZA()(),o.TgZ(23,"div",7)(24,"mat-form-field")(25,"mat-label"),o._uU(26,"C\xf3digo Postal"),o.qZA(),o._UZ(27,"input",34),o.YNc(28,mo,2,0,"mat-error",9),o.qZA()()()),2&t){const e=o.oxw(2);o.Q6J("formGroup",e.direccionForm),o.xp6(6),o.Q6J("ngIf",e.direccionForm.get("direccion").hasError("required")),o.xp6(6),o.Q6J("ngIf",e.direccionForm.get("altura").hasError("required")),o.xp6(16),o.Q6J("ngIf",e.direccionForm.get("codigoPostal").hasError("required"))}}function lo(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"mat-card",3)(1,"mat-card-header"),o.YNc(2,J,5,1,"div",4),o.YNc(3,M,5,1,"ng-template",null,5,o.W1O),o.qZA(),o.TgZ(5,"mat-card-content")(6,"form",6)(7,"div",7)(8,"mat-form-field")(9,"mat-label"),o._uU(10,"Email"),o.qZA(),o._UZ(11,"input",8),o.YNc(12,E,2,0,"mat-error",9),o.YNc(13,Y,2,0,"mat-error",9),o.qZA()(),o.TgZ(14,"div",10),o.YNc(15,k,8,3,"mat-form-field",9),o.qZA(),o.TgZ(16,"div",10)(17,"mat-form-field")(18,"mat-label"),o._uU(19,"Contrase\xf1a"),o.qZA(),o.TgZ(20,"input",11),o.NdJ("change",function(){o.CHM(e);const a=o.oxw();return o.KtG(a.refreshValidity())}),o.qZA(),o.TgZ(21,"mat-icon",12),o.NdJ("click",function(){o.CHM(e);const a=o.oxw();return o.KtG(a.togglePassword())}),o._uU(22),o.qZA(),o.YNc(23,V,2,0,"mat-error",9),o.YNc(24,G,2,0,"mat-error",9),o.YNc(25,B,2,0,"mat-error",9),o.qZA()(),o.TgZ(26,"div",7)(27,"mat-form-field")(28,"mat-label"),o._uU(29,"Confirm Password"),o.qZA(),o.TgZ(30,"input",13),o.NdJ("focus",function(){o.CHM(e);const a=o.oxw();return o.KtG(a.refreshValidity())}),o.qZA(),o.TgZ(31,"mat-icon",12),o.NdJ("click",function(){o.CHM(e);const a=o.oxw();return o.KtG(a.togglePassword())}),o._uU(32),o.qZA(),o.YNc(33,K,2,0,"mat-error",9),o.YNc(34,z,2,0,"mat-error",9),o.qZA()()(),o.YNc(35,ro,38,10,"form",14),o.YNc(36,io,16,4,"form",14),o.TgZ(37,"div",15),o._uU(38,"Direcci\xf3n"),o.qZA(),o.YNc(39,co,29,4,"form",14),o.qZA(),o.TgZ(40,"mat-card-actions",16)(41,"button",17),o.NdJ("click",function(){o.CHM(e);const a=o.oxw();return a.submit(),a.mainForm.markAllAsTouched(),o.KtG(a.direccionForm.valid)}),o._uU(42),o.qZA()()()}if(2&t){const e=o.MAs(4),r=o.oxw();o.xp6(2),o.Q6J("ngIf","resetPassword"!=r.origin)("ngIfElse",e),o.xp6(4),o.Q6J("formGroup",r.mainForm),o.xp6(6),o.Q6J("ngIf",r.mainForm.get("email").hasError("required")),o.xp6(1),o.Q6J("ngIf",r.mainForm.get("email").hasError("pattern")),o.xp6(1),o.Q6J("ngClass",r.mainForm.get("telefono").hasError("formatoInvalido")?"form-input-medium-error":""),o.xp6(1),o.Q6J("ngIf","resetPassword"!=r.origin),o.xp6(1),o.Q6J("ngClass",r.mainForm.get("password").hasError("pattern")?"form-input-long-error":""),o.xp6(4),o.Q6J("type",r.passwordType),o.xp6(2),o.Oqu(r.passwordIcon),o.xp6(1),o.Q6J("ngIf",r.mainForm.get("password").hasError("required")),o.xp6(1),o.Q6J("ngIf",r.mainForm.get("password").hasError("differentPassword")&&!r.mainForm.get("password").hasError("pattern")),o.xp6(1),o.Q6J("ngIf",r.mainForm.get("password").hasError("pattern")),o.xp6(5),o.Q6J("type",r.passwordType),o.xp6(2),o.Oqu(r.passwordIcon),o.xp6(1),o.Q6J("ngIf",r.mainForm.get("confirmPassword").hasError("required")),o.xp6(1),o.Q6J("ngIf",r.mainForm.get("confirmPassword").hasError("differentPassword")),o.xp6(1),o.Q6J("ngIf",r.isSwapper&&"resetPassword"!=r.origin),o.xp6(1),o.Q6J("ngIf",!r.isSwapper&&"resetPassword"!=r.origin),o.xp6(3),o.Q6J("ngIf","resetPassword"!=r.origin),o.xp6(2),o.Q6J("disabled",!r.mainForm.valid||r.isSwapper&&!r.particularForm.valid||!r.isSwapper&&!r.fundacionForm.valid||!r.direccionForm.valid),o.xp6(1),o.hij(" ","resetPassword"==r.origin?"ACTUALIZAR CONTRASE\xd1A":"createAccount"==r.origin?"CREAR CUENTA":"GUARDAR CAMBIOS"," ")}}function po(t){const i=t.value;if(!i)return null;if(!/^\d{2}-\d{8,9}-\d{1,2}$/.test(i))return{invalidCUIT:!0};const r=i.replace(/-/g,""),a=parseInt(r.charAt(r.length-1)),m=[5,4,3,2,7,6,5,4,3,2];let l=0;for(let c=0;c<10;c++)l+=parseInt(r.charAt(c))*m[c];const u=l%11;return(0===u?0:11-u)!==a?{invalidCUIT:!0}:null}const fo=[{path:"",component:(()=>{class t{constructor(e,r,a,m,l,u,f,c,x,h){this.fb=e,this.dateAdapter=r,this.usuarioService=a,this.location=m,this.auth=l,this.router=u,this.snackbar=f,this.cdr=c,this.phoneNumberPipe=x,this.cuitPipe=h,this.isSwapper=!0,this.loading=!0,this.origin="createAccount",this.passwordIcon="visibility_off",this.passwordType="password",this.tiposDocumento=[],this.mainForm=e.group({email:["",[n.kI.required,n.kI.pattern(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)]],telefono:["",[n.kI.required,this.telefonoValidator()]],password:["",[n.kI.required,n.kI.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@#$%^&+=!*\-_.,])[a-zA-Z\d@#$%^&+=!*\-_.,]{8,32}$/),this.validarConfirmPassword()]],confirmPassword:["",[n.kI.required,this.validarConfirmPassword()]]}),this.particularForm=e.group({nombre:["",n.kI.required],apellido:["",n.kI.required],tipoDocumento:["",n.kI.required],nroDocumento:[{value:"",disabled:!0},n.kI.required],fechaNacimiento:["",n.kI.required]}),this.fundacionForm=e.group({nombre:["",n.kI.required],cuit:["",[n.kI.required,po]]}),this.direccionForm=e.group({direccion:["",n.kI.required],altura:["",n.kI.required],piso:[""],departamento:[""],codigoPostal:["",n.kI.required]}),this.screenWidth=window.innerWidth>0?window.innerWidth:screen.width,this.dateAdapter.setLocale("es-AR");const F=m.path();"/reset-password"==F?this.origin="resetPassword":"/edit-perfil"==F?(this.origin="editAccount",this.mainForm.controls.password.disable(),this.mainForm.controls.confirmPassword.disable(),this.mainForm.controls.email.disable()):this.mainForm.controls.telefono.addValidators(n.kI.required)}ngOnInit(){"createAccount"==this.origin?this.selectTipoPerfil():"editAccount"==this.origin?(this.loadUserInfo(),this.loading=!1):this.loading=!1,this.getTiposDocumentos()}ngOnDestroy(){d().close()}loadUserInfo(){this.auth.getUserID()?this.usuarioService.getUserByID(this.auth.getUserID()).subscribe({next:r=>{console.log(r),this.mainForm.patchValue({email:r.email,telefono:r.telefono}),r.particularDTO?this.particularForm.patchValue({nombre:r.particularDTO.nombre,apellido:r.particularDTO.apellido,tipoDocumento:r.particularDTO.tipoDocumento,nroDocumento:r.particularDTO.dni,fechaNacimiento:r.particularDTO.fechaNacimiento}):this.fundacionForm.patchValue({nombre:r.fundacionDTO.nombre,cuit:r.fundacionDTO.cuil}),this.direccionForm.patchValue({direccion:r.particularDTO?r.particularDTO.direcciones[0].direccion:r.fundacionDTO.direcciones[0].direccion,altura:r.particularDTO?r.particularDTO.direcciones[0].altura:r.fundacionDTO.direcciones[0].altura,piso:r.particularDTO?r.particularDTO.direcciones[0].piso:r.fundacionDTO.direcciones[0].piso,departamento:r.particularDTO?r.particularDTO.direcciones[0].departamento:r.fundacionDTO.direcciones[0].departamento,codigoPostal:r.particularDTO?r.particularDTO.direcciones[0].codigoPostal:r.fundacionDTO.direcciones[0].codigoPostal})},error:r=>{console.log("error",r)}}):d().fire("Error!","Ocurri\xf3 un error al traer tu informaci\xf3n. Intentalo devuelta m\xe1s tarde","error")}selectTipoPerfil(){d().fire({title:"\xa1Te damos la bienvenida!",text:"Nos alegra que te sumes a nuestra comunidad, antes de seguir, \n\t\t\tnecesitamos saber si te quer\xe9s registrar como fundaci\xf3n o como Particular",confirmButtonText:"Represento a una fundaci\xf3n",confirmButtonColor:"#87db59",cancelButtonText:"No soy de una fundaci\xf3n",showCancelButton:!0,cancelButtonColor:"#ae59db",icon:"question",allowOutsideClick:!1,allowEscapeKey:!1}).then(e=>{console.log(e),e.isConfirmed?(this.isSwapper=!1,this.particularForm=this.fb.group({})):this.fundacionForm=this.fb.group({}),console.log(this.isSwapper),this.loading=!1})}getTiposDocumentos(){this.usuarioService.getTiposDocumentos().subscribe({next:e=>{console.log("TIPOS DOC:",e),this.tiposDocumento=e},error:e=>{console.log("ERROR TIPOS DOC:",e)}})}submit(){if(console.log("registro",this.mainForm.value),this.mainForm.valid)if("resetPassword"==this.origin)this.auth.resetPassword({username:this.mainForm.controls.email.value,nuevoPassword:this.mainForm.controls.password.value,confirmarPassword:this.mainForm.controls.confirmPassword.value}).subscribe({next:r=>{console.log(r)},error:r=>{console.log("error:",r)}});else if(this.direccionForm.valid){let e={username:this.mainForm.controls.email.value,email:this.mainForm.controls.email.value,password:this.mainForm.controls.password.value,telefono:this.mainForm.controls.telefono.value,confirmPassword:this.mainForm.controls.confirmPassword.value,direccion:{altura:this.direccionForm.controls.altura.value,codigoPostal:this.direccionForm.controls.codigoPostal.value,direccion:this.direccionForm.controls.direccion.value,departamento:this.direccionForm.controls.departamento.value,piso:this.direccionForm.controls.piso.value}},r=!1;this.isSwapper?this.particularForm.valid?(e.particular={fechaNacimiento:new Date(this.particularForm.controls.fechaNacimiento.value),dni:this.particularForm.controls.nroDocumento.value,cuil:this.particularForm.controls.nroDocumento.value,nombre:this.particularForm.controls.nombre.value,apellido:this.particularForm.controls.apellido.value,tipoDocumento:this.particularForm.controls.tipoDocumento.value},r=!0):this.showMessage("\xa1Campos incorrectos!","Por favor, revis\xe1 los campos y volv\xe9 a intentar","OK","","error"):this.fundacionForm.valid?(e.fundacion={nombre:this.fundacionForm.controls.nombre.value,cuil:this.fundacionForm.controls.cuit.value},r=!0):this.showMessage("\xa1Campos incorrectos!","Por favor, revis\xe1 los campos y volv\xe9 a intentar","OK","","error"),console.log(e),r&&("createAccount"==this.origin?this.usuarioService.createUser(e).subscribe({next:a=>{console.log("next",a),this.id_user=a,this.showMessage("\xa1Gracias por registrarte!","Te enviamos un email a la cuenta que ingresaste,\n\t\t\t\t\t\t\t\t\t\tcon un c\xf3digo para verificar tu cuenta. Por favor ingresalo a continuaci\xf3n.\n\t\t\t\t\t\t\t\t\t\tSi no verific\xe1s la cuenta ahora, podr\xe1s hacerlo la pr\xf3xima vez que inicies sesi\xf3n.","Confirmar","send_again","success","No recib\xed el email")},error:a=>{console.error("error",a)}}):this.usuarioService.editUser(e).subscribe({next:a=>{console.log("next",a),this.showMessage("\xa1\xc9xito!","Tus datos se editaron exitosamente.","Genial!","edit","success")},error:a=>{console.error("error",a)}}))}else this.showMessage("\xa1Campos incorrectos!","Por favor, revis\xe1 los campos y volv\xe9 a intentar","OK","","error");else this.showMessage("\xa1Campos incorrectos!","Por favor, revis\xe1 los campos y volv\xe9 a intentar","OK","","error")}showMessage(e,r,a,m,l,u){d().fire({title:e,text:r,confirmButtonText:a,showDenyButton:!!u,denyButtonText:u,icon:l,allowOutsideClick:"success"!=l,input:"send_again"==m?"text":void 0,reverseButtons:!0,preDeny:()=>(this.id_user&&this.auth.sendEmailAgain(this.id_user).subscribe({next:f=>{console.log(f),this.snackbar.open("Se envi\xf3 el nuevo mail!","",{horizontalPosition:"center",verticalPosition:"top",duration:3e3})}}),!1)}).then(({isConfirmed:f,value:c})=>{console.log(c),f&&("ir_a_home"==m?this.router.navigate(["home"]):"edit"==m?this.router.navigate(["perfil"]):"send_again"==m&&(this.id_user?this.usuarioService.confirmarCuenta(this.id_user,c).subscribe({next:h=>{console.log(h),d().fire("Excelente!","Tu cuenta fue verificada, ya podes usar Ecoswap!","success"),this.router.navigate(["/"])},error:h=>{console.log(h)}}):d().fire("Error!","Ocurri\xf3 un error al activar tu cuenta. Por favor intentalo m\xe1s tarde","error")))})}validarConfirmPassword(){return e=>{if(e.value){const r=this.mainForm.controls.password.value,a=this.mainForm.controls.confirmPassword.value;if(r&&a&&r!=a)return{differentPassword:!0};this.mainForm.controls.password.setErrors(null),this.mainForm.controls.confirmPassword.setErrors(null)}return null}}formatearTelefono(){this.mainForm.get("telefono")?.setValue(this.phoneNumberPipe.transform(this.mainForm.get("telefono")?.value)),this.cdr.detectChanges()}telefonoValidator(){const e=/^11\s\d{4}-\d{4}$/;return r=>r.value?e.test(r.value)?null:{formatoInvalido:!0}:null}togglePassword(){this.passwordType="text"===this.passwordType?"password":"text",this.passwordIcon="visibility"===this.passwordIcon?"visibility_off":"visibility"}refreshValidity(){this.mainForm.updateValueAndValidity()}formatDocument(e){console.log(e),this.particularForm.controls.nroDocumento.enable(),this.particularForm.controls.nroDocumento.addValidators(n.kI.pattern(/^(?!0+$)[1-9]\d{6,7}$/))}formatearCUIT(){this.fundacionForm.get("cuit")?.setValue(this.cuitPipe.transform(this.fundacionForm.get("cuit")?.value)),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(n.qu),o.Y36(v._A),o.Y36(I.i),o.Y36(g.Ye),o.Y36(q.e),o.Y36(T.F0),o.Y36(P.ux),o.Y36(o.sBO),o.Y36(b.X),o.Y36(U.K))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-registro"]],features:[o._Bn([{provide:v.Ad,useValue:"en-GB"},{provide:v._A,useClass:w.e}])],decls:3,vars:1,consts:[["url","registro"],["id","main-container"],["id","main-card",4,"ngIf"],["id","main-card"],[4,"ngIf","ngIfElse"],["resetHeader",""],[1,"form",3,"formGroup"],[1,"form-input"],["matInput","","formControlName","email","type","email"],[4,"ngIf"],[1,"form-input",3,"ngClass"],["matInput","","formControlName","password",3,"type","change"],["matSuffix","",1,"eye",3,"click"],["matInput","","formControlName","confirmPassword",3,"type","focus"],["class","form",3,"formGroup",4,"ngIf"],[2,"margin","20px 5% 0px","font-weight","bold"],[1,"buttons"],["mat-raised-button","","color","primary",3,"disabled","click"],["matInput","","formControlName","telefono",3,"ngModel","keyup"],["matInput","","formControlName","nombre"],["matInput","","formControlName","apellido"],["formControlName","tipoDocumento","name","tipoDocumento",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","nroDocumento","type","number"],["floatLabel","always"],["matInput","","formControlName","fechaNacimiento","readonly","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],[3,"value"],["matInput","","formControlName","cuit",3,"keyup"],["matInput","","formControlName","direccion"],["matInput","","formControlName","altura","type","number"],["matInput","","formControlName","piso","type","number"],["matInput","","formControlName","departamento"],["matInput","","formControlName","codigoPostal","type","number"]],template:function(e,r){1&e&&(o._UZ(0,"app-header",0),o.TgZ(1,"div",1),o.YNc(2,lo,43,22,"mat-card",2),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",!r.loading))},dependencies:[g.mk,g.sg,g.O5,_.KE,_.hX,_.bx,_.TO,_.R9,D.Hw,O.Nt,N.lW,R.gD,v.ey,C.Mq,C.hl,C.nW,p.a8,p.hq,p.dn,p.dk,p.$j,p.n5,n._Y,n.Fj,n.wV,n.JJ,n.JL,n.sg,n.u,y.G],styles:["#main-container[_ngcontent-%COMP%]{padding:2%}#main-container[_ngcontent-%COMP%]   #main-card[_ngcontent-%COMP%]{width:80%;margin:2% auto}#main-container[_ngcontent-%COMP%]   #main-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:grid;align-items:center;margin-top:20px;grid-template-columns:1fr 1fr;row-gap:10px;column-gap:5px;justify-items:center}#main-container[_ngcontent-%COMP%]   #main-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;justify-content:center;width:80%}#main-container[_ngcontent-%COMP%]   #main-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}#main-container[_ngcontent-%COMP%]   #main-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]:hover{cursor:pointer}#main-container[_ngcontent-%COMP%]   #main-card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (min-width: 0px) and (max-width: 768px){.form[_ngcontent-%COMP%]{grid-template-columns:1fr!important;row-gap:10px!important;column-gap:5px!important}}"]}),t})()}];let go=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[T.Bz.forChild(fo),T.Bz]}),t})();var _o=s(2100),ho=s(3148),vo=s(9499);let To=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[g.ez,go,_o.q,ho.IJ,vo.O]}),t})()}}]);