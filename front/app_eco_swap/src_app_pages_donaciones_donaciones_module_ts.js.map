{"version":3,"file":"src_app_pages_donaciones_donaciones_module_ts.js","mappings":"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","sources":["./src/app/pages/donaciones/donaciones-routing.module.ts","./src/app/pages/donaciones/donaciones.component.ts","./src/app/pages/donaciones/donaciones.component.html","./src/app/pages/donaciones/donaciones.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DonacionesComponent } from './donaciones.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DonacionesComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DonacionesRoutingModule {}","import { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { DonacionModel } from 'src/app/models/donacion.model';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { DonacionesService } from 'src/app/services/donaciones.service';\r\nimport { ShowErrorService } from 'src/app/services/show-error.service';\r\nimport { MapComponent } from 'src/app/shared/map/map.component';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n\tselector: 'app-donaciones',\r\n\ttemplateUrl: './donaciones.component.html',\r\n\tstyleUrls: ['./donaciones.component.scss']\r\n})\r\nexport class DonacionesComponent {\r\n\r\n\tdonaciones: DonacionModel[] = [];\r\n\r\n\tbuttonsCard: {name: string, icon: string, color: string, status: string, disabled: string}[] = []\r\n\r\n\tconstructor(public dialog: MatDialog, private donacionesService: DonacionesService,\r\n\t\tprivate auth: AuthService, private showErrorService: ShowErrorService) {\r\n\t\tthis.getDonaciones()\r\n\t}\r\n\r\n\tgetDonaciones() {\r\n\t\tthis.donacionesService.getMisDonaciones().subscribe({\r\n\t\t\tnext: (res: any) => {\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tthis.donaciones = res;\r\n\t\t\t\t\tthis.donaciones.map((donacion: any) => {\r\n\t\t\t\t\t\tif(donacion.idDonacion) donacion['last_status'] = donacion.estado;\r\n\t\t\t\t\t\tif(donacion.imagenes) donacion.parsedImagenes = donacion.imagenes.split('|')\r\n\t\t\t\t\t})\r\n\t\t\t\t} else this.showErrorService.show('Error!', 'No se encontró la información de tus donaciones. Intentá nuevamente más tarde.')\r\n\t\t\t},\r\n\t\t\terror: (error) => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tthis.showErrorService.show('Error!', 'Ocurrió un error al traer la información de tus donaciones. Intentá nuevamente más tarde.')\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tzoomImage(img: string) {\r\n\t\tSwal.fire({\r\n\t\t\thtml: `<img src=\"${img}\" style=\"width: 100%\"/>`,\r\n\t\t\tshowConfirmButton: false,\r\n\t\t\tshowCloseButton: true\r\n\t\t})\r\n\t}\r\n\r\n\topenDialog() {\r\n\t\tthis.dialog.open(MapComponent, {\r\n\t\t\tmaxWidth: '70vw',\r\n\t\t\tmaxHeight: '60vh',\r\n\t\t\theight: '100%',\r\n\t\t\twidth: '100%',\r\n\t\t\tpanelClass: 'full-screen-modal'\r\n\t\t});\r\n\t}\r\n\r\n\tgetImage(image: any) {\r\n\t\treturn this.donacionesService.getImagen(image)\r\n\t}\r\n\r\n}\r\n","<app-header title=\"Mis Donaciones\"></app-header>\r\n\r\n<div>\r\n\t<div *ngFor=\"let donacion of donaciones\">\r\n\t\t<app-card-donacion [donacion]=\"donacion\" *ngIf=\"donacion.idDonacion\"\r\n\t\t[usuarioHeader]=\"donacion.producto.colectaDTO.fundacionDTO\" [buttons]=\"[{name: 'cancelar', icon: 'close', color: 'warn', status: 'CANCELADA', disabled: donacion.estadoDonacion != 'PENDIENTE'}]\"></app-card-donacion>\r\n\t</div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DonacionesComponent } from './donaciones.component';\r\nimport { DonacionesRoutingModule } from './donaciones-routing.module';\r\nimport { MaterialModule } from 'src/app/shared/material/material.module';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { HeaderModule } from 'src/app/layout/header/header.module';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [DonacionesComponent],\r\n  imports: [\r\n    CommonModule,\r\n\tDonacionesRoutingModule,\r\n\tMaterialModule,\r\n\tNgbModule,\r\n\tHeaderModule,\r\n\tSharedModule\r\n  ],\r\n  exports: [DonacionesComponent]\r\n})\r\nexport class DonacionesModule { }"],"names":["RouterModule","DonacionesComponent","routes","path","component","DonacionesRoutingModule","forChild","imports","i1","exports","MapComponent","Swal","i0","ɵɵelement","ɵɵproperty","donacion_r1","producto","colectaDTO","fundacionDTO","ɵɵpureFunction1","_c1","_c0","estadoDonacion","ɵɵelementStart","ɵɵtemplate","DonacionesComponent_div_2_app_card_donacion_1_Template","ɵɵelementEnd","ɵɵadvance","idDonacion","constructor","dialog","donacionesService","auth","showErrorService","donaciones","buttonsCard","getDonaciones","getMisDonaciones","subscribe","next","res","map","donacion","estado","imagenes","parsedImagenes","split","show","error","console","log","zoomImage","img","fire","html","showConfirmButton","showCloseButton","openDialog","open","maxWidth","maxHeight","height","width","panelClass","getImage","image","getImagen","ɵɵdirectiveInject","MatDialog","i2","DonacionesService","i3","AuthService","i4","ShowErrorService","selectors","decls","vars","consts","template","DonacionesComponent_Template","rf","ctx","DonacionesComponent_div_2_Template","CommonModule","MaterialModule","NgbModule","HeaderModule","SharedModule","DonacionesModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}