{"version":3,"file":"src_app_pages_colectas_colectas_module_ts.js","mappings":"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","sources":["./src/app/pages/colectas/colectas-routing.module.ts","./src/app/pages/colectas/colectas.component.ts","./src/app/pages/colectas/colectas.component.html","./src/app/pages/colectas/colectas.module.ts","./src/app/services/fundaciones.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ColectasComponent } from './colectas.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ColectasComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ColectasRoutingModule {}","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FundacionModel } from 'src/app/models/fundacion.model';\r\nimport { ColectaModel } from 'src/app/models/colecta.model';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { DonacionesService } from 'src/app/services/donaciones.service';\r\nimport { FundacionesService } from 'src/app/services/fundaciones.service';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { ProductosService } from 'src/app/services/productos.service';\r\nimport Swal from 'sweetalert2';\r\nimport { ShowErrorService } from 'src/app/services/show-error.service';\r\n\r\n@Component({\r\n\tselector: 'app-colectas',\r\n\ttemplateUrl: './colectas.component.html',\r\n\tstyleUrls: ['./colectas.component.scss']\r\n})\r\nexport class ColectasComponent implements OnInit {\r\n\r\n\tcolectas: ColectaModel[] = [];\r\n\tisMyColectas: boolean = false;\r\n\tshowColectas: ColectaModel[] = [];\r\n\tuserData: any;\r\n\r\n\tloading: boolean = true;\r\n\r\n\tformFiltros: FormGroup;\r\n\ttipos_productos: any[] = [];\r\n\toptionsFundaciones: any[] = [/* { idFundacion: 1, nombre: 'Tzedaka' }, { idFundacion: 2, nombre: 'Cruz Roja' } */];\r\n\tfilteredOptions: Observable<any[]>;\r\n\tfiltros: any = {};\r\n\r\n\tconstructor(private router: Router, private auth: AuthService,\r\n\t\tprivate donacionesService: DonacionesService, private fundacionesService: FundacionesService,\r\n\t\tprivate fb: FormBuilder, private productosService: ProductosService,\r\n\t\tprivate showErrorService: ShowErrorService) {\r\n\r\n\t\tif (router.url == '/mis-colectas') this.isMyColectas = true;\r\n\r\n\t\tthis.formFiltros = fb.group({\r\n\t\t\tfundacion: [''],\r\n\t\t\tcodigoPostal: [''],\r\n\t\t\ttipoProducto: ['']\r\n\t\t})\r\n\r\n\t\tthis.filteredOptions = this.formFiltros.controls['fundacion'].valueChanges.pipe(\r\n\t\t\tstartWith(''),\r\n\t\t\tmap(value => {\r\n\t\t\t\tconst nombre = typeof value === 'string' ? value : value?.nombre;\r\n\t\t\t\treturn nombre ? this._filter(nombre as string) : this.optionsFundaciones.slice();\r\n\t\t\t}),\r\n\t\t);\r\n\t\tthis.userData = { isSwapper: auth.isUserSwapper() }\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.getFundaciones();\r\n\t\tthis.getTiposProductos();\r\n\r\n\t\tthis.filtrarColectas();\r\n\t}\r\n\r\n\tfiltrarColectas() {\r\n\t\tthis.loading = true;\r\n\t\tif (this.isMyColectas) {\r\n\t\t\tthis.donacionesService.getMisColectas().subscribe({\r\n\t\t\t\tnext: (res: any) => {\r\n\t\t\t\t\tthis.colectas = res;\r\n\t\t\t\t\tthis.showColectas = this.colectas;\r\n\t\t\t\t\tthis.showColectas.map(item => {\r\n\t\t\t\t\t\titem.imagen = this.donacionesService.getImagen(item.imagen)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t},\r\n\t\t\t\terror: (error) => {\r\n\t\t\t\t\tconsole.log('error mis colectas', error);\r\n\t\t\t\t\tthis.showErrorService.show('Ocurrió un error!', 'Ocurrió un error al traer las colectas de la fundación. Por favor volvé a intentarlo más tarde.')\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.filtros = {};\r\n\t\t\tconst idFundacion = this.formFiltros.controls['fundacion'].value ? this.formFiltros.controls['fundacion'].value.idFundacion : undefined;\r\n\t\t\tconst codigoPostal = this.formFiltros.controls['codigoPostal'].value;\r\n\t\t\tconst tipoProducto = this.formFiltros.controls['tipoProducto'].value;\r\n\r\n\t\t\tif (idFundacion) this.filtros['idFundacion'] = idFundacion;\r\n\t\t\tif (codigoPostal) this.filtros['codigoPostal'] = codigoPostal;\r\n\t\t\tif (tipoProducto) this.filtros['tipoProducto'] = tipoProducto;\r\n\r\n\t\t\tthis.donacionesService.getAllColectas(this.filtros).subscribe({\r\n\t\t\t\tnext: (res: any) => {\r\n\t\t\t\t\tthis.colectas = res;\r\n\t\t\t\t\tthis.showColectas = this.colectas;\r\n\t\t\t\t\tthis.showColectas.map(item => {\r\n\t\t\t\t\t\titem.imagen = this.donacionesService.getImagen(item.imagen)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t},\r\n\t\t\t\terror: (error) => {\r\n\t\t\t\t\tconsole.log('error all colectas', error);\r\n\t\t\t\t\tthis.showErrorService.show('Ocurrió un error!', 'Ocurrió un error al traer las colectas. Por favor volvé a intentarlo más tarde.')\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\taddColecta() {\r\n\t\tif (this.auth.isUserLoggedIn) {\r\n\t\t\tthis.router.navigateByUrl('form-colecta')\r\n\t\t} else {\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: '¡Necesitás una cuenta!',\r\n\t\t\t\ttext: 'Para poder crear una colecta, tenés que usar la cuenta de una fundación.',\r\n\t\t\t\ticon: 'warning',\r\n\t\t\t\tconfirmButtonText: 'Iniciar sesión',\r\n\t\t\t\tshowCancelButton: true,\r\n\t\t\t\tcancelButtonText: 'Cancelar'\r\n\t\t\t}).then(({ isConfirmed }) => {\r\n\t\t\t\tif (isConfirmed) this.router.navigate(['login'])\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tgetFundaciones() {\r\n\t\tthis.fundacionesService.getFundaciones().subscribe((res: any) => {\r\n\t\t\tconsole.log(res);\r\n\t\t\tthis.optionsFundaciones = res;\r\n\t\t})\r\n\t}\r\n\r\n\tgetTiposProductos() {\r\n\t\tthis.productosService.getTiposProductos().subscribe({\r\n\t\t\tnext: (v: any) => {\r\n\t\t\t\tconsole.log('productos', v);\r\n\t\t\t\tthis.tipos_productos = v;\r\n\t\t\t},\r\n\t\t\terror: (e) => {\r\n\t\t\t\tconsole.error('error', e);\r\n\t\t\t\tthis.showErrorService.show('Error!', 'Ha ocurrido un error al traer los tipos de producto')\r\n\t\t\t},\r\n\t\t\tcomplete: () => console.info('complete')\r\n\t\t});\r\n\t}\r\n\r\n\tlimpiarFiltros() {\r\n\t\tthis.formFiltros.reset()\r\n\t\tthis.filtrarColectas()\r\n\t}\r\n\r\n\tdisplayFn(fundacion: any): string {\r\n\t\treturn fundacion && fundacion.nombre ? fundacion.nombre : '';\r\n\t}\r\n\r\n\tprivate _filter(nombre: string): any[] {\r\n\t\tconst filterValue = nombre.toLowerCase();\r\n\t\treturn this.optionsFundaciones.filter(option => option.nombre.toLowerCase().includes(filterValue));\r\n\t}\r\n\r\n\tgoToColecta(colecta: ColectaModel) {\r\n\t\tthis.router.navigateByUrl('colecta/' + colecta.idColecta)\r\n\t}\r\n}\r\n","<app-header [title]=\"isMyColectas ? 'Mis Colectas' : 'Colectas'\"></app-header>\r\n\r\n<div id=\"main-donaciones\">\r\n\t<div class=\"row\">\r\n\t\t<form [formGroup]=\"formFiltros\" id=\"form-filtros\" *ngIf=\"!isMyColectas\"> \r\n\t\t\t<mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n\t\t\t\t<mat-label>Fundación</mat-label>\r\n\t\t\t\t<input type=\"text\" matInput formControlName=\"fundacion\" [matAutocomplete]=\"auto\" style=\"border: 1px solid red\">\r\n\t\t\t\t<mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFn\">\r\n\t\t\t\t<mat-option *ngFor=\"let option of filteredOptions | async\" [value]=\"option\">\r\n\t\t\t\t\t{{option.nombre}}\r\n\t\t\t\t</mat-option>\r\n\t\t\t\t</mat-autocomplete>\r\n\t\t\t</mat-form-field>\r\n\t\t\t<mat-form-field appearance=\"outline\">\r\n\t\t\t\t<mat-label>Código Postal</mat-label>\r\n\t\t\t\t<input matInput formControlName=\"codigoPostal\" type=\"number\">\r\n\t\t\t</mat-form-field>\r\n\t\t\t<mat-form-field appearance=\"outline\">\r\n\t\t\t\t<mat-label>Tipo del Producto</mat-label>\r\n\t\t\t\t<mat-select formControlName=\"tipoProducto\" panelClass=\"example-panel\">\r\n\t\t\t\t\t<mat-option *ngFor=\"let tipo of tipos_productos\" [value]=\"tipo.nombre\">\r\n\t\t\t\t\t\t{{tipo.descripcion}}\r\n\t\t\t\t\t</mat-option>\r\n\t\t\t\t</mat-select>\r\n\t\t\t\t<!-- <input matInput formControlName=\"tipoProducto\"> -->\r\n\t\t\t</mat-form-field>\r\n\t\t\t<div style=\"text-align: center;\">\r\n\t\t\t\t<button mat-raised-button color=\"primary\" (click)=\"filtrarColectas()\">FILTRAR</button>\r\n\t\t\t\t<button mat-raised-button (click)=\"limpiarFiltros()\">LIMPIAR</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n\t<app-spinner [loading]=\"loading\"></app-spinner>\r\n\t<div class=\"row\" *ngIf=\"!loading\">\r\n\t\t<div *ngIf=\"showColectas.length==0\" style=\"text-align: center;\">No hay colectas para mostrar</div>\r\n\t\t<div><!-- class=\"col-lg-6\" -->\r\n\t\t\t<div class=\"card-deck\">\r\n\t\t\t\t<div class=\"card row\" *ngFor=\"let colecta of showColectas\" (click)=\"goToColecta(colecta)\">\r\n\t\t\t\t\t<div class=\"col-sm-4\" style=\"display: flex; justify-content: center;\">\r\n\t\t\t\t\t\t<img class=\"card-img\" [src]=\"colecta.imagen ? colecta.imagen : 'assets/fundacion.png'\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"card-body col-sm-6\">\r\n\t\t\t\t\t\t<h2 class=\"card-title\">{{colecta.titulo}}</h2>\r\n\t\t\t\t\t\t<div class=\"productos\">\r\n\t\t\t\t\t\t\t<div *ngFor=\"let producto of colecta.productos\" class=\"producto\">\r\n\t\t\t\t\t\t\t\t{{producto.descripcion}}\r\n\t\t\t\t\t\t\t\t<!-- <p><ngb-progressbar color=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t[value]=\"producto.cantidadRecibida*100/producto.cantidadSolicitada\"\r\n\t\t\t\t\t\t\t\t\t\t[striped]=\"true\"></ngb-progressbar></p> -->\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"card-fundacion col-sm-2\">\r\n\t\t\t\t\t\t<img class=\"img-fundacion\" src=\"assets/fundacion.png\">\r\n\t\t\t\t\t\t<!-- TODO: CHANGE TO IMAGE DE LA FUNDACION  -->\r\n\t\t\t\t\t\t<h4>{{colecta.fundacionDTO.nombre}}</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"floating-button-container\" *ngIf=\"!userData.isSwapper\">\r\n\t\t<button mat-fab color=\"primary\" aria-label=\"Agregar Colecta\" (click)=\"addColecta()\"\r\n\t\tmatTooltip=\"Agregar Colecta\" matTooltipPosition=\"before\">\r\n\t\t\t<mat-icon>add</mat-icon>\r\n\t\t</button>\r\n\t</div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ColectasComponent } from './colectas.component';\r\nimport { ColectasRoutingModule } from './colectas-routing.module';\r\nimport { MaterialModule } from 'src/app/shared/material/material.module';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { HeaderModule } from 'src/app/layout/header/header.module';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [ColectasComponent],\r\n  imports: [\r\n    CommonModule,\r\n\tColectasRoutingModule,\r\n\tMaterialModule,\r\n\tNgbModule,\r\n\tHeaderModule,\r\n\tSharedModule\r\n  ],\r\n  exports: [ColectasComponent]\r\n})\r\nexport class ColectasModule { }","import { Injectable } from '@angular/core';\r\nimport { HttpBackEnd } from './httpBackend.service';\r\n\r\nconst URL_NAME = 'URImsUsuarios'\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class FundacionesService {\r\n\r\n\tconstructor(private backendService: HttpBackEnd) { }\r\n\r\n\tgetFundacion(id_fundacion: any) {\r\n\t\treturn this.backendService.get(URL_NAME, 'fundacion/' + id_fundacion);\r\n\t}\r\n\r\n\tgetFundaciones() {\r\n\t\treturn this.backendService.get(URL_NAME, 'fundaciones');\r\n\t}\r\n}\r\n"],"names":["RouterModule","ColectasComponent","routes","path","component","ColectasRoutingModule","forChild","imports","i1","exports","map","startWith","Swal","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","option_r6","ɵɵadvance","ɵɵtextInterpolate1","nombre","tipo_r7","descripcion","ɵɵelement","ɵɵtemplate","ColectasComponent_form_3_mat_option_7_Template","ColectasComponent_form_3_mat_option_17_Template","ɵɵlistener","ColectasComponent_form_3_Template_button_click_19_listener","ɵɵrestoreView","_r9","ctx_r8","ɵɵnextContext","ɵɵresetView","filtrarColectas","ColectasComponent_form_3_Template_button_click_21_listener","ctx_r10","limpiarFiltros","ctx_r0","formFiltros","_r3","displayFn","ɵɵpipeBind1","filteredOptions","tipos_productos","producto_r15","ColectasComponent_div_5_div_4_Template_div_click_0_listener","restoredCtx","_r17","colecta_r13","$implicit","ctx_r16","goToColecta","ColectasComponent_div_5_div_4_div_7_Template","imagen","ɵɵsanitizeUrl","ɵɵtextInterpolate","titulo","productos","fundacionDTO","ColectasComponent_div_5_div_1_Template","ColectasComponent_div_5_div_4_Template","ctx_r1","showColectas","length","ColectasComponent_div_6_Template_button_click_1_listener","_r19","ctx_r18","addColecta","constructor","router","auth","donacionesService","fundacionesService","fb","productosService","showErrorService","colectas","isMyColectas","loading","optionsFundaciones","filtros","url","group","fundacion","codigoPostal","tipoProducto","controls","valueChanges","pipe","value","_filter","slice","userData","isSwapper","isUserSwapper","ngOnInit","getFundaciones","getTiposProductos","getMisColectas","subscribe","next","res","item","getImagen","error","console","log","show","idFundacion","undefined","getAllColectas","isUserLoggedIn","navigateByUrl","fire","title","text","icon","confirmButtonText","showCancelButton","cancelButtonText","then","isConfirmed","navigate","v","e","complete","info","reset","filterValue","toLowerCase","filter","option","includes","colecta","idColecta","ɵɵdirectiveInject","Router","i2","AuthService","i3","DonacionesService","i4","FundacionesService","i5","FormBuilder","i6","ProductosService","i7","ShowErrorService","selectors","decls","vars","consts","template","ColectasComponent_Template","rf","ctx","ColectasComponent_form_3_Template","ColectasComponent_div_5_Template","ColectasComponent_div_6_Template","CommonModule","MaterialModule","NgbModule","HeaderModule","SharedModule","ColectasModule","declarations","URL_NAME","backendService","getFundacion","id_fundacion","get","ɵɵinject","HttpBackEnd","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}