"use strict";(self.webpackChunkapp_eco_swap=self.webpackChunkapp_eco_swap||[]).push([[87],{87:(F,s,e)=>{e.r(s),e.d(s,{DonacionesModule:()=>z});var i=e(4755),r=e(1531),t=e(2223);let d=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-map"]],decls:0,vars:0,template:function(o,c){},styles:[".map-wrap[_ngcontent-%COMP%]{position:relative;width:100%;height:calc(100vh - 77px)}.map[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.watermark[_ngcontent-%COMP%]{position:absolute;left:10px;bottom:10px;z-index:999}"]}),n})();var l=e(5226),m=e.n(l),p=e(5580),g=e(8628),u=e(4377),h=e(3073),f=e(7876),C=e(6247);const v=function(n){return{name:"cancelar",icon:"close",color:"warn",status:"CANCELADA",disabled:n}},M=function(n){return[n]};function D(n,a){if(1&n&&t._UZ(0,"app-card-donacion",3),2&n){const o=t.oxw().$implicit;t.Q6J("donacion",o)("usuarioHeader",o.producto.colectaDTO.fundacionDTO)("buttons",t.VKq(5,M,t.VKq(3,v,"PENDIENTE"!=o.estadoDonacion)))}}function O(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,D,1,7,"app-card-donacion",2),t.qZA()),2&n){const o=a.$implicit;t.xp6(1),t.Q6J("ngIf",o.idDonacion)}}const P=[{path:"",component:(()=>{class n{constructor(o,c,A,E){this.dialog=o,this.donacionesService=c,this.auth=A,this.showErrorService=E,this.donaciones=[],this.buttonsCard=[],this.getDonaciones()}getDonaciones(){this.donacionesService.getMisDonaciones().subscribe({next:o=>{o?(this.donaciones=o,this.donaciones.map(c=>{c.idDonacion&&(c.last_status=c.estado),c.imagenes&&(c.parsedImagenes=c.imagenes.split("|"))})):this.showErrorService.show("Error!","No se encontr\xf3 la informaci\xf3n de tus donaciones. Intent\xe1 nuevamente m\xe1s tarde.")},error:o=>{console.log(o)}})}zoomImage(o){m().fire({html:`<img src="${o}" style="width: 100%"/>`,showConfirmButton:!1,showCloseButton:!0})}openDialog(){this.dialog.open(d,{maxWidth:"70vw",maxHeight:"60vh",height:"100%",width:"100%",panelClass:"full-screen-modal"})}getImage(o){return this.donacionesService.getImagen(o)}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(p.uw),t.Y36(g.M),t.Y36(u.e),t.Y36(h.x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-donaciones"]],decls:3,vars:1,consts:[["title","Mis Donaciones"],[4,"ngFor","ngForOf"],[3,"donacion","usuarioHeader","buttons",4,"ngIf"],[3,"donacion","usuarioHeader","buttons"]],template:function(o,c){1&o&&(t._UZ(0,"app-header",0),t.TgZ(1,"div"),t.YNc(2,O,2,1,"div",1),t.qZA()),2&o&&(t.xp6(2),t.Q6J("ngForOf",c.donaciones))},dependencies:[i.sg,i.O5,f.G,C._],styles:[".donacion-example-header-image[_ngcontent-%COMP%]{background-image:url(fundacion.83cbf2a177069f0a.png);background-size:cover}.donacion-card-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr 1fr;gap:1rem;padding:16px}.donacion-card-content[_ngcontent-%COMP%]   .donacion-aceptada[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-color)}.donacion-card-content[_ngcontent-%COMP%]   .donacion-rechazada[_ngcontent-%COMP%]{font-weight:700;color:var(--warn-color)}.donacion-card-content[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:65px;margin:5px}.donacion-card-content[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.donacion-card-content[_ngcontent-%COMP%]   .donacion-status[_ngcontent-%COMP%]{display:flex;align-items:center}.donacion-card-content[_ngcontent-%COMP%]   .donacion-status[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin:5px}"]}),n})()}];let x=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[r.Bz.forChild(P),r.Bz]}),n})();var y=e(2100),w=e(3148),I=e(9499),T=e(4466);let z=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[i.ez,x,y.q,w.IJ,I.O,T.m]}),n})()}}]);