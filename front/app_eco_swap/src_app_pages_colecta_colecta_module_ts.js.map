{"version":3,"file":"src_app_pages_colecta_colecta_module_ts.js","mappings":"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","sources":["./src/app/pages/colecta/colecta-routing.module.ts","./src/app/pages/colecta/colecta.component.ts","./src/app/pages/colecta/colecta.component.html","./src/app/pages/colecta/colecta.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ColectaComponent } from './colecta.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ColectaComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ColectaRoutingModule {}","import { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FundacionModel } from 'src/app/models/fundacion.model';\r\nimport { UsuarioModel } from 'src/app/models/usuario.model';\r\nimport { DonacionModel } from 'src/app/models/donacion.model';\r\nimport { ColectaModel } from 'src/app/models/colecta.model';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { DonacionesService } from 'src/app/services/donaciones.service';\r\nimport Swal from 'sweetalert2';\r\nimport { ShowErrorService } from 'src/app/services/show-error.service';\r\nimport { FundacionesService } from 'src/app/services/fundaciones.service';\r\nimport { ProductosService } from 'src/app/services/productos.service';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\n\r\n@Component({\r\n  selector: 'app-colecta',\r\n  templateUrl: './colecta.component.html',\r\n  styleUrls: ['./colecta.component.scss']\r\n})\r\nexport class ColectaComponent {\r\n\r\n\tid_colecta: string = '';\r\n\tcolecta!: ColectaModel;\r\n\tdonaciones: DonacionModel[] = [];\r\n\r\n\tuserData?: any;\r\n\tuserInfo?: any;\r\n\tloading: boolean = true;\r\n\tshowDonaciones: boolean = false;\r\n\tdonacionesToShow: DonacionModel[] = [];\r\n\r\n\tbuttonsCard: {name: string, icon: string, color: string, status: string, disabled: string}[] = []\r\n\r\n\tconstructor(private route: ActivatedRoute, private router: Router, private auth: AuthService,\r\n\t\tprivate donacionesService: DonacionesService, private showErrorService: ShowErrorService,\r\n\t\tprivate productoService: ProductosService, private usuarioService: UsuarioService){\r\n\t\troute.paramMap.subscribe(params => {\r\n\t\t\tconsole.log(params);\r\n\t\t\tthis.id_colecta = params.get('id_colecta') || '';\r\n\t\t\tif(!this.id_colecta) showErrorService.show('Error!', 'No pudimos encontrar la información de la colecta que seleccionaste, por favor volvé a intentarlo más tarde.')\r\n\t\t})\r\n\t\tthis.userData = { isSwapper: auth.isUserSwapper(), isLoggedIn: auth.isUserLoggedIn }\r\n\t\tif(this.userData && this.userData.isLoggedIn){\r\n\t\t\tusuarioService.getUserByID(auth.getUserID()).subscribe({\r\n\t\t\t\tnext: (res: any) => {\r\n\t\t\t\t\tthis.userInfo = res;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tngOnInit(): void {\r\n\t\tthis.getColecta();\r\n\t}\r\n\r\n\tgetColecta(){\r\n\t\tthis.donacionesService.getColecta(this.id_colecta).subscribe({\r\n\t\t\tnext: (colecta: any) => {\r\n\t\t\t\tif (colecta) {\r\n\t\t\t\t\t//console.log(colecta);\r\n\t\t\t\t\tthis.colecta = colecta;\r\n\t\t\t\t\tthis.colecta.imagen = this.getImage(this.colecta.imagen);\r\n\r\n\t\t\t\t\tthis.productoService.getProductosColecta(colecta.idColecta).subscribe({\r\n\t\t\t\t\t\tnext: (res: any) => {\r\n\t\t\t\t\t\t\tcolecta.productos = res;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: (error) => {\r\n\t\t\t\t\t\t\tconsole.log('error', error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tif(this.auth.isUserLoggedIn){\r\n\t\t\t\t\t\tthis.donacionesService.getDonacionesColecta(this.colecta.idColecta).subscribe({\r\n\t\t\t\t\t\t\tnext: (donaciones: any) => {\r\n\t\t\t\t\t\t\t\tconsole.log(donaciones);\r\n\t\t\t\t\t\t\t\tthis.donaciones = donaciones;\r\n\t\t\t\t\t\t\t\tthis.donaciones.map(donacion => {\r\n\t\t\t\t\t\t\t\t\tif(donacion.imagenes) donacion.parsedImagenes = donacion.imagenes.split('|')\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t//TODO: REVISAR CUANDO MUESTRA DONACIONES\r\n\t\t\t\t\t\t\t\tif (this.userData.isSwapper) {\r\n\t\t\t\t\t\t\t\t\tthis.donacionesToShow = this.donaciones.filter(item => item.particularDTO.idParticular == this.userInfo.particularDTO.idParticular)\r\n\t\t\t\t\t\t\t\t\tthis.showDonaciones = true;\r\n\t\t\t\t\t\t\t\t} else if(this.userData) { // TODO: IF colecta.id_fundacion == userData.id_fundacion --> show donaciones\r\n\t\t\t\t\t\t\t\t\tthis.donacionesToShow = donaciones;\r\n\t\t\t\t\t\t\t\t\tthis.showDonaciones = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tconsole.log(this.showDonaciones);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: (error) => {\r\n\t\t\t\t\t\t\t\tconsole.log('error', error);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t} else this.showErrorService.show('Error!', 'No se encontró la información de la colecta que seleccionaste. Intentá nuevamente más tarde.')\r\n\t\t\t},\r\n\t\t\terror: (error) => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tthis.showErrorService.show('Error!', 'Ocurrió un error al traer la información de la colecta que seleccionaste. Intentá nuevamente más tarde.')\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tdonar() {\r\n\t\tif(this.auth.isUserLoggedIn){\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: '¡Estás un paso más cerca de hacer tu donación!',\r\n\t\t\t\ttext: 'Te vamos a pedir algunos datos de lo que vas a donar. Es importante que completes la información requerida para que la fundación conozca lo que vas a donar.', //'Seleccioná el producto que quieras donar',\r\n\t\t\t\ticon: 'info',\r\n\t\t\t\tconfirmButtonText: '¡VAMOS!' //'Confirmar'\r\n\t\t\t}).then(({isConfirmed, value}) => {\r\n\t\t\t\tif(isConfirmed) this.router.navigate(['donacion/'+this.id_colecta])\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: '¡Necesitás una cuenta!',\r\n\t\t\t\ttext: 'Para poder donar, tenés que usar tu cuenta.',\r\n\t\t\t\ticon: 'warning',\r\n\t\t\t\tconfirmButtonText: 'Iniciar sesión',\r\n\t\t\t\tshowCancelButton: true,\r\n\t\t\t\tcancelButtonText: 'Cancelar'\r\n\t\t\t}).then(({isConfirmed}) => {\r\n\t\t\t\tif(isConfirmed) this.router.navigate(['login'])\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tzoomImage(img?: string){\r\n\t\tif(img){\r\n\t\t\tSwal.fire({\r\n\t\t\t\thtml: `<img src=\"${this.getImage(img)}\" style=\"width: 100%\"/>`,\r\n\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\tshowCloseButton: true\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tshowDireccion(usuario: any){\r\n\t\t//console.log( usuario);\r\n\t\tlet stringDir: string = ''\r\n\t\tfor (const dir of usuario.direcciones) {\r\n\t\t\tif(dir.direccion) {\r\n\t\t\t\tstringDir += (dir.direccion + ' '+ dir.altura)\r\n\t\t\t}\r\n\t\t}\r\n\t\t//console.log(stringDir);\r\n\r\n\t\tconst dirArray = stringDir.split(' ')\r\n\t\tSwal.fire({\r\n\t\t\ttitle: 'Información de la fundación',\r\n\t\t\ttext: stringDir + ' https://www.google.com/maps/search/?api=1&query='+dirArray[0]+'+'+dirArray[1],\r\n\t\t\thtml: `\r\n\t\t\t<p style=\"font-weight: 400;\"><b>Email: </b>${usuario.email}</p>\r\n\t\t\t<p style=\"font-weight: 500;\"><b>Dirección: </b>${stringDir}</p>\r\n\t\t\t<a href=\"https://www.google.com/maps/search/?api=1&query=${dirArray[0]}+${dirArray[1]}\" target=\"_blank\">Ver en Google Maps</a>`,\r\n\t\t\t//iconHtml: `<span class=\"material-icons-outlined\"> place </span>`\r\n\t\t\ticon: 'info'\r\n\t\t})\r\n\t}\r\n\r\n\tgetImage(image: any ){\r\n\t\treturn this.donacionesService.getImagen(image)\r\n\t}\r\n\r\n\tisArray(item:any){\r\n\t\treturn item.constructor === Array;\r\n\t}\r\n\r\n\tparseVigencia() {\r\n\t\t//console.log(this.colecta.fechaInicio , this.colecta.fechaFin);\r\n\t\t\r\n\t\tif(this.colecta.fechaInicio && this.colecta.fechaFin) {\r\n\t\t\treturn 'Desde el ' + (new Date(this.colecta.fechaInicio)).toLocaleDateString() + ' hasta el ' + (new Date(this.colecta.fechaFin)).toLocaleDateString()\r\n\t\t} else if (this.colecta.fechaInicio) {\r\n\t\t\treturn 'A partir del ' + (new Date(this.colecta.fechaInicio)).toLocaleDateString();\r\n\t\t} else return '';\r\n\t}\r\n\r\n}\r\n","<app-header></app-header>\r\n\r\n<div id=\"main-colecta\">\r\n\t<app-spinner [loading]=\"loading\"></app-spinner>\r\n\t<mat-card *ngIf=\"!loading && colecta && colecta.fundacionDTO\"> <!-- && colecta.fundacionDTO.usuario -->\r\n\t\t<mat-card-header style=\"border-bottom: solid 1px var(--light-grey); padding-bottom: 10px;\">\r\n\t\t\t<div class=\"div-header\">\r\n\t\t\t\t<div class=\"header-info\">\r\n\t\t\t\t\t<div mat-card-avatar class=\"example-header-image\"></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<mat-card-title style=\"display: flex; align-items: center;\">\r\n\t\t\t\t\t\t\t{{colecta.fundacionDTO.nombre}}\r\n\t\t\t\t\t\t\t<mat-icon class=\"address\" (click)=\"showDireccion(colecta.fundacionDTO.usuario)\" *ngIf=\"colecta.fundacionDTO.usuario\">place</mat-icon>\r\n\t\t\t\t\t\t</mat-card-title>\r\n\t\t\t\t\t\t<mat-card-subtitle>\r\n\t\t\t\t\t\t\t<mat-icon *ngFor=\"let i of [].constructor(colecta.fundacionDTO.puntaje || 0)\" color=\"primary\">star</mat-icon>\r\n\t\t\t\t\t\t\t<mat-icon *ngFor=\"let i of [].constructor(5-(colecta.fundacionDTO.puntaje || 0))\"\r\n\t\t\t\t\t\t\t\tclass=\"empty-star\">star</mat-icon>\r\n\t\t\t\t\t\t</mat-card-subtitle>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"text-align: center;\">{{parseVigencia()}}</div>\r\n\t\t\t</div>\r\n\t\t</mat-card-header>\r\n\t\t<mat-card-content class=\"card-content\">\r\n\t\t\t<img mat-card-image [src]=\"colecta.imagen ? colecta.imagen : 'assets/fundacion.png'\" class=\"colecta-img\"\r\n\t\t\t\t(click)=\"zoomImage(colecta.imagen ? colecta.imagen.split('/').at(-1) : 'assets/fundacion.png')\">\r\n\t\t\t<div>\r\n\t\t\t\t<h2 class=\"card-title\">{{colecta.titulo}}</h2>\r\n\t\t\t\t<div class=\"descripcion\">\r\n\t\t\t\t\t{{colecta.descripcion}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"productos\">\r\n\t\t\t\t\t<h4><u>Productos</u>:</h4>\r\n\t\t\t\t\t<div *ngFor=\"let producto of colecta.productos\" class=\"producto\">\r\n\t\t\t\t\t\t{{producto.descripcion}}: {{producto.cantidadRecibida}}\r\n\t\t\t\t\t\t<!-- {{producto.descripcion}} -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</mat-card-content>\r\n\t\t<mat-card-actions class=\"card-button\">\r\n\t\t\t<button mat-raised-button color=\"primary\" (click)=\"donar()\" *ngIf=\"!(userData.isLoggedIn && !userData.isSwapper)\">QUIERO DONAR</button>\r\n\t\t</mat-card-actions>\r\n\t</mat-card>\r\n\r\n\t<div *ngIf=\"showDonaciones && !loading\">\r\n\t\t<h3 style=\"margin: 20px 0 0 5px; font-weight: bold;\">\r\n\t\t\t{{this.userData.isSwapper ? 'Mi donación' : 'Donaciones'}}\r\n\t\t</h3>\r\n\t\t<div *ngIf=\"donacionesToShow.length == 0 && !loading\" style=\"text-align: center;\">Esta colecta no tiene donaciones\r\n\t\t\taún!</div>\r\n\t\t<app-card-donacion *ngFor=\"let donacion of donacionesToShow\" [donacion]=\"donacion\"\r\n\t\t\t[usuarioHeader]=\"donacion.particularDTO\" [buttons]=\"this.userData.isSwapper ? \r\n\t\t\t[{name: 'cancelar', icon: 'close', color: 'warn', status: 'CANCELADA', disabled: donacion.estadoDonacion != 'PENDIENTE'}]\r\n\t\t\t: [\r\n\t\t\t\t{name: 'aceptar', icon: 'check', color: 'primary', status: 'APROBADA', disabled: donacion.estadoDonacion != 'PENDIENTE'},\r\n\t\t\t\t{name: 'rechazar', icon: 'close', color: 'warn', status: 'RECHAZADA', disabled: donacion.estadoDonacion != 'PENDIENTE'},\r\n\t\t\t\t{name: 'recibida', icon: 'done_all', color: 'primary', status: 'RECIBIDA', disabled: donacion.estadoDonacion != 'APROBADA'},\r\n\t\t\t]\"></app-card-donacion>\r\n\t</div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ColectaComponent } from './colecta.component';\r\nimport { ColectaRoutingModule } from './colecta-routing.module';\r\nimport { MaterialModule } from 'src/app/shared/material/material.module';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { HeaderModule } from 'src/app/layout/header/header.module';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [ColectaComponent],\r\n  imports: [\r\n    CommonModule,\r\n\tColectaRoutingModule,\r\n\tMaterialModule,\r\n\tNgbModule,\r\n\tHeaderModule,\r\n\tSharedModule\r\n  ],\r\n  exports: [ColectaComponent]\r\n})\r\nexport class ColectaModule { }"],"names":["RouterModule","ColectaComponent","routes","path","component","ColectaRoutingModule","forChild","imports","i1","exports","Swal","i0","ɵɵelementStart","ɵɵlistener","ColectaComponent_mat_card_3_mat_icon_8_Template_mat_icon_click_0_listener","ɵɵrestoreView","_r8","ctx_r7","ɵɵnextContext","ɵɵresetView","showDireccion","colecta","fundacionDTO","usuario","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate2","producto_r11","descripcion","cantidadRecibida","ColectaComponent_mat_card_3_button_28_Template_button_click_0_listener","_r13","ctx_r12","donar","ɵɵelement","ɵɵtemplate","ColectaComponent_mat_card_3_mat_icon_8_Template","ColectaComponent_mat_card_3_mat_icon_10_Template","ColectaComponent_mat_card_3_mat_icon_11_Template","ColectaComponent_mat_card_3_Template_img_click_15_listener","_r15","ctx_r14","zoomImage","imagen","split","at","ColectaComponent_mat_card_3_div_26_Template","ColectaComponent_mat_card_3_button_28_Template","ɵɵtextInterpolate1","ctx_r0","nombre","ɵɵproperty","ɵɵpureFunction0","_c0","constructor","puntaje","ɵɵtextInterpolate","parseVigencia","ɵɵsanitizeUrl","titulo","productos","userData","isLoggedIn","isSwapper","donacion_r18","particularDTO","ctx_r17","ɵɵpureFunction1","_c2","_c1","estadoDonacion","ɵɵpureFunction3","_c6","_c3","_c4","_c5","ColectaComponent_div_4_div_3_Template","ColectaComponent_div_4_app_card_donacion_4_Template","ctx_r1","donacionesToShow","length","loading","route","router","auth","donacionesService","showErrorService","productoService","usuarioService","id_colecta","donaciones","showDonaciones","buttonsCard","paramMap","subscribe","params","console","log","get","show","isUserSwapper","isUserLoggedIn","getUserByID","getUserID","next","res","userInfo","ngOnInit","getColecta","getImage","getProductosColecta","idColecta","error","getDonacionesColecta","map","donacion","imagenes","parsedImagenes","filter","item","idParticular","fire","title","text","icon","confirmButtonText","then","isConfirmed","value","navigate","showCancelButton","cancelButtonText","img","html","showConfirmButton","showCloseButton","stringDir","dir","direcciones","direccion","altura","dirArray","email","image","getImagen","isArray","Array","fechaInicio","fechaFin","Date","toLocaleDateString","ɵɵdirectiveInject","ActivatedRoute","Router","i2","AuthService","i3","DonacionesService","i4","ShowErrorService","i5","ProductosService","i6","UsuarioService","selectors","decls","vars","consts","template","ColectaComponent_Template","rf","ctx","ColectaComponent_mat_card_3_Template","ColectaComponent_div_4_Template","CommonModule","MaterialModule","NgbModule","HeaderModule","SharedModule","ColectaModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}