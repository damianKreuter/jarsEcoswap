"use strict";(self.webpackChunkapp_eco_swap=self.webpackChunkapp_eco_swap||[]).push([[592],{8628:(h,f,o)=>{o.d(f,{M:()=>_});var n=o(2340),m=o(2223),l=o(5500);const b=n.N.apiUrl+"8080/",s="URImsUsuarios";let _=(()=>{class c{constructor(u){this.backendService=u}crearColecta(u){return this.backendService.post(s,"api/colecta",u)}getAllColectas(u){return this.backendService.get(s,"api/colectas",u)}getMisColectas(){return this.backendService.get(s,"api/misColectas")}getColecta(u){return this.backendService.get(s,"api/colecta/"+u)}getDonacionesColecta(u){return this.backendService.get(s,"api/colecta/"+u+"/donaciones")}getMisDonaciones(){return this.backendService.get(s,"api/particular/misDonaciones")}crearDonacion(u,O){return this.backendService.post(s,"api/colecta/"+u+"/crearDonacion",O)}getImagen(u){return`${b}api/getImage/${u}`}cambiarEstadoDonacion(u,O,x){return this.backendService.put(s,"api/colecta/"+u+"/donaciones/"+O,x)}}return c.\u0275fac=function(u){return new(u||c)(m.LFG(l.k))},c.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},4893:(h,f,o)=>{o.d(f,{k:()=>b});var n=o(2223),m=o(5500);const l="URImsUsuarios";let b=(()=>{class s{constructor(c){this.backendService=c}getTiposProductos(){return this.backendService.get(l,"api/tiposProductos")}getProductosColecta(c){return this.backendService.get(l,"api/productos/"+c)}}return s.\u0275fac=function(c){return new(c||s)(n.LFG(m.k))},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},2777:(h,f,o)=>{o.d(f,{x:()=>b});var n=o(2223),m=o(5500);const l="URImsUsuarios";let b=(()=>{class s{constructor(c){this.backendService=c}crearPublicacion(c){return this.backendService.post(l,"api/publicacion",c)}getPublicaciones(c={}){return this.backendService.get(l,"api/publicaciones",c)}getMisPublicaciones(){return this.backendService.get(l,"api/misPublicaciones")}getPublicacion(c){return this.backendService.get(l,"api/publicacion/"+c)}getImagen(c){return this.backendService.getUrlByName(l)+"api/getImage/"+c}crearTrueque(c,g){return this.backendService.post(l,"api/trueque",{idPublicacionOrigen:c,idPublicacionPropuesta:g})}getTruequesFromPublicacion(c){return this.backendService.get(l,`api/publicacion/${c}/trueques`)}getMisPublicacionesForTrueque(c){return this.backendService.get(l,`api/${c}/publicaciones`)}cambiarEstadoTrueque(c,g){return this.backendService.put(l,`api/trueque/${c}`,{nuevoEstado:g})}getTruequesParticular(c){return this.backendService.get(l,`api/trueques/particular/${c}`)}}return s.\u0275fac=function(c){return new(c||s)(n.LFG(m.k))},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},6247:(h,f,o)=>{o.d(f,{_:()=>E});var n=o(2223),m=o(5226),l=o.n(m),b=o(8628),s=o(430),_=o(1728),c=o(6012),g=o(4755);function u(p,P){1&p&&(n.TgZ(0,"mat-icon",12),n._uU(1,"star"),n.qZA())}function O(p,P){1&p&&(n.TgZ(0,"mat-icon",13),n._uU(1,"star"),n.qZA())}function x(p,P){if(1&p){const a=n.EpF();n.TgZ(0,"img",14),n.NdJ("click",function(){const e=n.CHM(a).$implicit,d=n.oxw();return n.KtG(d.zoomImage(e))}),n.qZA()}if(2&p){const a=P.$implicit,i=n.oxw();n.Q6J("src",i.getImage(a),n.LSH)}}function D(p,P){if(1&p){const a=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){const e=n.CHM(a).$implicit,d=n.oxw();return n.KtG(d.changeEstadoDonacion(d.donacion,e.status))}),n.TgZ(1,"mat-icon"),n._uU(2),n.qZA(),n._uU(3),n.qZA()}if(2&p){const a=P.$implicit;n.Q6J("color",a.color)("disabled",a.disabled),n.xp6(2),n.Oqu(a.icon),n.xp6(1),n.hij(" ",a.name," ")}}let E=(()=>{class p{constructor(a){this.donacionesService=a,this.buttons=[],this.statusChanged=new n.vpe,this.caracteristicas=""}ngOnInit(){console.log(this.donacion,this.usuarioHeader,this.donacion.caracteristicaDonacion);for(const[a,i]of this.donacion.caracteristicaDonacion.entries())i.caracteristica&&0==a?this.caracteristicas=i.caracteristica:i.caracteristica&&(this.caracteristicas+=" - "+i.caracteristica)}getImage(a){return this.donacionesService.getImagen(a)}zoomImage(a){a&&l().fire({html:`<img src="${this.getImage(a)}" style="width: 100%"/>`,showConfirmButton:!1,showCloseButton:!0})}changeEstadoDonacion(a,i){let C="",e="",d="",t="",r="",v="warning";switch(i){case"CANCELADA":C="Confirmar Cancelaci\xf3n",e="\xbfEst\xe1s seguro/a que quer\xe9s cancelar esta donaci\xf3n? La acci\xf3n es irreversible, pero podr\xe1s crear otra donaci\xf3n luego.",r="S\xed, cancelar donaci\xf3n",t="No, mantener donaci\xf3n",v="warning";break;case"ACEPTADA":C="Confirmar Aprobaci\xf3n",e="Confirm\xe1 que acept\xe1s la donaci\xf3n. Esta acci\xf3n es irreversible ya que comenzar\xe1 con el proceso de env\xedo.",d="S\xed, aceptar donaci\xf3n",t="No, cancelar",v="warning";break;case"RECHAZADA":C="Confirmar Rechazo",e="\xbfEst\xe1s seguro/a que quer\xe9s rechazar esta donaci\xf3n? La acci\xf3n es irreversible.",r="S\xed, rechazar donaci\xf3n",t="No, cancelar",v="warning";break;default:C="Confirmar Acci\xf3n",e="Cambiar el estado de la donaci\xf3n es irreversible, \xbfEst\xe1s seguro/a que quer\xe9s continuar?",d="S\xed, continuar",t="No, cancelar",v="warning"}l().fire({title:C,text:e,showConfirmButton:""!=d,confirmButtonText:d,showDenyButton:""!=r,denyButtonText:r,showCancelButton:""!=t,cancelButtonText:t,icon:v,reverseButtons:!0}).then(({isConfirmed:T,isDenied:M})=>{(T||M)&&this.donacionesService.cambiarEstadoDonacion(a.producto.colectaDTO.idColecta,a.idDonacion,{nuevoEstado:i}).subscribe({next:A=>{console.log(A),this.donacion.estadoDonacion=i,this.statusChanged.emit()}})})}getStars(a){const i=[];for(let C=0;C<a;C++)i.push(1);return i}}return p.\u0275fac=function(a){return new(a||p)(n.Y36(b.M))},p.\u0275cmp=n.Xpm({type:p,selectors:[["app-card-donacion"]],inputs:{donacion:"donacion",id_colecta:"id_colecta",usuarioHeader:"usuarioHeader",buttons:"buttons"},outputs:{statusChanged:"statusChanged"},decls:25,vars:18,consts:[[2,"margin","10px"],[1,"header"],["mat-card-avatar","",1,"donacion-example-header-image"],["color","primary",4,"ngFor","ngForOf"],["class","empty-star",4,"ngFor","ngForOf"],[2,"text-align","right"],[1,"donacion-card-content"],[1,"card-title"],[1,"imagenes"],[3,"src","click",4,"ngFor","ngForOf"],[1,"donacion-status"],["mat-fab","","extended","",3,"color","disabled","click",4,"ngFor","ngForOf"],["color","primary"],[1,"empty-star"],[3,"src","click"],["mat-fab","","extended","",3,"color","disabled","click"]],template:function(a,i){1&a&&(n.TgZ(0,"mat-card",0)(1,"mat-card-header",1),n._UZ(2,"div",2),n.TgZ(3,"mat-card-title"),n._uU(4),n.qZA(),n.TgZ(5,"mat-card-subtitle"),n.YNc(6,u,2,0,"mat-icon",3),n.YNc(7,O,2,0,"mat-icon",4),n.qZA(),n.TgZ(8,"div",5),n._uU(9),n.ALo(10,"date"),n.qZA()(),n.TgZ(11,"mat-card-content",6)(12,"div")(13,"h2",7),n._uU(14),n.qZA(),n.TgZ(15,"p"),n._uU(16),n.qZA(),n.TgZ(17,"p"),n._uU(18),n.qZA(),n.TgZ(19,"p"),n._uU(20),n.qZA()(),n.TgZ(21,"div",8),n.YNc(22,x,1,1,"img",9),n.qZA(),n.TgZ(23,"div",10),n.YNc(24,D,4,4,"button",11),n.qZA()()()),2&a&&(n.xp6(4),n.AsE("",i.usuarioHeader.nombre," ",i.usuarioHeader.apellido,""),n.xp6(2),n.Q6J("ngForOf",i.getStars(i.usuarioHeader.puntaje)),n.xp6(1),n.Q6J("ngForOf",i.getStars(5-i.usuarioHeader.puntaje)),n.xp6(2),n.Oqu(n.xi3(10,15,i.donacion.fechaDonacion,"dd/MM/yyyy")),n.xp6(5),n.Oqu(i.donacion.producto.descripcion||i.donacion.nombreProducto),n.xp6(2),n.hij("Cantidad: ",i.donacion.cantidadDonacion,""),n.xp6(1),n.ekj("aprobada","APROBADA"==i.donacion.estadoDonacion)("rechazada","RECHAZADA"==i.donacion.estadoDonacion),n.xp6(1),n.hij("Estado: ",i.donacion.estadoDonacion,""),n.xp6(2),n.Oqu(i.caracteristicas.length>0?"Caracter\xedsticas: "+i.caracteristicas:""),n.xp6(2),n.Q6J("ngForOf",i.donacion.parsedImagenes),n.xp6(2),n.Q6J("ngForOf",i.buttons))},dependencies:[s.Hw,_.cs,c.a8,c.kc,c.dn,c.dk,c.$j,c.n5,g.sg,g.uU],styles:[".header[_ngcontent-%COMP%]{border-bottom:solid 1px var(--light-grey);display:grid;grid-template-columns:.5fr 3fr 3fr}.donacion-example-header-image[_ngcontent-%COMP%]{background-image:url(perfiles-17.f67e69cf999cd190.jpg);background-size:cover}.donacion-card-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 2fr 1fr;gap:1rem;margin-top:10px}.donacion-card-content[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:65px;margin:5px;border-radius:5px;box-shadow:2px 2px 5px var(--dark-grey)}.donacion-card-content[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.donacion-card-content[_ngcontent-%COMP%]   .donacion-status[_ngcontent-%COMP%]{display:flex;flex-direction:column}.donacion-card-content[_ngcontent-%COMP%]   .donacion-status[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px auto;width:150px;text-transform:uppercase}.donacion-card-content[_ngcontent-%COMP%]   .aprobada[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500}.donacion-card-content[_ngcontent-%COMP%]   .rechazada[_ngcontent-%COMP%]{color:var(--warn-color)}@media (min-width: 0px) and (max-width: 576px){.header[_ngcontent-%COMP%], .donacion-card-content[_ngcontent-%COMP%]{grid-template-columns:1fr!important;justify-items:center}.header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .donacion-card-content[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{text-align:center}}"]}),p})()},8719:(h,f,o)=>{o.d(f,{G:()=>C});var n=o(2223),m=o(2777),l=o(1531),b=o(430),s=o(1728),_=o(4755);function c(e,d){if(1&e&&n._UZ(0,"img",14),2&e){const t=n.oxw().$implicit,r=n.oxw();n.Q6J("src",r.getImagen(t.parsedImagenes[0]),n.LSH)("ngClass","publicaciones"==r.origin||"mis-publicaciones"==r.origin?"big":"small")}}function g(e,d){if(1&e&&(n.TgZ(0,"h3"),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.AsE("",t.particularDTO.nombre," ",t.particularDTO.apellido,"")}}function u(e,d){if(1&e&&(n.TgZ(0,"div",15),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.hij(" Precio de venta: $",t.precioVenta," ")}}function O(e,d){if(1&e&&(n.TgZ(0,"div",16),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.hij(" Estado del trueque: ",t.estadoTrueque," ")}}function x(e,d){if(1&e&&(n.TgZ(0,"div",17),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.hij(" Estado de la publicaci\xf3n: ",t.estadoPublicacion," ")}}function D(e,d){if(1&e&&(n.TgZ(0,"h6"),n._uU(1),n.qZA()),2&e){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(t.particularDTO.direcciones[0].localidad)}}function E(e,d){if(1&e&&(n.TgZ(0,"div",18),n._UZ(1,"img",19),n.TgZ(2,"h4"),n._uU(3),n.qZA(),n.TgZ(4,"h6"),n._uU(5),n.ALo(6,"date"),n.qZA(),n.YNc(7,D,2,1,"h6",7),n.qZA()),2&e){const t=n.oxw().$implicit,r=n.oxw();n.xp6(3),n.Oqu(t.particularDTO.nombre+" "+t.particularDTO.apellido),n.xp6(2),n.Oqu(n.xi3(6,3,t.fechaPublicacion,"dd/MM/yyyy")),n.xp6(2),n.Q6J("ngIf","publicaciones"==r.origin&&t.particularDTO.direcciones.length>0)}}function p(e,d){if(1&e){const t=n.EpF();n.TgZ(0,"button",24),n.NdJ("click",function(v){const M=n.CHM(t).$implicit,A=n.oxw(2).$implicit;return n.oxw().changeEstadoPublicacion(A,M.status),n.KtG(v.stopPropagation())}),n.TgZ(1,"mat-icon"),n._uU(2),n.qZA(),n._uU(3),n.qZA()}if(2&e){const t=d.$implicit,r=n.oxw(2).$implicit;n.Q6J("color",t.color)("disabled","RECIBIDO"!=t.status?"PENDIENTE"!=r.estadoTrueque:"ACEPTADO"!=r.estadoTrueque),n.xp6(2),n.Oqu(t.icon),n.xp6(1),n.hij(" ",t.name," ")}}function P(e,d){if(1&e&&(n.TgZ(0,"span",25),n._uU(1),n.qZA()),2&e){const t=n.oxw(2).$implicit;n.Q6J("ngClass","APROBADO"==t.estadoTrueque?"green":"red"),n.xp6(1),n.Oqu("APROBADO"==t.estadoTrueque?"verified":"do_not_disturb_on")}}function a(e,d){if(1&e&&(n.TgZ(0,"div",20),n.YNc(1,p,4,4,"button",21),n.TgZ(2,"div",22),n.YNc(3,P,2,2,"span",23),n.qZA()()),2&e){const t=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",t.buttons),n.xp6(2),n.Q6J("ngIf",0==t.buttons.length)}}function i(e,d){if(1&e){const t=n.EpF();n.TgZ(0,"div",2),n.NdJ("click",function(){const T=n.CHM(t).$implicit,M=n.oxw();return n.KtG(M.clicked(T))}),n.TgZ(1,"div",3),n.YNc(2,c,1,2,"img",4),n.qZA(),n.TgZ(3,"div",5)(4,"h2",6),n._uU(5),n.qZA(),n.YNc(6,g,2,2,"h3",7),n.TgZ(7,"div",8),n._uU(8),n.qZA(),n.YNc(9,u,2,1,"div",9),n.YNc(10,O,2,1,"div",10),n.YNc(11,x,2,1,"div",11),n.qZA(),n.YNc(12,E,8,6,"div",12),n.YNc(13,a,4,2,"div",13),n.qZA()}if(2&e){const t=d.$implicit,r=n.oxw();n.Q6J("ngClass","intercambio"==r.origin&&t.idPublicacion==r.cardSelected?"selected-card":""),n.xp6(2),n.Q6J("ngIf",t.parsedImagenes&&t.parsedImagenes.length>0),n.xp6(3),n.Oqu(t.titulo),n.xp6(1),n.Q6J("ngIf","propuestas"==r.origin),n.xp6(2),n.AsE(" Valor de trueque: $",t.valorTruequeMin," - $",t.valorTruequeMax," "),n.xp6(1),n.Q6J("ngIf","VENTA"==t.tipoPublicacion),n.xp6(1),n.Q6J("ngIf","propuestas"==r.origin),n.xp6(1),n.Q6J("ngIf","mis-publicaciones"==r.origin),n.xp6(1),n.Q6J("ngIf","publicaciones"==r.origin||"mis-publicaciones"==r.origin),n.xp6(1),n.Q6J("ngIf","propuestas"==r.origin)}}let C=(()=>{class e{constructor(t,r){this.truequesService=t,this.router=r,this.publicacionesToShow=[],this.origin="publicaciones",this.buttons=[],this.selectedCard=new n.vpe,this.changeStatus=new n.vpe}getImagen(t){return this.truequesService.getImagen(t)}clicked(t){"publicaciones"==this.origin||"mis-publicaciones"==this.origin?this.goToPublicacion(t):(this.cardSelected=t.idPublicacion,this.selectedCard.emit(this.cardSelected))}goToPublicacion(t){this.router.navigate(["publicacion/"+t.idPublicacion])}changeEstadoPublicacion(t,r){this.changeStatus.emit({publicacion:t,newStatus:r})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(m.x),n.Y36(l.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-deck-publicaciones"]],inputs:{publicacionesToShow:"publicacionesToShow",origin:"origin",buttons:"buttons"},outputs:{selectedCard:"selectedCard",changeStatus:"changeStatus"},decls:2,vars:1,consts:[[1,"card-deck"],["class","card row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card","row",3,"ngClass","click"],[1,"col-sm-4",2,"display","flex","justify-content","center"],["class","card-img",3,"src","ngClass",4,"ngIf"],[1,"card-body","col-sm-5"],[1,"card-title"],[4,"ngIf"],[1,"trueque"],["class","venta",4,"ngIf"],["class","estado",4,"ngIf"],["class","estado-publicacion",4,"ngIf"],["class","card-fundacion col-sm-2",4,"ngIf"],["class","col-3 buttons",4,"ngIf"],[1,"card-img",3,"src","ngClass"],[1,"venta"],[1,"estado"],[1,"estado-publicacion"],[1,"card-fundacion","col-sm-2"],["src","assets/perfiles/perfiles-17.jpg",1,"img-fundacion"],[1,"col-3","buttons"],["mat-fab","","extended","",3,"color","disabled","click",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],["class","material-icons-outlined result-icon",3,"ngClass",4,"ngIf"],["mat-fab","","extended","",3,"color","disabled","click"],[1,"material-icons-outlined","result-icon",3,"ngClass"]],template:function(t,r){1&t&&(n.TgZ(0,"div",0),n.YNc(1,i,14,11,"div",1),n.qZA()),2&t&&(n.xp6(1),n.Q6J("ngForOf",r.publicacionesToShow))},dependencies:[b.Hw,s.cs,_.mk,_.sg,_.O5,_.uU],styles:[".card[_ngcontent-%COMP%]{margin:5px;display:flex;flex-direction:row;align-items:center}.card.selected-card[_ngcontent-%COMP%]{background-color:#bceba1}.card[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{margin:20px;width:auto;max-width:100%}.card[_ngcontent-%COMP%]   .card-img.big[_ngcontent-%COMP%]{max-height:160px}.card[_ngcontent-%COMP%]   .card-img.small[_ngcontent-%COMP%]{max-height:110px}.card[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.card[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]{margin:5px 10px;min-width:100px}.card[_ngcontent-%COMP%]   .estado-publicacion[_ngcontent-%COMP%]{margin-top:5px}.card[_ngcontent-%COMP%]   .card-fundacion[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]   .card-fundacion[_ngcontent-%COMP%]   .img-fundacion[_ngcontent-%COMP%]{width:30px}.card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin:10px auto}.card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;width:100%}.card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:40px}.card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .result-icon.green[_ngcontent-%COMP%]{color:var(--primary-color)}.card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .result-icon.red[_ngcontent-%COMP%]{color:var(--warn-color)}@media (min-width: 0px) and (max-width: 576px){.buttons[_ngcontent-%COMP%]{width:50%!important}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;width:100%}}"]}),e})()},4984:(h,f,o)=>{o.d(f,{O:()=>s});var n=o(2223),m=o(8467),l=o(4755);function b(_,c){1&_&&n._UZ(0,"mat-spinner",2)}let s=(()=>{class _{constructor(){this.loading=!1}}return _.\u0275fac=function(g){return new(g||_)},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-spinner"]],inputs:{loading:"loading"},decls:2,vars:1,consts:[[2,"display","flex","justify-content","center"],["diameter","40",4,"ngIf"],["diameter","40"]],template:function(g,u){1&g&&(n.TgZ(0,"div",0),n.YNc(1,b,1,0,"mat-spinner",1),n.qZA()),2&g&&(n.xp6(1),n.Q6J("ngIf",u.loading))},dependencies:[m.Ou,l.O5]}),_})()}}]);