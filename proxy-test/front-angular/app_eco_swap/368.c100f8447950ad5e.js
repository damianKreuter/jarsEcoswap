"use strict";(self.webpackChunkapp_eco_swap=self.webpackChunkapp_eco_swap||[]).push([[368],{9499:(U,C,n)=>{n.d(C,{O:()=>x});var u=n(4755),h=n(4766),s=n(9401),f=n(3148),Z=n(4466),c=n(2223);let x=(()=>{class o{}return o.\u0275fac=function(F){return new(F||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[u.ez,h.q,f.IJ,s.u5,s.UX,Z.m]}),o})()},2368:(U,C,n)=>{n.r(C),n.d(C,{RegistroModule:()=>Ao});var u=n(4755),h=n(1531),s=n(9401),f=n(1217),Z=n(5226),c=n.n(Z),x=n(6266),o=n(2223),A=n(5763),F=n(4377),D=n(2342),O=n(8954),q=n(4212),v=n(9114),b=n(430),N=n(9609),R=n(8467),y=n(1728),E=n(787),I=n(8280),_=n(6012),M=n(7876);function J(t,a){1&t&&(o.TgZ(0,"div",4),o._UZ(1,"mat-spinner",5),o.qZA())}function Y(t,a){if(1&t&&(o.TgZ(0,"div")(1,"mat-card-title"),o._uU(2,"Registrate!"),o.qZA(),o.TgZ(3,"mat-card-subtitle"),o._uU(4),o.qZA()()),2&t){const e=o.oxw(2);o.xp6(4),o.hij("Complet\xe1 ",e.isSwapper?"tus datos":"los datos de la fundaci\xf3n"," para crear tu cuenta")}}function Q(t,a){if(1&t&&(o.TgZ(0,"div")(1,"mat-card-title"),o._uU(2,"Actualizar contrase\xf1a"),o.qZA(),o.TgZ(3,"mat-card-subtitle"),o._uU(4),o.qZA()()),2&t){const e=o.oxw(2);o.xp6(4),o.hij("Complet\xe1 ",e.isSwapper?"tus datos":"los datos de la fundaci\xf3n"," para actualizar tu contrase\xf1a")}}function S(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function B(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Email inv\xe1lido "),o.qZA())}function V(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function k(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," El formato debe ser 11 1234-5678 "),o.qZA())}function K(t,a){if(1&t){const e=o.EpF();o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Tel\xe9fono"),o.qZA(),o.TgZ(3,"input",22),o.NdJ("keyup",function(){o.CHM(e);const i=o.oxw(2);return o.KtG(i.formatearTelefono())}),o.qZA(),o.TgZ(4,"mat-hint"),o._uU(5,"Formato: 11 1234-5678"),o.qZA(),o.YNc(6,V,2,0,"mat-error",12),o.YNc(7,k,2,0,"mat-error",12),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(3),o.Q6J("ngModel",e.mainForm.get("telefono").value),o.xp6(3),o.Q6J("ngIf",e.mainForm.get("telefono").hasError("required")),o.xp6(1),o.Q6J("ngIf",e.mainForm.get("telefono").hasError("formatoInvalido"))}}function G(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function j(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Las contrase\xf1as no coinciden "),o.qZA())}function z(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Debe tener de 8 a 32 caracteres y al menos 1 min\xfascula, 1 may\xfascula, 1 n\xfamero y 1 caracter especial. "),o.qZA())}function H(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function $(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Las contrase\xf1as no coinciden "),o.qZA())}function L(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function W(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function X(t,a){if(1&t&&(o.TgZ(0,"mat-option",32),o._uU(1),o.qZA()),2&t){const e=a.$implicit;o.Q6J("value",e.nombre),o.xp6(1),o.hij(" ",e.descripcion," ")}}function oo(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function ro(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function to(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Formato inv\xe1lido "),o.qZA())}function eo(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function ao(t,a){if(1&t){const e=o.EpF();o.TgZ(0,"form",9)(1,"div",10)(2,"mat-form-field")(3,"mat-label"),o._uU(4,"Nombre"),o.qZA(),o._UZ(5,"input",23),o.YNc(6,L,2,0,"mat-error",12),o.qZA()(),o.TgZ(7,"div",10)(8,"mat-form-field")(9,"mat-label"),o._uU(10,"Apellido"),o.qZA(),o._UZ(11,"input",24),o.YNc(12,W,2,0,"mat-error",12),o.qZA()(),o.TgZ(13,"div",10)(14,"mat-form-field")(15,"mat-label"),o._uU(16,"Tipo Documento"),o.qZA(),o.TgZ(17,"mat-select",25),o.NdJ("selectionChange",function(i){o.CHM(e);const m=o.oxw(2);return o.KtG(m.formatDocument(i))}),o.YNc(18,X,2,2,"mat-option",26),o.qZA(),o.YNc(19,oo,2,0,"mat-error",12),o.qZA()(),o.TgZ(20,"div",10)(21,"mat-form-field")(22,"mat-label"),o._uU(23,"N\xfamero de Documento"),o.qZA(),o._UZ(24,"input",27),o.YNc(25,ro,2,0,"mat-error",12),o.YNc(26,to,2,0,"mat-error",12),o.qZA()(),o.TgZ(27,"div",10)(28,"mat-form-field",28)(29,"mat-label"),o._uU(30,"Fecha de Nacimiento"),o.qZA(),o._UZ(31,"input",29),o.TgZ(32,"mat-hint"),o._uU(33,"DD/MM/YYYY"),o.qZA(),o._UZ(34,"mat-datepicker-toggle",30)(35,"mat-datepicker",null,31),o.YNc(37,eo,2,0,"mat-error",12),o.qZA()()()}if(2&t){const e=o.MAs(36),r=o.oxw(2);o.Q6J("formGroup",r.particularForm),o.xp6(6),o.Q6J("ngIf",r.particularForm.get("nombre").hasError("required")),o.xp6(6),o.Q6J("ngIf",r.particularForm.get("apellido").hasError("required")),o.xp6(6),o.Q6J("ngForOf",r.tiposDocumento),o.xp6(1),o.Q6J("ngIf",r.particularForm.get("tipoDocumento").hasError("required")),o.xp6(6),o.Q6J("ngIf",r.particularForm.get("nroDocumento").hasError("required")),o.xp6(1),o.Q6J("ngIf",r.particularForm.get("nroDocumento").hasError("pattern")),o.xp6(5),o.Q6J("matDatepicker",e),o.xp6(3),o.Q6J("for",e),o.xp6(3),o.Q6J("ngIf",r.particularForm.get("fechaNacimiento").hasError("required"))}}function io(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function no(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function so(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," CUIT inv\xe1lido "),o.qZA())}function mo(t,a){if(1&t){const e=o.EpF();o.TgZ(0,"form",9)(1,"div",10)(2,"mat-form-field")(3,"mat-label"),o._uU(4,"Nombre / Raz\xf3n Social"),o.qZA(),o._UZ(5,"input",23),o.YNc(6,io,2,0,"mat-error",12),o.qZA()(),o.TgZ(7,"div",10)(8,"mat-form-field")(9,"mat-label"),o._uU(10,"CUIT"),o.qZA(),o.TgZ(11,"input",33),o.NdJ("keyup",function(){o.CHM(e);const i=o.oxw(2);return o.KtG(i.formatearCUIT())}),o.qZA(),o.TgZ(12,"mat-hint"),o._uU(13,"Formato: 20-12345678-9"),o.qZA(),o.YNc(14,no,2,0,"mat-error",12),o.YNc(15,so,2,0,"mat-error",12),o.qZA()()()}if(2&t){const e=o.oxw(2);o.Q6J("formGroup",e.fundacionForm),o.xp6(6),o.Q6J("ngIf",e.fundacionForm.get("nombre").hasError("required")),o.xp6(8),o.Q6J("ngIf",e.fundacionForm.get("cuit").hasError("required")),o.xp6(1),o.Q6J("ngIf",e.fundacionForm.get("cuit").hasError("invalidCUIT"))}}function co(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function lo(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function uo(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1," Campo obligatorio "),o.qZA())}function po(t,a){if(1&t&&(o.TgZ(0,"form",9)(1,"div",10)(2,"mat-form-field")(3,"mat-label"),o._uU(4,"Calle"),o.qZA(),o._UZ(5,"input",34),o.YNc(6,co,2,0,"mat-error",12),o.qZA()(),o.TgZ(7,"div",10)(8,"mat-form-field")(9,"mat-label"),o._uU(10,"Altura"),o.qZA(),o._UZ(11,"input",35),o.YNc(12,lo,2,0,"mat-error",12),o.qZA()(),o.TgZ(13,"div",10)(14,"mat-form-field")(15,"mat-label"),o._uU(16,"Piso"),o.qZA(),o._UZ(17,"input",36),o.qZA()(),o.TgZ(18,"div",10)(19,"mat-form-field")(20,"mat-label"),o._uU(21,"Departamento"),o.qZA(),o._UZ(22,"input",37),o.qZA()(),o.TgZ(23,"div",10)(24,"mat-form-field")(25,"mat-label"),o._uU(26,"C\xf3digo Postal"),o.qZA(),o._UZ(27,"input",38),o.YNc(28,uo,2,0,"mat-error",12),o.qZA()()()),2&t){const e=o.oxw(2);o.Q6J("formGroup",e.direccionForm),o.xp6(6),o.Q6J("ngIf",e.direccionForm.get("direccion").hasError("required")),o.xp6(6),o.Q6J("ngIf",e.direccionForm.get("altura").hasError("required")),o.xp6(16),o.Q6J("ngIf",e.direccionForm.get("codigoPostal").hasError("required"))}}function fo(t,a){1&t&&o._UZ(0,"mat-spinner",39)}function _o(t,a){if(1&t){const e=o.EpF();o.TgZ(0,"mat-card",6)(1,"mat-card-header"),o.YNc(2,Y,5,1,"div",7),o.YNc(3,Q,5,1,"ng-template",null,8,o.W1O),o.qZA(),o.TgZ(5,"mat-card-content")(6,"form",9)(7,"div",10)(8,"mat-form-field")(9,"mat-label"),o._uU(10,"Email"),o.qZA(),o._UZ(11,"input",11),o.YNc(12,S,2,0,"mat-error",12),o.YNc(13,B,2,0,"mat-error",12),o.qZA()(),o.TgZ(14,"div",13),o.YNc(15,K,8,3,"mat-form-field",12),o.qZA(),o.TgZ(16,"div",13)(17,"mat-form-field")(18,"mat-label"),o._uU(19,"Contrase\xf1a"),o.qZA(),o.TgZ(20,"input",14),o.NdJ("change",function(){o.CHM(e);const i=o.oxw();return o.KtG(i.refreshValidity())}),o.qZA(),o.TgZ(21,"mat-icon",15),o.NdJ("click",function(){o.CHM(e);const i=o.oxw();return o.KtG(i.togglePassword())}),o._uU(22),o.qZA(),o.YNc(23,G,2,0,"mat-error",12),o.YNc(24,j,2,0,"mat-error",12),o.YNc(25,z,2,0,"mat-error",12),o.qZA()(),o.TgZ(26,"div",10)(27,"mat-form-field")(28,"mat-label"),o._uU(29,"Confirm Password"),o.qZA(),o.TgZ(30,"input",16),o.NdJ("focus",function(){o.CHM(e);const i=o.oxw();return o.KtG(i.refreshValidity())}),o.qZA(),o.TgZ(31,"mat-icon",15),o.NdJ("click",function(){o.CHM(e);const i=o.oxw();return o.KtG(i.togglePassword())}),o._uU(32),o.qZA(),o.YNc(33,H,2,0,"mat-error",12),o.YNc(34,$,2,0,"mat-error",12),o.qZA()()(),o.YNc(35,ao,38,10,"form",17),o.YNc(36,mo,16,4,"form",17),o.TgZ(37,"div",18),o._uU(38,"Direcci\xf3n"),o.qZA(),o.YNc(39,po,29,4,"form",17),o.qZA(),o.TgZ(40,"mat-card-actions",19)(41,"button",20),o.NdJ("click",function(){o.CHM(e);const i=o.oxw();return i.submit(),i.mainForm.markAllAsTouched(),o.KtG(i.direccionForm.valid)}),o._uU(42),o.YNc(43,fo,1,0,"mat-spinner",21),o.qZA()()()}if(2&t){const e=o.MAs(4),r=o.oxw();o.xp6(2),o.Q6J("ngIf","resetPassword"!=r.origin)("ngIfElse",e),o.xp6(4),o.Q6J("formGroup",r.mainForm),o.xp6(6),o.Q6J("ngIf",r.mainForm.get("email").hasError("required")),o.xp6(1),o.Q6J("ngIf",r.mainForm.get("email").hasError("pattern")),o.xp6(1),o.Q6J("ngClass",r.mainForm.get("telefono").hasError("formatoInvalido")?"form-input-medium-error":""),o.xp6(1),o.Q6J("ngIf","resetPassword"!=r.origin),o.xp6(1),o.Q6J("ngClass",r.mainForm.get("password").hasError("pattern")?"form-input-long-error":""),o.xp6(4),o.Q6J("type",r.passwordType),o.xp6(2),o.Oqu(r.passwordIcon),o.xp6(1),o.Q6J("ngIf",r.mainForm.get("password").hasError("required")),o.xp6(1),o.Q6J("ngIf",r.mainForm.get("password").hasError("differentPassword")&&!r.mainForm.get("password").hasError("pattern")),o.xp6(1),o.Q6J("ngIf",r.mainForm.get("password").hasError("pattern")),o.xp6(5),o.Q6J("type",r.passwordType),o.xp6(2),o.Oqu(r.passwordIcon),o.xp6(1),o.Q6J("ngIf",r.mainForm.get("confirmPassword").hasError("required")),o.xp6(1),o.Q6J("ngIf",r.mainForm.get("confirmPassword").hasError("differentPassword")),o.xp6(1),o.Q6J("ngIf",r.isSwapper&&"resetPassword"!=r.origin),o.xp6(1),o.Q6J("ngIf",!r.isSwapper&&"resetPassword"!=r.origin),o.xp6(3),o.Q6J("ngIf","resetPassword"!=r.origin),o.xp6(2),o.Q6J("disabled",!r.mainForm.valid||r.isSwapper&&!r.particularForm.valid||!r.isSwapper&&!r.fundacionForm.valid||!r.direccionForm.valid),o.xp6(1),o.hij(" ","resetPassword"==r.origin?"ACTUALIZAR CONTRASE\xd1A":"createAccount"==r.origin?"CREAR CUENTA":"GUARDAR CAMBIOS"," "),o.xp6(1),o.Q6J("ngIf",r.loadingSave)}}function ho(t){const a=t.value;if(!a)return null;if(!/^\d{2}-\d{8,9}-\d{1,2}$/.test(a))return{invalidCUIT:!0};const r=a.replace(/-/g,""),i=parseInt(r.charAt(r.length-1)),m=[5,4,3,2,7,6,5,4,3,2];let d=0;for(let l=0;l<10;l++)d+=parseInt(r.charAt(l))*m[l];const p=d%11;return(0===p?0:11-p)!==i?{invalidCUIT:!0}:null}const vo=[{path:"",component:(()=>{class t{constructor(e,r,i,m,d,p,g,l,P,T){this.fb=e,this.dateAdapter=r,this.usuarioService=i,this.location=m,this.auth=d,this.router=p,this.snackbar=g,this.cdr=l,this.phoneNumberPipe=P,this.cuitPipe=T,this.isSwapper=!0,this.loading=!0,this.origin="createAccount",this.passwordIcon="visibility_off",this.passwordType="password",this.tiposDocumento=[],this.loadingSave=!1,this.mainForm=e.group({email:["",[s.kI.required,s.kI.pattern(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)]],telefono:["",[s.kI.required,this.telefonoValidator()]],password:["",[s.kI.required,s.kI.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@#$%^&+=!*\-_.,])[a-zA-Z\d@#$%^&+=!*\-_.,]{8,32}$/),this.validarConfirmPassword()]],confirmPassword:["",[s.kI.required,this.validarConfirmPassword()]]}),this.particularForm=e.group({nombre:["",s.kI.required],apellido:["",s.kI.required],tipoDocumento:["",s.kI.required],nroDocumento:[{value:"",disabled:!0},s.kI.required],fechaNacimiento:["",s.kI.required]}),this.fundacionForm=e.group({nombre:["",s.kI.required],cuit:["",[s.kI.required,ho]]}),this.direccionForm=e.group({direccion:["",s.kI.required],altura:["",s.kI.required],piso:[""],departamento:[""],codigoPostal:["",s.kI.required]}),this.screenWidth=window.innerWidth>0?window.innerWidth:screen.width,this.dateAdapter.setLocale("es-AR");const w=m.path();"/reset-password"==w?this.origin="resetPassword":"/edit-perfil"==w?(this.origin="editAccount",this.mainForm.controls.password.disable(),this.mainForm.controls.confirmPassword.disable(),this.mainForm.controls.email.disable()):this.mainForm.controls.telefono.addValidators(s.kI.required)}ngOnInit(){"createAccount"==this.origin?this.selectTipoPerfil():"editAccount"==this.origin?(this.loadUserInfo(),this.loading=!1):this.loading=!1,this.getTiposDocumentos()}ngOnDestroy(){c().close()}loadUserInfo(){this.auth.getUserID()?this.usuarioService.getUserByID(this.auth.getUserID()).subscribe({next:r=>{console.log(r),this.mainForm.patchValue({email:r.email,telefono:r.telefono}),r.particularDTO?this.particularForm.patchValue({nombre:r.particularDTO.nombre,apellido:r.particularDTO.apellido,tipoDocumento:r.particularDTO.tipoDocumento,nroDocumento:r.particularDTO.dni,fechaNacimiento:r.particularDTO.fechaNacimiento}):this.fundacionForm.patchValue({nombre:r.fundacionDTO.nombre,cuit:r.fundacionDTO.cuil}),this.direccionForm.patchValue({direccion:r.particularDTO?r.particularDTO.direcciones[0].direccion:r.fundacionDTO.direcciones[0].direccion,altura:r.particularDTO?r.particularDTO.direcciones[0].altura:r.fundacionDTO.direcciones[0].altura,piso:r.particularDTO?r.particularDTO.direcciones[0].piso:r.fundacionDTO.direcciones[0].piso,departamento:r.particularDTO?r.particularDTO.direcciones[0].departamento:r.fundacionDTO.direcciones[0].departamento,codigoPostal:r.particularDTO?r.particularDTO.direcciones[0].codigoPostal:r.fundacionDTO.direcciones[0].codigoPostal})},error:r=>{console.log("error",r)}}):c().fire("Error!","Ocurri\xf3 un error al traer tu informaci\xf3n. Intentalo devuelta m\xe1s tarde","error")}selectTipoPerfil(){c().fire({title:"\xa1Te damos la bienvenida!",text:"Nos alegra que te sumes a nuestra comunidad, antes de seguir, \n\t\t\tnecesitamos saber si te quer\xe9s registrar como fundaci\xf3n o como Particular",confirmButtonText:"Represento a una fundaci\xf3n",confirmButtonColor:"#87db59",cancelButtonText:"No soy de una fundaci\xf3n",showCancelButton:!0,cancelButtonColor:"#ae59db",icon:"question",allowOutsideClick:!1,allowEscapeKey:!1}).then(e=>{console.log(e),e.isConfirmed?(this.isSwapper=!1,this.particularForm=this.fb.group({})):this.fundacionForm=this.fb.group({}),console.log(this.isSwapper),this.loading=!1})}getTiposDocumentos(){this.usuarioService.getTiposDocumentos().subscribe({next:e=>{console.log("TIPOS DOC:",e),this.tiposDocumento=e},error:e=>{console.log("ERROR TIPOS DOC:",e)}})}submit(){if(this.loadingSave=!0,console.log("registro",this.mainForm.value),this.mainForm.valid)if("resetPassword"==this.origin)this.auth.resetPassword({username:this.mainForm.controls.email.value,nuevoPassword:this.mainForm.controls.password.value,confirmarPassword:this.mainForm.controls.confirmPassword.value}).subscribe({next:r=>{console.log(r),this.loadingSave=!1},error:r=>{console.log("error:",r),this.loadingSave=!1}});else if(this.direccionForm.valid){let e={username:this.mainForm.controls.email.value,email:this.mainForm.controls.email.value,password:this.mainForm.controls.password.value,telefono:this.mainForm.controls.telefono.value,confirmPassword:this.mainForm.controls.confirmPassword.value,direccion:{altura:this.direccionForm.controls.altura.value,codigoPostal:this.direccionForm.controls.codigoPostal.value,direccion:this.direccionForm.controls.direccion.value,departamento:this.direccionForm.controls.departamento.value,piso:this.direccionForm.controls.piso.value}},r=!1;this.isSwapper?this.particularForm.valid?(e.particular={fechaNacimiento:new Date(this.particularForm.controls.fechaNacimiento.value),dni:this.particularForm.controls.nroDocumento.value,cuil:this.particularForm.controls.nroDocumento.value,nombre:this.particularForm.controls.nombre.value,apellido:this.particularForm.controls.apellido.value,tipoDocumento:this.particularForm.controls.tipoDocumento.value},r=!0):(this.showMessage("\xa1Campos incorrectos!","Por favor, revis\xe1 los campos y volv\xe9 a intentar","OK","","error"),this.loadingSave=!1):this.fundacionForm.valid?(e.fundacion={nombre:this.fundacionForm.controls.nombre.value,cuil:this.fundacionForm.controls.cuit.value},r=!0):(this.showMessage("\xa1Campos incorrectos!","Por favor, revis\xe1 los campos y volv\xe9 a intentar","OK","","error"),this.loadingSave=!1),console.log(e),r&&("createAccount"==this.origin?this.usuarioService.createUser(e).subscribe({next:i=>{console.log("next",i),this.id_user=i,this.showMessage("\xa1Gracias por registrarte!","Te enviamos un email a la cuenta que ingresaste,\n\t\t\t\t\t\t\t\t\t\tcon un c\xf3digo para verificar tu cuenta. Por favor ingresalo a continuaci\xf3n.\n\t\t\t\t\t\t\t\t\t\tSi no verific\xe1s la cuenta ahora, podr\xe1s hacerlo la pr\xf3xima vez que inicies sesi\xf3n.","Confirmar","send_again","success","No recib\xed el email"),this.loadingSave=!1},error:i=>{console.error("error",i),this.loadingSave=!1}}):this.usuarioService.editUser(e).subscribe({next:i=>{console.log("next",i),this.showMessage("\xa1\xc9xito!","Tus datos se editaron exitosamente.","Genial!","edit","success"),this.loadingSave=!1},error:i=>{console.error("error",i),this.loadingSave=!1}}))}else this.showMessage("\xa1Campos incorrectos!","Por favor, revis\xe1 los campos y volv\xe9 a intentar","OK","","error"),this.loadingSave=!1;else this.showMessage("\xa1Campos incorrectos!","Por favor, revis\xe1 los campos y volv\xe9 a intentar","OK","","error"),this.loadingSave=!1}showMessage(e,r,i,m,d,p){c().fire({title:e,text:r,confirmButtonText:i,showDenyButton:!!p,denyButtonText:p,icon:d,allowOutsideClick:"success"!=d,input:"send_again"==m?"text":void 0,reverseButtons:!0,preDeny:()=>(this.id_user&&this.auth.sendEmailAgain(this.id_user).subscribe({next:g=>{console.log(g),this.snackbar.open("Se envi\xf3 el nuevo mail!","",{horizontalPosition:"center",verticalPosition:"top",duration:3e3})}}),!1)}).then(({isConfirmed:g,value:l})=>{console.log(l),g&&("ir_a_home"==m?this.router.navigate(["home"]):"edit"==m?this.router.navigate(["perfil"]):"send_again"==m&&(this.id_user?this.usuarioService.confirmarCuenta(this.id_user,l).subscribe({next:T=>{console.log(T),c().fire("Excelente!","Tu cuenta fue verificada, ya podes usar Ecoswap!","success"),this.router.navigate(["/"])},error:T=>{console.log(T)}}):c().fire("Error!","Ocurri\xf3 un error al activar tu cuenta. Por favor intentalo m\xe1s tarde","error")))})}validarConfirmPassword(){return e=>{if(e.value){const r=this.mainForm.controls.password.value,i=this.mainForm.controls.confirmPassword.value;if(r&&i&&r!=i)return{differentPassword:!0};this.mainForm.controls.password.setErrors(null),this.mainForm.controls.confirmPassword.setErrors(null)}return null}}formatearTelefono(){this.mainForm.get("telefono")?.setValue(this.phoneNumberPipe.transform(this.mainForm.get("telefono")?.value)),this.cdr.detectChanges()}telefonoValidator(){const e=/^11\s\d{4}-\d{4}$/;return r=>r.value?e.test(r.value)?null:{formatoInvalido:!0}:null}togglePassword(){this.passwordType="text"===this.passwordType?"password":"text",this.passwordIcon="visibility"===this.passwordIcon?"visibility_off":"visibility"}refreshValidity(){this.mainForm.updateValueAndValidity()}formatDocument(e){console.log(e),this.particularForm.controls.nroDocumento.enable(),this.particularForm.controls.nroDocumento.addValidators(s.kI.pattern(/^(?!0+$)[1-9]\d{6,7}$/))}formatearCUIT(){this.fundacionForm.get("cuit")?.setValue(this.cuitPipe.transform(this.fundacionForm.get("cuit")?.value)),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(s.qu),o.Y36(f._A),o.Y36(A.i),o.Y36(u.Ye),o.Y36(F.e),o.Y36(h.F0),o.Y36(D.ux),o.Y36(o.sBO),o.Y36(O.X),o.Y36(q.K))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-registro"]],features:[o._Bn([{provide:f.Ad,useValue:"en-GB"},{provide:f._A,useClass:x.e}])],decls:4,vars:2,consts:[["url","registro"],["id","main-container",1,"app-main-div"],["style","height: 65vh; display: flex; justify-content: center;",4,"ngIf"],["id","main-card",4,"ngIf"],[2,"height","65vh","display","flex","justify-content","center"],["diameter","20"],["id","main-card"],[4,"ngIf","ngIfElse"],["resetHeader",""],[1,"form",3,"formGroup"],[1,"form-input"],["matInput","","formControlName","email","type","email"],[4,"ngIf"],[1,"form-input",3,"ngClass"],["matInput","","formControlName","password",3,"type","change"],["matSuffix","",1,"eye",3,"click"],["matInput","","formControlName","confirmPassword",3,"type","focus"],["class","form",3,"formGroup",4,"ngIf"],[2,"margin","20px 5% 0px","font-weight","bold"],[1,"buttons"],["mat-fab","","extended","","color","primary",3,"disabled","click"],["diameter","20","style","margin-left: 10px;",4,"ngIf"],["matInput","","formControlName","telefono",3,"ngModel","keyup"],["matInput","","formControlName","nombre"],["matInput","","formControlName","apellido"],["formControlName","tipoDocumento","name","tipoDocumento",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","nroDocumento","type","number"],["floatLabel","always"],["matInput","","formControlName","fechaNacimiento","readonly","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],[3,"value"],["matInput","","formControlName","cuit",3,"keyup"],["matInput","","formControlName","direccion"],["matInput","","formControlName","altura","type","number"],["matInput","","formControlName","piso","type","number"],["matInput","","formControlName","departamento"],["matInput","","formControlName","codigoPostal","type","number"],["diameter","20",2,"margin-left","10px"]],template:function(e,r){1&e&&(o._UZ(0,"app-header",0),o.TgZ(1,"div",1),o.YNc(2,J,2,0,"div",2),o.YNc(3,_o,44,23,"mat-card",3),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",r.loading),o.xp6(1),o.Q6J("ngIf",!r.loading))},dependencies:[u.mk,u.sg,u.O5,v.KE,v.hX,v.bx,v.TO,v.R9,b.Hw,N.Nt,R.Ou,y.cs,E.gD,f.ey,I.Mq,I.hl,I.nW,_.a8,_.hq,_.dn,_.dk,_.$j,_.n5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,M.G],styles:["#main-container[_ngcontent-%COMP%]{padding:2%}#main-container[_ngcontent-%COMP%]   #main-card[_ngcontent-%COMP%]{width:80%;margin:2% auto}#main-container[_ngcontent-%COMP%]   #main-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:grid;align-items:center;margin-top:20px;grid-template-columns:1fr 1fr;row-gap:10px;column-gap:5px;justify-items:center}#main-container[_ngcontent-%COMP%]   #main-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;justify-content:center;width:80%}#main-container[_ngcontent-%COMP%]   #main-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}#main-container[_ngcontent-%COMP%]   #main-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]:hover{cursor:pointer}#main-container[_ngcontent-%COMP%]   #main-card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (min-width: 0px) and (max-width: 768px){.form[_ngcontent-%COMP%]{grid-template-columns:1fr!important;row-gap:10px!important;column-gap:5px!important}}"]}),t})()}];let To=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[h.Bz.forChild(vo),h.Bz]}),t})();var Co=n(4766),Zo=n(3148),xo=n(9499);let Ao=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[u.ez,To,Co.q,Zo.IJ,xo.O]}),t})()}}]);