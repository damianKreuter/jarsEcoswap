"use strict";(self.webpackChunkapp_eco_swap=self.webpackChunkapp_eco_swap||[]).push([[355],{9499:(I,h,r)=>{r.d(h,{O:()=>c});var s=r(4755),f=r(9433),P=r(9401),M=r(3148),u=r(4466),n=r(2223);let c=(()=>{class p{}return p.\u0275fac=function(_){return new(_||p)},p.\u0275mod=n.oAB({type:p}),p.\u0275inj=n.cJS({imports:[s.ez,f.q,M.IJ,P.u5,P.UX,u.m]}),p})()},5355:(I,h,r)=>{r.r(h),r.d(h,{PerfilModule:()=>wn});var s=r(4755),f=r(1531),P=r(8088),M=r(5226),u=r.n(M),n=r(2223),c=r(5580),p=r(5763),m=r(8467),_=r(1728);function x(t,a){1&t&&n._UZ(0,"mat-spinner",4)}function b(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"img",10),n.NdJ("click",function(){const d=n.CHM(e).$implicit,g=n.oxw(2);return n.KtG(g.selectImage(d.id))}),n.qZA()}if(2&t){const e=a.$implicit,o=n.oxw(2);n.Q6J("src",e.name,n.LSH)("alt",e.name)("ngClass",e.id==o.selectedImage?"selected":"")}}function k(t,a){1&t&&n._UZ(0,"mat-spinner",4)}function E(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div")(1,"div",5),n.YNc(2,b,1,3,"img",6),n.qZA(),n.TgZ(3,"div",7)(4,"button",8),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.close())}),n._uU(5,"CANCELAR"),n.qZA(),n.TgZ(6,"button",9),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.confirm())}),n._uU(7,"GUARDAR"),n.qZA(),n.YNc(8,k,1,0,"mat-spinner",2),n.qZA()()}if(2&t){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.images),n.xp6(4),n.Q6J("disabled",!e.selectedImage||e.loadingSave),n.xp6(2),n.Q6J("ngIf",e.loadingSave)}}let R=(()=>{class t{constructor(e,o){this.dialogRef=e,this.usuarioService=o,this.images=[],this.loading=!0,this.loadingSave=!1}ngOnInit(){for(let e=15;e<=25;e++)this.images.push({id:e,name:`assets/perfiles/perfiles-${e}.jpg`});this.loading=!1}selectImage(e){this.selectedImage=e}confirm(){console.log(this.selectedImage),this.selectedImage?(this.loadingSave=!0,this.usuarioService.editAvatar(this.selectedImage.toString()).subscribe({next:e=>{this.loadingSave=!1,u().fire("\xa1Excelente!","Tu avatar se cambi\xf3 con \xe9xito!","success"),this.dialogRef.close(this.selectedImage)}})):u().fire("Error!","Seleccion\xe1 una imagen para cambiar tu avatar!","error")}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(c.so),n.Y36(p.i))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-images-modal"]],decls:6,vars:2,consts:[[2,"margin","20px"],[2,"display","flex","justify-content","center"],["diameter","20",4,"ngIf"],[4,"ngIf"],["diameter","20"],[1,"image-gallery"],["class","image",3,"src","alt","ngClass","click",4,"ngFor","ngForOf"],[1,"buttons"],["mat-fab","","extended","","color","light",3,"click"],["mat-fab","","extended","","color","primary",3,"disabled","click"],[1,"image",3,"src","alt","ngClass","click"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0)(1,"h2"),n._uU(2,"Seleccion\xe1 una foto de perfil!"),n.qZA()(),n.TgZ(3,"div",1),n.YNc(4,x,1,0,"mat-spinner",2),n.qZA(),n.YNc(5,E,9,3,"div",3)),2&e&&(n.xp6(4),n.Q6J("ngIf",o.loading),n.xp6(1),n.Q6J("ngIf",!o.loading))},dependencies:[s.mk,s.sg,s.O5,m.Ou,_.cs],styles:[".image-gallery[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin:5px 50px}.image-gallery[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100px;border-radius:50%;box-shadow:2px 2px 5px var(--dark-grey)}.image-gallery[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(.7)}.image-gallery[_ngcontent-%COMP%]   .image.selected[_ngcontent-%COMP%]{filter:brightness(.7)}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px;gap:20px}"]}),t})();var l=r(9401),C=r(9114),T=r(430),Z=r(9609),D=r(3649);function q(t,a){1&t&&n._UZ(0,"mat-spinner",7)}function Y(t,a){1&t&&n._UZ(0,"mat-spinner",7)}function Q(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div")(1,"form",8)(2,"mat-form-field")(3,"mat-label"),n._uU(4,"Public Key"),n.qZA(),n._UZ(5,"input",9),n.qZA(),n.TgZ(6,"mat-form-field")(7,"mat-label"),n._uU(8,"Access Token"),n.qZA(),n._UZ(9,"input",10),n.qZA()(),n.TgZ(10,"div",11)(11,"button",12),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.dialogRef.close())}),n._uU(12,"CANCELAR"),n.qZA(),n.TgZ(13,"button",13),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.saveCredenciales())}),n.TgZ(14,"span"),n._uU(15,"GUARDAR"),n.qZA()(),n.YNc(16,Y,1,0,"mat-spinner",5),n.qZA()()}if(2&t){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.credencialesForm),n.xp6(12),n.Q6J("disabled",e.loadingSave),n.xp6(3),n.Q6J("ngIf",e.loadingSave)}}let K=(()=>{class t{constructor(e,o,i,d){this.dialogRef=e,this.data=o,this.fb=i,this.usuarioService=d,this.loading=!0,this.loadingSave=!1,console.log(o),this.credencialesForm=i.group({publicKey:[""],accessToken:[""]}),o.publicKey&&this.credencialesForm.controls.publicKey.patchValue(o.publicKey),o.accessToken&&this.credencialesForm.controls.accessToken.patchValue(o.accessToken),this.loading=!1}saveCredenciales(){this.loadingSave=!0;const e=this.data.user.particularDTO;e.publicKey=this.credencialesForm.controls.publicKey.value,e.accessToken=this.credencialesForm.controls.accessToken.value,console.log(e),this.usuarioService.editUser({telefono:this.data.user.telefono,particular:this.data.user.particularDTO,direccion:this.data.user.particularDTO.direcciones[0]}).subscribe({next:o=>{console.log(o),this.loadingSave=!1,u().fire("\xa1Genial!","Se guardaron tus credenciales, ya pod\xe9s vender productos!","success").then(()=>{this.dialogRef.close()})},error:()=>this.loadingSave=!1})}downloadFile(){const o=document.createElement("a");o.href="assets/mercado_pago.pdf",o.download="mercado_pago.pdf",console.log(o),o.click()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(c.so),n.Y36(c.WI),n.Y36(l.qu),n.Y36(p.i))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-credenciales-mp-modal"]],decls:10,vars:2,consts:[["id","main-credenciales-mp"],[2,"margin","20px"],[2,"margin","25px"],["matTooltip","Clicke\xe1 ac\xe1 para descargar el tutorial",3,"click"],[2,"display","flex","justify-content","center"],["diameter","20",4,"ngIf"],[4,"ngIf"],["diameter","20"],["id","credenciales-form",3,"formGroup"],["matInput","","formControlName","publicKey"],["matInput","","formControlName","accessToken"],[1,"buttons"],["mat-fab","","extended","","color","light",3,"click"],["mat-fab","","extended","",1,"confirm",3,"disabled","click"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h2"),n._uU(3,"Configur\xe1 tus credenciales de Mercado Pago!"),n.qZA()(),n.TgZ(4,"div",2)(5,"mat-icon",3),n.NdJ("click",function(){return o.downloadFile()}),n._uU(6,"info"),n.qZA()()(),n.TgZ(7,"div",4),n.YNc(8,q,1,0,"mat-spinner",5),n.qZA(),n.YNc(9,Q,17,3,"div",6)),2&e&&(n.xp6(8),n.Q6J("ngIf",o.loading),n.xp6(1),n.Q6J("ngIf",!o.loading))},dependencies:[s.O5,C.KE,C.hX,T.Hw,Z.Nt,m.Ou,_.cs,D.gM,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:["#main-credenciales-mp[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}#main-credenciales-mp[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-bottom:0;height:30px;color:var(--dark-grey);cursor:pointer}#credenciales-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#credenciales-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:70%}.buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;align-items:center}.buttons[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{background-color:#3fb6e9;color:#fff}@media (min-width: 0px) and (max-width: 576px){.buttons[_ngcontent-%COMP%]{flex-direction:column-reverse;margin-bottom:20px}}"]}),t})();var S=r(4377);function j(t,a){1&t&&n._UZ(0,"mat-spinner",5)}function z(t,a){1&t&&(n.TgZ(0,"mat-error"),n._uU(1," Campo obligatorio "),n.qZA())}function H(t,a){1&t&&(n.TgZ(0,"mat-error"),n._uU(1," Las contrase\xf1as no coinciden "),n.qZA())}function G(t,a){1&t&&(n.TgZ(0,"mat-error"),n._uU(1," Debe tener de 8 a 32 caracteres y al menos 1 min\xfascula, 1 may\xfascula, 1 n\xfamero y 1 caracter especial. "),n.qZA())}function L(t,a){1&t&&(n.TgZ(0,"mat-error"),n._uU(1," Campo obligatorio "),n.qZA())}function B(t,a){1&t&&(n.TgZ(0,"mat-error"),n._uU(1," Las contrase\xf1as no coinciden "),n.qZA())}function W(t,a){1&t&&n._UZ(0,"mat-spinner",5)}function $(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div")(1,"form",6)(2,"mat-form-field")(3,"mat-label"),n._uU(4,"Contrase\xf1a Actual"),n.qZA(),n._UZ(5,"input",7),n.TgZ(6,"mat-icon",8),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.togglePassword())}),n._uU(7),n.qZA()(),n.TgZ(8,"mat-form-field")(9,"mat-label"),n._uU(10,"Nueva Contrase\xf1a"),n.qZA(),n.TgZ(11,"input",9),n.NdJ("blur",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.showError=!0)}),n.qZA(),n.TgZ(12,"mat-icon",8),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.togglePassword())}),n._uU(13),n.qZA(),n.YNc(14,z,2,0,"mat-error",4),n.YNc(15,H,2,0,"mat-error",4),n.YNc(16,G,2,0,"mat-error",4),n.qZA(),n.TgZ(17,"mat-form-field")(18,"mat-label"),n._uU(19,"Confirmar Nueva Contrase\xf1a"),n.qZA(),n._UZ(20,"input",10),n.TgZ(21,"mat-icon",8),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.togglePassword())}),n._uU(22),n.qZA(),n.YNc(23,L,2,0,"mat-error",4),n.YNc(24,B,2,0,"mat-error",4),n.qZA()(),n.TgZ(25,"div",11)(26,"button",12),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.dialogRef.close())}),n._uU(27,"CANCELAR"),n.qZA(),n.TgZ(28,"button",13),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.savePassword())}),n.TgZ(29,"span"),n._uU(30,"GUARDAR"),n.qZA()(),n.YNc(31,W,1,0,"mat-spinner",3),n.qZA()()}if(2&t){const e=n.oxw();n.xp6(1),n.Q6J("formGroup",e.passwordForm),n.xp6(4),n.Q6J("type",e.passwordType),n.xp6(2),n.Oqu(e.passwordIcon),n.xp6(1),n.ekj("long-error",e.passwordForm.get("newPassword").hasError("pattern")&&e.showError),n.xp6(3),n.Q6J("type",e.passwordType),n.xp6(2),n.Oqu(e.passwordIcon),n.xp6(1),n.Q6J("ngIf",e.passwordForm.get("newPassword").hasError("required")),n.xp6(1),n.Q6J("ngIf",e.passwordForm.get("newPassword").hasError("differentPassword")&&!e.passwordForm.get("newPassword").hasError("pattern")),n.xp6(1),n.Q6J("ngIf",e.passwordForm.get("newPassword").hasError("pattern")),n.xp6(4),n.Q6J("type",e.passwordType),n.xp6(2),n.Oqu(e.passwordIcon),n.xp6(1),n.Q6J("ngIf",e.passwordForm.get("confirmNewPassword").hasError("required")),n.xp6(1),n.Q6J("ngIf",e.passwordForm.get("confirmNewPassword").hasError("differentPassword")),n.xp6(4),n.Q6J("disabled",!e.passwordForm.valid||e.loadingSave),n.xp6(3),n.Q6J("ngIf",e.loadingSave)}}let X=(()=>{class t{constructor(e,o,i,d,g,v){this.dialogRef=e,this.data=o,this.fb=i,this.router=d,this.usuarioService=g,this.auth=v,this.loading=!0,this.loadingSave=!1,this.passwordIcon="visibility_off",this.passwordType="password",this.showError=!1,console.log(o),this.passwordForm=i.group({currentPassword:["",l.kI.required],newPassword:["",[l.kI.required,l.kI.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@#$%^&+=!*\-_.,])[a-zA-Z\d@#$%^&+=!*\-_.,]{8,32}$/),this.validarConfirmPassword()]],confirmNewPassword:["",[l.kI.required,this.validarConfirmPassword()]]}),this.loading=!1}savePassword(){this.loadingSave=!0,u().fire({title:"Confirmar Cambio de Contrase\xf1a",text:"Si confirm\xe1s el cambio de contrase\xf1a, vas a tener que volver a iniciar sesi\xf3n.",icon:"warning"}).then(({isConfirmed:e})=>{e?this.usuarioService.changePassword({nuevaPassword:this.passwordForm.controls.newPassword.value,confirmarPassword:this.passwordForm.controls.confirmNewPassword.value}).subscribe({next:i=>{console.log(i),u().fire("\xa1\xc9xito!","Se cambi\xf3 tu contrase\xf1a, ahora volv\xe9 a iniciar sesi\xf3n","success").then(()=>{this.auth.logout(),this.router.navigate(["login"]),this.dialogRef.close()})},error:()=>this.loadingSave=!1}):this.dialogRef.close()})}togglePassword(){this.passwordType="text"===this.passwordType?"password":"text",this.passwordIcon="visibility"===this.passwordIcon?"visibility_off":"visibility"}validarConfirmPassword(){return e=>{if(e.value){const o=this.passwordForm.controls.newPassword.value,i=this.passwordForm.controls.confirmNewPassword.value;if(o&&i&&o!=i)return{differentPassword:!0};this.passwordForm.controls.newPassword.setErrors(null),this.passwordForm.controls.confirmNewPassword.setErrors(null)}return null}}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(c.so),n.Y36(c.WI),n.Y36(l.qu),n.Y36(f.F0),n.Y36(p.i),n.Y36(S.e))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-change-password-modal"]],decls:7,vars:2,consts:[["id","main-credenciales-mp"],[2,"margin","20px"],[2,"display","flex","justify-content","center"],["diameter","20",4,"ngIf"],[4,"ngIf"],["diameter","20"],["id","credenciales-form",3,"formGroup"],["matInput","","formControlName","currentPassword",3,"type"],["matSuffix","",1,"eye",3,"click"],["matInput","","formControlName","newPassword",3,"type","blur"],["matInput","","formControlName","confirmNewPassword",3,"type"],[1,"buttons"],["mat-fab","","extended","","color","light",3,"click"],["mat-fab","","extended","",1,"confirm",3,"disabled","click"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h2"),n._uU(3,"Cambiar Contrase\xf1a"),n.qZA()()(),n.TgZ(4,"div",2),n.YNc(5,j,1,0,"mat-spinner",3),n.qZA(),n.YNc(6,$,32,16,"div",4)),2&e&&(n.xp6(5),n.Q6J("ngIf",o.loading),n.xp6(1),n.Q6J("ngIf",!o.loading))},dependencies:[s.O5,C.KE,C.hX,C.TO,C.R9,T.Hw,Z.Nt,m.Ou,_.cs,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:["#credenciales-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#credenciales-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:60%}#credenciales-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px!important}#credenciales-form[_ngcontent-%COMP%]   mat-form-field.long-error[_ngcontent-%COMP%]{margin-bottom:20%}.buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;align-items:center}.buttons[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{background-color:var(--perfil)}@media (min-width: 0px) and (max-width: 576px){.buttons[_ngcontent-%COMP%]{flex-direction:column-reverse;margin-bottom:20px}}"]}),t})();var U=r(5500);const w="URImsUsuarios";let J=(()=>{class t{constructor(e){this.backendService=e}getOpinionesByUserID(e){return this.backendService.get(w,`api/opiniones/usuario/${e}`)}getOpinion(e){return this.backendService.get(w,`api/opinion/${e}`)}getMyOpiniones(){return this.backendService.get(w,"api/misOpiniones")}crearOpinion(e){return this.backendService.post(w,"api/opiniones/crearOpinion",e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(U.k))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=r(3148);function V(t,a){if(1&t&&n._UZ(0,"i"),2&t){const e=a.fill,o=a.index;n.Gre("bi-star",100===e?"-fill":""," star"),n.ekj("filled",100===e)("low",o<3)}}function nn(t,a){1&t&&n._UZ(0,"mat-spinner",11)}let en=(()=>{class t{constructor(e,o,i){this.dialogRef=e,this.data=o,this.opinionesService=i,this.loading=!1,this.descripcion="",this.valoracion=0}saveRating(){this.opinionesService.crearOpinion({idUsuarioOpinado:this.data.usuario.idUsuario,valoracion:this.valoracion,descripcion:this.descripcion}).subscribe({next:e=>{console.log(e),u().fire("\xa1\xc9xito!","Se guard\xf3 tu opini\xf3n sobre "+this.data.user.nombre+"!","success"),this.dialogRef.close(!0)},error:e=>{u().fire("Error!","Ocurri\xf3 un error al guardar tu opini\xf3n sobre "+this.data.user.nombre+". Volv\xe9 a intentarlo m\xe1s tarde","error"),console.log(e)}})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(c.so),n.Y36(c.WI),n.Y36(J))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-opinar-modal"]],decls:19,vars:6,consts:[["id","main-opinar"],[2,"margin","20px"],[1,"content"],[3,"rate","max","rateChange"],[2,"width","70%"],["matInput","","cols","10","rows","4",3,"ngModel","ngModelChange"],[1,"buttons"],["mat-fab","","extended","","color","light",3,"click"],[2,"display","flex","align-items","center","gap","5px"],["mat-fab","","extended","",1,"confirm",3,"disabled","click"],["diameter","20",4,"ngIf"],["diameter","20"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h2"),n._uU(3),n.qZA()(),n.TgZ(4,"div",2)(5,"ngb-rating",3),n.NdJ("rateChange",function(d){return o.valoracion=d}),n.YNc(6,V,1,7,"ng-template"),n.qZA(),n.TgZ(7,"mat-form-field",4)(8,"mat-label"),n._uU(9,"Descripci\xf3n"),n.qZA(),n.TgZ(10,"textarea",5),n.NdJ("ngModelChange",function(d){return o.descripcion=d}),n.qZA()()(),n.TgZ(11,"div",6)(12,"button",7),n.NdJ("click",function(){return o.dialogRef.close()}),n._uU(13,"CANCELAR"),n.qZA(),n.TgZ(14,"div",8)(15,"button",9),n.NdJ("click",function(){return o.saveRating()}),n.TgZ(16,"span"),n._uU(17,"GUARDAR"),n.qZA()(),n.YNc(18,nn,1,0,"mat-spinner",10),n.qZA()()()),2&e&&(n.xp6(3),n.hij("Opin\xe1 sobre ",o.data.user.nombre,""),n.xp6(2),n.Q6J("rate",o.valoracion)("max",5),n.xp6(5),n.Q6J("ngModel",o.descripcion),n.xp6(5),n.Q6J("disabled",!o.valoracion||o.loading),n.xp6(3),n.Q6J("ngIf",o.loading))},dependencies:[s.O5,C.KE,C.hX,Z.Nt,m.Ou,_.cs,l.Fj,l.JJ,l.On,y.OC],styles:["#main-opinar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px}#main-opinar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--opiniones)}#main-opinar[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;align-items:center}#main-opinar[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{background-color:var(--opiniones);color:#fff}#main-opinar[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]:disabled{background-color:var(--dark-grey)!important}@media (min-width: 0px) and (max-width: 576px){.buttons[_ngcontent-%COMP%]{flex-direction:column-reverse;margin-bottom:20px}}"]}),t})(),on=(()=>{class t{constructor(e){this.backendService=e}getParticular(e){return this.backendService.get("URImsUsuarios","api/particular/"+e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(U.k))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var an=r(3276),N=r(6012),rn=r(7876),sn=r(9515);function cn(t,a){1&t&&(n.TgZ(0,"mat-icon",11),n._uU(1,"edit"),n.qZA())}function ln(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",4)(1,"div",5),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.myProfile?i.selectImage():"")}),n.TgZ(2,"div",6),n._UZ(3,"img",7),n.YNc(4,cn,2,0,"mat-icon",8),n.qZA()(),n.TgZ(5,"mat-card",9)(6,"mat-card-content")(7,"h2"),n._uU(8),n.qZA(),n.TgZ(9,"h5",10)(10,"mat-icon"),n._uU(11,"alternate_email"),n.qZA(),n._uU(12),n.qZA()()()()}if(2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngClass",e.myProfile?"editable-img":""),n.xp6(2),n.Q6J("src","assets/perfiles/perfiles-"+e.user.avatar+".jpg",n.LSH),n.xp6(1),n.Q6J("ngIf",e.myProfile),n.xp6(4),n.Oqu(e.userToShow.nombre),n.xp6(4),n.Oqu(e.userToShow.email)}}function dn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"a",27),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(2);return n.KtG(i.showMap(i.userToShow.direccion))}),n.TgZ(1,"mat-icon",28),n._uU(2,"place"),n.qZA(),n._uU(3),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(3),n.hij(" ",!e.userData.isSwapper||e.myProfile?e.userToShow.direccion.calle+" "+e.userToShow.direccion.altura+" ("+e.userToShow.direccion.localidad+")":e.userToShow.direccion.localidad," ")}}function pn(t,a){if(1&t&&(n.TgZ(0,"p",29)(1,"mat-icon",28),n._uU(2,"place"),n.qZA(),n._uU(3),n.qZA()),2&t){const e=n.oxw(2);n.xp6(3),n.hij(" ",e.userData.isSwapper?e.userToShow.direccion.localidad:e.userToShow.direccion.calle+" "+e.userToShow.direccion.altura+" ("+e.userToShow.direccion.localidad+")"," ")}}function gn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",30)(1,"button",31),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(2);return n.KtG(i.edit())}),n._uU(2,"EDITAR INFORMACI\xd3N"),n.qZA()()}}function mn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",32)(1,"button",31),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(2);return n.KtG(i.changePassword())}),n._uU(2,"CAMBIAR CONTRASE\xd1A"),n.qZA()()}}function _n(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",32)(1,"button",33),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(2);return n.KtG(i.credencialesMP())}),n._UZ(2,"img",34),n._uU(3," CREDENCIALES "),n.qZA()()}}function un(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",35)(1,"button",31),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(2);return n.KtG(i.opinar())}),n._uU(2,"OPINAR"),n.qZA()()}}function fn(t,a){if(1&t&&(n.TgZ(0,"mat-card",36)(1,"div",37)(2,"h4"),n._uU(3,"Valoraci\xf3n:"),n.qZA(),n.TgZ(4,"div",38),n._UZ(5,"app-rating",39),n.qZA(),n.TgZ(6,"div"),n._uU(7),n.ALo(8,"date"),n.qZA()(),n.TgZ(9,"div",40)(10,"div"),n._uU(11),n.qZA()()()),2&t){const e=a.$implicit;n.xp6(5),n.Q6J("puntuacion",e.valoracion),n.xp6(2),n.AsE(" (",e.usuarioOpina.username," - ",n.xi3(8,4,e.fechaHoraOpinion,"dd/MM/yyyy"),") "),n.xp6(4),n.Oqu(e.descripcion)}}function Cn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"mat-paginator",41,42),n.NdJ("page",function(i){n.CHM(e);const d=n.oxw(2);return n.KtG(d.changePage(i))}),n.qZA()}if(2&t){const e=n.oxw(2);n.Q6J("pageSize",e.pageSize)("showFirstLastButtons",!0)("length",e.opiniones.length)("hidePageSize",!0)}}function hn(t,a){if(1&t&&(n.TgZ(0,"div",12)(1,"mat-card",13)(2,"mat-card-content")(3,"p",14),n._uU(4),n.qZA(),n.TgZ(5,"p")(6,"mat-icon"),n._uU(7,"phone"),n.qZA(),n._uU(8),n.qZA(),n.YNc(9,dn,4,1,"a",15),n.YNc(10,pn,4,1,"p",16),n.YNc(11,gn,3,0,"div",17),n.YNc(12,mn,3,0,"div",18),n.YNc(13,_n,4,0,"div",18),n.qZA()(),n.TgZ(14,"mat-card",19)(15,"mat-card-content")(16,"div",20)(17,"div",21)(18,"h3"),n._uU(19,"Puntaje:"),n.qZA(),n._UZ(20,"app-rating",22),n.TgZ(21,"div"),n._uU(22),n.qZA()(),n.YNc(23,un,3,0,"div",23),n.qZA(),n.TgZ(24,"div",24)(25,"h3"),n._uU(26,"Opiniones:"),n.qZA(),n.TgZ(27,"div"),n.YNc(28,fn,12,7,"mat-card",25),n.YNc(29,Cn,2,4,"mat-paginator",26),n.qZA()()()()()),2&t){const e=n.oxw();n.xp6(4),n.hij(" ",e.userData.isSwapper?"Swapper":"Fundaci\xf3n"," "),n.xp6(4),n.Oqu(e.userToShow.telefono),n.xp6(1),n.Q6J("ngIf",(!e.userData.isSwapper||e.myProfile)&&e.userToShow.direccion),n.xp6(1),n.Q6J("ngIf",e.userData.isSwapper&&!e.myProfile&&e.userToShow.direccion),n.xp6(1),n.Q6J("ngIf",e.myProfile),n.xp6(1),n.Q6J("ngIf",e.myProfile),n.xp6(1),n.Q6J("ngIf",e.myProfile&&e.userData.isSwapper),n.xp6(7),n.Q6J("puntuacion",e.userToShow.puntaje)("remSize",1.3),n.xp6(2),n.AsE("(",e.opiniones.length||0," ",1==e.opiniones.length?"opini\xf3n":"opiniones",")"),n.xp6(1),n.Q6J("ngIf",!e.myProfile),n.xp6(5),n.Q6J("ngForOf",e.paginatedOpiniones),n.xp6(1),n.Q6J("ngIf",e.opiniones.length>0)}}const Pn=[{path:"",component:(()=>{class t{constructor(e,o,i,d,g,v){this.auth=e,this.usuarioService=o,this.router=i,this.particularService=d,this.dialog=g,this.opinionesService=v,this.colspan=1,this.userData={},this.myProfile=!0,this.pageSize=5,this.opiniones=[],this.paginatedOpiniones=[],this.refreshHeader=0;const O=i.url;console.log(O);const A=O.split("/")[2];"/mi-perfil"!=O&&A!=this.auth.getUserID()?(this.myProfile=!1,this.getUserInformation(A),this.getOpiniones(A)):(this.userData={isSwapper:e.isUserSwapper(),id:this.auth.getUserID()},this.getUserInformation(this.userData.id),this.getMyOpiniones())}getUserInformation(e){this.usuarioService.getUserByID(Number(e)).subscribe({next:o=>{console.log(o),this.user=o,this.user.fundacionDTO?this.configureFundacion(this.user):this.configureSwapper(this.user)},error:o=>{console.log("error",o)}})}configureFundacion(e){this.userData.isSwapper=!1,console.log(this.user),this.user.fundacionDTO.direcciones[0].localidad=this.user.fundacionDTO.direcciones[0].localidad.toLowerCase(),this.user.fundacionDTO.direcciones[0].calle=this.user.fundacionDTO.direcciones[0].calle.toLowerCase(),this.userToShow={nombre:this.user.fundacionDTO.nombre,email:this.user.email,telefono:this.user.telefono,puntaje:this.user.puntaje,direccion:this.user.fundacionDTO.direcciones[0]}}configureSwapper(e){this.userData.isSwapper=!0,this.particularService.getParticular(this.user.particularDTO.idParticular).subscribe({next:o=>{o.direcciones[0].localidad=o.direcciones[0].localidad.toLowerCase(),o.direcciones[0].calle=o.direcciones[0].calle.toLowerCase(),this.userToShow={nombre:o.nombre+" "+o.apellido,email:o.usuarioDTO.email,telefono:o.usuarioDTO.telefono,puntaje:o.usuarioDTO.puntaje,direccion:o.direcciones[0],accessToken:o.accessToken,publicKey:o.publicKey}}})}getOpiniones(e){this.opinionesService.getOpinionesByUserID(Number(e)).subscribe({next:o=>{this.opiniones=o,this.paginatedOpiniones=this.opiniones.slice(0,this.pageSize)},error:o=>console.log(o)})}getMyOpiniones(){this.opinionesService.getMyOpiniones().subscribe({next:e=>{console.log(e),this.opiniones=e,this.paginatedOpiniones=this.opiniones.slice(0,this.pageSize)},error:e=>console.log(e)})}changePage(e){const o=e.pageIndex*e.pageSize;this.paginatedOpiniones=this.opiniones.slice(o,o+e.pageSize)}showMap(e){console.log(e);let o=e.calle+e.altura||"";const i=(e.localidad||"").replace(" ","");console.log(o,i);const d=`https://apis.datos.gob.ar/georef/api/direcciones?provincia=02&localidad=${encodeURIComponent(i)}&direccion=${encodeURIComponent(o)}`.replace(" ","");console.log(d),fetch(d).then(g=>g.json()).then(g=>{console.log(g),g.cantidad>0&&this.dialog.open(P.G,{maxWidth:"70vw",maxHeight:"60vh",height:"100%",width:"100%",panelClass:"full-screen-modal",data:{lat:g.direcciones[0].ubicacion.lat,lon:g.direcciones[0].ubicacion.lon}})}).catch(g=>console.error(g))}edit(){this.router.navigate(["edit-perfil"])}selectImage(){this.dialog.open(R,{maxWidth:"80vw",maxHeight:"75vh",height:"100%",width:"100%",panelClass:"full-screen-modal"}).afterClosed().subscribe(o=>{console.log("closed",o),o&&(this.getUserInformation(this.userData.id),this.getMyOpiniones(),this.refreshHeader++)})}credencialesMP(){this.dialog.open(K,{maxWidth:"60vw",maxHeight:"60vh",height:"100%",width:"100%",panelClass:"full-screen-modal",data:{user:this.user,publicKey:this.userToShow?.publicKey,accessToken:this.userToShow?.accessToken}}).afterClosed().subscribe(o=>{console.log("closed",o)})}changePassword(){this.dialog.open(X,{maxWidth:"50vw",maxHeight:"60vh",height:"100%",width:"100%",panelClass:"full-screen-modal"}).afterClosed().subscribe(o=>{console.log("closed",o)})}opinar(){this.dialog.open(en,{maxWidth:"50vw",maxHeight:"60vh",height:"100%",width:"100%",panelClass:"full-screen-modal",data:{usuario:this.user,user:this.userToShow}}).afterClosed().subscribe(o=>{if(console.log("closed",o),o){const i=this.router.url,d=i.split("/")[2];if("/mi-perfil"!=i&&d!=this.auth.getUserID()){const g=i.split("/")[2];this.getUserInformation(g),this.getOpiniones(g)}else this.getMyOpiniones()}})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(S.e),n.Y36(p.i),n.Y36(f.F0),n.Y36(on),n.Y36(c.uw),n.Y36(J))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-perfil"]],decls:4,vars:3,consts:[[3,"refresh"],["id","main-profile",1,"app-main-div"],["class","top-div",4,"ngIf"],["class","bottom-div",4,"ngIf"],[1,"top-div"],[1,"top-img",3,"ngClass","click"],[2,"min-width","285px"],[3,"src"],["class","edit-icon",4,"ngIf"],[1,"top-text"],[2,"display","flex","gap","5px","font-size","14px"],[1,"edit-icon"],[1,"bottom-div"],[1,"left"],[2,"text-align","center","display","flex","border-bottom","1px solid var(--light-grey)","justify-content","center","padding-bottom","10px"],["class","location clickable",3,"click",4,"ngIf"],["class","location",4,"ngIf"],["class","div-edit-info",4,"ngIf"],["class","div-cambiar-pass",4,"ngIf"],[1,"right"],[1,"puntaje"],[1,"title"],[3,"puntuacion","remSize"],["class","div-opinar",4,"ngIf"],[1,"opiniones"],["class","card-opinion",4,"ngFor","ngForOf"],["style","border-radius: 15px;",3,"pageSize","showFirstLastButtons","length","hidePageSize","page",4,"ngIf"],[1,"location","clickable",3,"click"],[2,"min-width","20px"],[1,"location"],[1,"div-edit-info"],["mat-fab","","extended","",3,"click"],[1,"div-cambiar-pass"],["mat-fab","","extended","",2,"background-color","#3fb6e9","color","white","height","fit-content","padding","5px 20px",3,"click"],["src","assets/redes/mercadopago.png",2,"width","40px"],[1,"div-opinar"],[1,"card-opinion"],[1,"valoracion"],[2,"margin","0 10px","display","flex","align-items","center"],[3,"puntuacion"],[1,"descripcion"],[2,"border-radius","15px",3,"pageSize","showFirstLastButtons","length","hidePageSize","page"],["paginator",""]],template:function(e,o){1&e&&(n._UZ(0,"app-header",0),n.TgZ(1,"div",1),n.YNc(2,ln,13,5,"div",2),n.YNc(3,hn,30,14,"div",3),n.qZA()),2&e&&(n.Q6J("refresh",o.refreshHeader),n.xp6(2),n.Q6J("ngIf",o.userToShow),n.xp6(1),n.Q6J("ngIf",o.userToShow))},dependencies:[s.mk,s.sg,s.O5,T.Hw,_.cs,an.NW,N.a8,N.dn,rn.G,sn.A,s.uU],styles:["#main-profile[_ngcontent-%COMP%]{padding:2%}#main-profile[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:10px;border-radius:15px}#main-profile[_ngcontent-%COMP%]   .top-div[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 5fr}#main-profile[_ngcontent-%COMP%]   .top-div[_ngcontent-%COMP%]   .top-img[_ngcontent-%COMP%]{position:relative;display:inline-block;border-radius:50%;height:145px}#main-profile[_ngcontent-%COMP%]   .top-div[_ngcontent-%COMP%]   .top-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;transition:filter .3s;border-radius:50%;height:145px;margin:0 auto}#main-profile[_ngcontent-%COMP%]   .top-div[_ngcontent-%COMP%]   .top-img.editable-img[_ngcontent-%COMP%]:hover{cursor:pointer}#main-profile[_ngcontent-%COMP%]   .top-div[_ngcontent-%COMP%]   .top-img.editable-img[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{filter:brightness(.7)}#main-profile[_ngcontent-%COMP%]   .top-div[_ngcontent-%COMP%]   .top-img.editable-img[_ngcontent-%COMP%]:hover   .edit-icon[_ngcontent-%COMP%]{opacity:1}#main-profile[_ngcontent-%COMP%]   .top-div[_ngcontent-%COMP%]   .top-img.editable-img[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:24px;opacity:0;transition:opacity .3s}#main-profile[_ngcontent-%COMP%]   .top-div[_ngcontent-%COMP%]   .top-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 5fr}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:center;min-width:265px}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   p.location[_ngcontent-%COMP%], #main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   a.location[_ngcontent-%COMP%]{text-transform:capitalize}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   p.location.clickable[_ngcontent-%COMP%]:hover, #main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   a.location.clickable[_ngcontent-%COMP%]:hover{cursor:pointer}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .div-edit-info[_ngcontent-%COMP%], #main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .div-cambiar-pass[_ngcontent-%COMP%]{margin-top:20px}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .div-edit-info[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], #main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .div-cambiar-pass[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:12px}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .div-edit-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], #main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .div-cambiar-pass[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--perfil);height:35px}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .puntaje[_ngcontent-%COMP%]{border-bottom:1px solid var(--light-grey);display:flex;justify-content:space-between;padding:10px}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .puntaje[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex-wrap:wrap}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .puntaje[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .puntaje[_ngcontent-%COMP%]   .div-opinar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:12px}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .puntaje[_ngcontent-%COMP%]   .div-opinar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--opiniones);color:#fff}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .opiniones[_ngcontent-%COMP%], #main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .opiniones[_ngcontent-%COMP%]   .card-opinion[_ngcontent-%COMP%]{padding:10px}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .opiniones[_ngcontent-%COMP%]   .card-opinion[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], #main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .opiniones[_ngcontent-%COMP%]   .card-opinion[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px!important;margin-bottom:0}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .opiniones[_ngcontent-%COMP%]   .card-opinion[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:16px;height:16px}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .opiniones[_ngcontent-%COMP%]   .card-opinion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:12px!important}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .opiniones[_ngcontent-%COMP%]   .card-opinion[_ngcontent-%COMP%]   .valoracion[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;flex-wrap:wrap}#main-profile[_ngcontent-%COMP%]   .bottom-div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .opiniones[_ngcontent-%COMP%]   .card-opinion[_ngcontent-%COMP%]   .usuario-opinion[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 3fr;gap:10px;align-items:center}@media (min-width: 0px) and (max-width: 768px){.top-div[_ngcontent-%COMP%], .bottom-div[_ngcontent-%COMP%]{grid-template-columns:1fr!important}mat-card[_ngcontent-%COMP%]{margin:10px 0!important}}"]}),t})()}];let Mn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[f.Bz.forChild(Pn),f.Bz]}),t})();var F=r(9433),vn=r(9499);let On=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[F.q,y.IJ]}),t})();var xn=r(4466);let wn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[s.ez,Mn,F.q,y.IJ,vn.O,On,xn.m]}),t})()},9515:(I,h,r)=>{r.d(h,{A:()=>n});var s=r(2223),f=r(4755),P=r(3148);function M(c,p){if(1&c&&s._UZ(0,"i",5),2&c){const m=s.oxw().fill;s.Udp("width",m,"%")}}function u(c,p){if(1&c&&(s.TgZ(0,"i",3),s.YNc(1,M,1,2,"i",4),s.qZA()),2&c){const m=p.fill,_=s.oxw();s.Udp("font-size",_.remSize,"rem")("color",_.color),s.xp6(1),s.Q6J("ngIf",m>0)}}let n=(()=>{class c{constructor(){this.puntuacion=3.6,this.remSize=1,this.color="var(--opiniones)"}}return c.\u0275fac=function(m){return new(m||c)},c.\u0275cmp=s.Xpm({type:c,selectors:[["app-rating"]],inputs:{puntuacion:"puntuacion",remSize:"remSize",color:"color"},decls:4,vars:4,consts:[[1,"puntuacion"],["t",""],[3,"rate","starTemplate","readonly","max","rateChange"],[1,"bi-star"],["class","bi-star-fill filled",3,"width",4,"ngIf"],[1,"bi-star-fill","filled"]],template:function(m,_){if(1&m&&(s.TgZ(0,"div",0),s.YNc(1,u,2,5,"ng-template",null,1,s.W1O),s.TgZ(3,"ngb-rating",2),s.NdJ("rateChange",function(b){return _.puntuacion=b}),s.qZA()()),2&m){const x=s.MAs(2);s.xp6(3),s.Q6J("rate",_.puntuacion)("starTemplate",x)("readonly",!0)("max",5)}},dependencies:[f.O5,P.OC],styles:[".puntuacion[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;display:inline-block;padding-right:.1rem}.puntuacion[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%]{overflow:hidden;position:absolute;top:0;left:0}"]}),c})()}}]);