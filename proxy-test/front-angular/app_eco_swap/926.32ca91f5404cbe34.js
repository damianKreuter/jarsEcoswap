"use strict";(self.webpackChunkapp_eco_swap=self.webpackChunkapp_eco_swap||[]).push([[926],{9499:(R,D,o)=>{o.d(D,{O:()=>b});var e=o(4755),t=o(9433),v=o(9401),E=o(3148),n=o(2223);let b=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=n.oAB({type:c}),c.\u0275inj=n.cJS({imports:[e.ez,t.q,E.IJ,v.u5,v.UX]}),c})()},6262:(R,D,o)=>{o.d(D,{r:()=>K});var e=o(2223),t=o(5580),v=o(5226),E=o.n(v),n=o(2777),b=o(4303),c=o(4755),O=o(1728),l=o(6012),C=o(3148),_=o(9515);function h(f,A){if(1&f&&(e.TgZ(0,"a",21),e._uU(1),e.qZA()),2&f){const s=e.oxw(2);e.Q6J("href","/perfil/"+s.publicacion.particularDTO.usuarioDTO.idUsuario,e.LSH),e.xp6(1),e.AsE(" ",s.publicacion.particularDTO.nombre," ",s.publicacion.particularDTO.apellido," ")}}function T(f,A){if(1&f&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&f){const s=e.oxw(2);e.xp6(1),e.AsE("",s.publicacion.particularDTO.nombre," ",s.publicacion.particularDTO.apellido,"")}}function w(f,A){if(1&f&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&f){const s=e.oxw(2);e.xp6(1),e.hij(" ",s.publicacion.particularDTO.direcciones[0].localidad,"")}}function L(f,A){if(1&f&&(e.TgZ(0,"div",25),e._UZ(1,"img",26),e.qZA(),e._UZ(2,"div",27)),2&f){const s=e.oxw().$implicit,U=e.oxw(3);e.xp6(1),e.Q6J("src",U.getImage(s),e.LSH)}}function q(f,A){1&f&&e.YNc(0,L,3,1,"ng-template",24)}function B(f,A){if(1&f&&(e.TgZ(0,"ngb-carousel",22),e.YNc(1,q,1,0,null,23),e.qZA()),2&f){const s=e.oxw(2);e.Q6J("showNavigationArrows",s.publicacion.parsedImagenes.length>1)("showNavigationIndicators",s.publicacion.parsedImagenes.length>1),e.xp6(1),e.Q6J("ngForOf",s.publicacion.parsedImagenes)}}function F(f,A){if(1&f&&(e.TgZ(0,"div",28),e._uU(1," Precio de venta: "),e.TgZ(2,"h2"),e._uU(3),e.ALo(4,"currency"),e.qZA(),e.TgZ(5,"p",29),e._uU(6,"Si compr\xe1s, te lo enviamos"),e._uU(7,"!"),e.qZA()()),2&f){const s=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,1,s.publicacion.precioVenta)," ")}}function y(f,A){if(1&f&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&f){const s=A.$implicit;e.xp6(1),e.hij(" ",s.caracteristica," ")}}function J(f,A){if(1&f&&(e.TgZ(0,"div",30)(1,"b"),e._uU(2,"Caracter\xedsticas:"),e.qZA(),e.YNc(3,y,2,1,"div",31),e.qZA()),2&f){const s=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",s.publicacion.caracteristicaProducto)}}function Q(f,A){if(1&f){const s=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(s);const k=e.oxw(3);return e.KtG(k.comprar())}),e._UZ(1,"img",37),e._uU(2," QUIERO COMPRAR "),e.qZA()}}function Y(f,A){if(1&f){const s=e.EpF();e.TgZ(0,"mat-card-actions",33)(1,"button",34),e.NdJ("click",function(){e.CHM(s);const k=e.oxw(2);return e.KtG(k.intercambiar())}),e._uU(2,"QUIERO INTERCAMBIAR"),e.qZA(),e.YNc(3,Q,3,0,"button",35),e.qZA()}if(2&f){const s=e.oxw(2);e.xp6(3),e.Q6J("ngIf","VENTA_Y_TRUEQUE"==s.publicacion.tipoPublicacion&&s.publicacion.particularDTO.accessToken&&s.publicacion.particularDTO.publicKey)}}function W(f,A){if(1&f&&(e.TgZ(0,"mat-card",1)(1,"mat-card-header",2)(2,"div",3)(3,"div",4),e._UZ(4,"div",5),e.TgZ(5,"div")(6,"mat-card-title",6),e.YNc(7,h,2,3,"a",7),e.YNc(8,T,2,2,"span",8),e.qZA(),e.TgZ(9,"mat-card-subtitle"),e._UZ(10,"app-rating",9),e.qZA()()(),e.TgZ(11,"div",10)(12,"div"),e._uU(13),e.ALo(14,"date"),e.qZA(),e.YNc(15,w,2,1,"div",8),e.qZA()()(),e.TgZ(16,"mat-card-content",11)(17,"div",12),e.YNc(18,B,2,3,"ngb-carousel",13),e.qZA(),e.TgZ(19,"div")(20,"h2",14),e._uU(21),e.qZA(),e.TgZ(22,"div",15),e._uU(23),e.qZA(),e.TgZ(24,"div",16),e._uU(25," Valor de trueque: "),e.TgZ(26,"h2",17),e._uU(27),e.ALo(28,"currency"),e.ALo(29,"currency"),e.qZA()(),e.YNc(30,F,8,3,"div",18),e.YNc(31,J,4,1,"div",19),e.qZA()(),e.YNc(32,Y,4,1,"mat-card-actions",20),e.qZA()),2&f){const s=e.oxw();e.xp6(7),e.Q6J("ngIf",s.userData.isLoggedIn),e.xp6(1),e.Q6J("ngIf",!s.userData.isLoggedIn),e.xp6(2),e.Q6J("puntuacion",s.publicacion.particularDTO.puntaje)("remSize",1.2),e.xp6(3),e.Oqu(e.xi3(14,14,s.publicacion.fechaPublicacion,"dd/MM/yyyy")),e.xp6(2),e.Q6J("ngIf",s.publicacion.particularDTO.direcciones.length>0),e.xp6(3),e.Q6J("ngIf",s.publicacion.parsedImagenes&&s.publicacion.parsedImagenes.length>0),e.xp6(3),e.Oqu(s.publicacion.titulo),e.xp6(2),e.hij(" ",s.publicacion.descripcion," "),e.xp6(4),e.AsE("",e.lcZ(28,17,s.publicacion.valorTruequeMin)," - ",e.lcZ(29,19,s.publicacion.valorTruequeMax),""),e.xp6(3),e.Q6J("ngIf","VENTA_Y_TRUEQUE"==s.publicacion.tipoPublicacion&&!!s.publicacion.particularDTO.accessToken),e.xp6(1),e.Q6J("ngIf",s.publicacion.caracteristicaProducto.length>0),e.xp6(1),e.Q6J("ngIf","publicacionOrigen"!=s.userType&&"ABIERTA"==s.publicacion.estadoPublicacion)}}let K=(()=>{class f{constructor(s,U,k){this.truequeService=s,this.data=U,this.logisticaService=k,this.userType="notLoggedIn",this.intercambiarEvent=new e.vpe,this.comprarEvent=new e.vpe,this.costoEnvio=100,console.log(this.publicacion,U),U&&(this.publicacion=U.publicacion,this.userData=U.userData,this.userType=U.userType)}getImage(s){return this.truequeService.getImagen(s)}zoomImage(s){s&&E().fire({html:`<img src="${this.getImage(s)}" style="width: 100%"/>`,showConfirmButton:!1,showCloseButton:!0})}intercambiar(){this.intercambiarEvent.emit()}comprar(){this.comprarEvent.emit()}}return f.\u0275fac=function(s){return new(s||f)(e.Y36(n.x),e.Y36(t.WI,8),e.Y36(b.C))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-main-card-publicacion"]],inputs:{publicacion:"publicacion",userData:"userData",userType:"userType",compras:"compras"},outputs:{intercambiarEvent:"intercambiarEvent",comprarEvent:"comprarEvent"},decls:1,vars:1,consts:[["class","main-card",4,"ngIf"],[1,"main-card"],[2,"border-bottom","solid 1px var(--light-grey)","padding-bottom","10px"],[1,"div-header"],[1,"header-info"],["mat-card-avatar","",1,"example-header-image"],[2,"display","flex","align-items","center"],[3,"href",4,"ngIf"],[4,"ngIf"],["color","var(--trueques-dark)",3,"puntuacion","remSize"],[1,"div-fecha-zona"],[1,"card-content"],[2,"width","60%","margin","0 auto"],[3,"showNavigationArrows","showNavigationIndicators",4,"ngIf"],[1,"card-title"],[1,"descripcion"],[1,"trueque"],[2,"color","var(--trueques-dark)"],["class","venta",4,"ngIf"],["class","caracteristicas",4,"ngIf"],["class","card-button",4,"ngIf"],[3,"href"],[3,"showNavigationArrows","showNavigationIndicators"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"picsum-img-wrapper"],[2,"height","250px !important","object-fit","contain","object-position","center",3,"src"],[1,"carousel-caption"],[1,"venta"],[2,"font-size","14px"],[1,"caracteristicas"],["class","producto",4,"ngFor","ngForOf"],[1,"producto"],[1,"card-button"],["mat-fab","","extended","","color","primary",3,"click"],["mat-fab","","extended","","style","background-color: #3fb6e9; color: white;",3,"click",4,"ngIf"],["mat-fab","","extended","",2,"background-color","#3fb6e9","color","white",3,"click"],["src","assets/redes/mercadopago.png",2,"width","40px"]],template:function(s,U){1&s&&e.YNc(0,W,33,21,"mat-card",0),2&s&&e.Q6J("ngIf",U.publicacion)},dependencies:[c.sg,c.O5,O.cs,l.a8,l.hq,l.kc,l.dn,l.dk,l.$j,l.n5,C.uo,C.xl,_.A,c.H9,c.uU],styles:[".example-header-image[_ngcontent-%COMP%]{background-image:url(perfiles-17.f67e69cf999cd190.jpg);background-size:cover;margin:0 10px 0 0;width:60px;height:60px}mat-card[_ngcontent-%COMP%]{border-radius:15px}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{margin:10px}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:20px!important}mat-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{max-width:100%}.div-header[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;align-items:flex-end;flex-wrap:wrap}.div-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]{display:flex;align-items:center}.div-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-wrap:balance}.card-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.card-content[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.card-content[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;margin:5px;border-radius:5px;box-shadow:2px 2px 5px var(--dark-grey)}.card-content[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.card-content[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{font-weight:500;font-size:16px;margin-bottom:15px}.card-content[_ngcontent-%COMP%]   .trueque[_ngcontent-%COMP%], .card-content[_ngcontent-%COMP%]   .venta[_ngcontent-%COMP%]{font-size:16px}.card-content[_ngcontent-%COMP%]   .trueque[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .card-content[_ngcontent-%COMP%]   .venta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700}.card-content[_ngcontent-%COMP%]   .caracteristicas[_ngcontent-%COMP%]{margin-top:20px}.card-button[_ngcontent-%COMP%]{align-self:center}@media (min-width: 0px) and (max-width: 576px){.card-content[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}@media (min-width: 0px) and (max-width: 800px){.div-fecha-zona[_ngcontent-%COMP%]{display:flex;gap:10%;width:100%;justify-content:space-around}.header-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{max-width:80%}}@media (min-width: 801px){.div-fecha-zona[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center;align-items:flex-end}.header-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{max-width:420px}}"]}),f})()},4666:(R,D,o)=>{o.d(D,{K:()=>E});var e=o(2223),t=o(5500);const v="URImsUsuarios";let E=(()=>{class n{constructor(c){this.backendService=c}getMyCompras(){return this.backendService.get(v,"api/misCompras")}comprar(c){return this.backendService.post(v,`ms-users/api/comprar/${c}`,{})}}return n.\u0275fac=function(c){return new(c||n)(e.LFG(t.k))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},8628:(R,D,o)=>{o.d(D,{M:()=>b});var e=o(2340),t=o(2223),v=o(5500);const E=e.N.apiUrl+"8080/",n="URImsUsuarios";let b=(()=>{class c{constructor(l){this.backendService=l}crearColecta(l){return this.backendService.post(n,"api/colecta",l)}getAllColectas(l){return this.backendService.get(n,"api/colectas",l)}getMisColectas(){return this.backendService.get(n,"api/misColectas")}getColecta(l){return this.backendService.get(n,"api/colecta/"+l)}getDonacionesColecta(l){return this.backendService.get(n,"api/colecta/"+l+"/donaciones")}getMisDonaciones(){return this.backendService.get(n,"api/particular/misDonaciones")}crearDonacion(l,C){return this.backendService.post(n,"api/colecta/"+l+"/crearDonacion",C)}getImagen(l){return`${E}api/getImage/${l}`}cambiarEstadoDonacion(l,C,_){return this.backendService.put(n,"api/colecta/"+l+"/donaciones/"+C,_)}}return c.\u0275fac=function(l){return new(l||c)(t.LFG(v.k))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},4303:(R,D,o)=>{o.d(D,{C:()=>E});var e=o(2223),t=o(5500);const v="URImsUsuarios";let E=(()=>{class n{constructor(c){this.backendService=c}getOrden(c){return this.backendService.get(v,`ms-transacciones/api/logistica/orden/${c}`)}getOrdenes(){return this.backendService.get(v,"ms-transacciones/api/logistica/orden")}obtenerMisOrdenes(c){return this.backendService.get(v,"ms-transacciones/api/logistica/myOrdenes",{type:c})}getCostoEnvio(c){return this.backendService.get(v,"ms-transacciones/api/logistica/costoEnvio",{peso:c})}crearOrden(c){return this.backendService.post(v,"ms-transacciones/api/logistica/orden",c)}cambiarEstadoOrden(c,O){return this.backendService.put(v,`ms-transacciones/api/logistica/orden/${c}`,{nuevoEstado:O})}}return n.\u0275fac=function(c){return new(c||n)(e.LFG(t.k))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},2777:(R,D,o)=>{o.d(D,{x:()=>E});var e=o(2223),t=o(5500);const v="URImsUsuarios";let E=(()=>{class n{constructor(c){this.backendService=c}crearPublicacion(c){return this.backendService.post(v,"api/publicacion",c)}getPublicaciones(c){return this.backendService.get(v,"api/publicaciones",c)}getMisPublicaciones(){return this.backendService.get(v,"api/misPublicaciones")}getPublicacion(c){return this.backendService.get(v,"api/publicacion/"+c)}getImagen(c){return this.backendService.getUrlByName(v)+"api/getImage/"+c}crearTrueque(c,O){return this.backendService.post(v,"api/trueque",{idPublicacionOrigen:c,idPublicacionPropuesta:O})}getTruequesFromPublicacion(c){return this.backendService.get(v,`api/publicacion/${c}/trueques`)}getPropuestasFromPublicacion(c){return this.backendService.get(v,`api/publicacion/${c}/propuestas`)}getMisPublicacionesForTrueque(c){return this.backendService.get(v,`api/${c}/publicaciones`)}cambiarEstadoTrueque(c,O){return this.backendService.put(v,`api/trueque/${c}`,{nuevoEstado:O})}getTruequesParticular(c){return this.backendService.get(v,`api/trueques/particular/${c}`)}cerrarPublicacion(c){return this.backendService.patch(v,`api/publicacion/${c}`,{})}recibirPublicacion(c){return this.backendService.patch(v,`api/publicacion/${c}/recibido`,{})}}return n.\u0275fac=function(c){return new(c||n)(e.LFG(t.k))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},7833:(R,D,o)=>{o.d(D,{A:()=>r});var e=o(5861),t=o(2223),v=o(6262),E=o(5226),n=o.n(E),b=o(5580),c=o(2777),O=o(1531),l=o(430),C=o(1330),_=o(3276),h=o(4755);const T=function(i,d){return{"even-row":i,"odd-row":d}};function w(i,d){if(1&i){const a=t.EpF();t.ynx(0),t.TgZ(1,"mat-list-item",8),t.NdJ("mouseenter",function(){const m=t.CHM(a).$implicit,M=t.oxw(2);return t.KtG(M.hoveredItem=m)})("mouseleave",function(){t.CHM(a);const g=t.oxw(2);return t.KtG(g.hoveredItem=null)})("click",function(g){return g.stopPropagation()}),t._UZ(2,"img",9),t.TgZ(3,"div",10)(4,"div")(5,"h4"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA()(),t.TgZ(9,"div",11)(10,"span",12),t._uU(11),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"div")(14,"mat-icon",13),t.NdJ("click",function(){const m=t.CHM(a).$implicit,M=t.oxw(2);return t.KtG(M.access(m))}),t._uU(15,"open_in_new"),t.qZA()()()(),t.BQk()}if(2&i){const a=d.$implicit,p=d.even,g=d.odd,m=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(8,T,p,g)),t.xp6(1),t.Q6J("src",a.img,t.LSH),t.xp6(4),t.Oqu(a.title),t.xp6(2),t.Oqu(a.description),t.xp6(2),t.Udp("color",m.colorMap[a.estado]||"var(--warn)"),t.xp6(1),t.hij(" ",m.iconMap[a.estado]||"dangerous"," "),t.xp6(1),t.hij(" ",a.estado," ")}}function L(i,d){if(1&i&&(t.TgZ(0,"mat-nav-list"),t.YNc(1,w,16,11,"ng-container",7),t.qZA()),2&i){const a=t.oxw();t.xp6(1),t.Q6J("ngForOf",a.paginatedList)}}function q(i,d){if(1&i){const a=t.EpF();t.TgZ(0,"mat-paginator",14,15),t.NdJ("page",function(g){t.CHM(a);const m=t.oxw();return t.KtG(m.changePage(g))}),t.qZA()}if(2&i){const a=t.oxw();t.Q6J("hidePageSize",!0)("pageSize",a.pageSize)("showFirstLastButtons",!0)("length",a.list.length)}}function B(i,d){if(1&i&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&i){const a=t.oxw();t.xp6(1),t.hij(" ","CERRADA"==a.data.estado?"\xa1No propusiste esta publicaci\xf3n en ning\xfan trueque!":"\xa1Todav\xeda no propusiste esta publicaci\xf3n en ning\xfan trueque!"," ")}}let F=(()=>{class i{constructor(a,p,g,m){this.dialogRef=a,this.data=p,this.truequesService=g,this.router=m,this.list=[],this.paginatedList=[],this.title="Propuestas",this.pageSize=10,this.iconMap={APROBADO:"verified",APROBADA:"verified",RECIBIDO:"add_task",RECIBIDA:"add_task",PENDIENTE:"pending",ABIERTA:"lock_open",CERRADA:"lock"},this.colorMap={APROBADO:"var(--success)",APROBADA:"var(--success)",RECIBIDO:"var(--success)",RECIBIDA:"var(--success)",PENDIENTE:"purple",ABIERTA:"var(--success)"}}ngOnInit(){console.log(this.data),this.data.action&&"list"==this.data.action&&this.getPropuestas(this.data.id),this.paginatedList=this.list.slice(0,this.pageSize)}changePage(a){const p=a.pageIndex*a.pageSize;this.paginatedList=this.list.slice(p,p+a.pageSize)}getPropuestas(a){this.truequesService.getPropuestasFromPublicacion(a).subscribe({next:p=>{console.log(p);const g=p||[];console.log(g);for(const m of g)this.list.push({id:m.publicacionDTOorigen.idPublicacion,title:m.publicacionDTOorigen.titulo,description:m.publicacionDTOorigen.descripcion,img:this.getImagen(m.publicacionDTOorigen.imagenes.split("|")[0]),estado:m.estadoTrueque});this.paginatedList=this.list.slice(0,this.pageSize)}})}access(a){console.log("access",a),this.dialogRef.close(),this.router.navigate(["publicacion/"+a.id])}getImagen(a){return this.truequesService.getImagen(a)}}return i.\u0275fac=function(a){return new(a||i)(t.Y36(b.so),t.Y36(b.WI),t.Y36(c.x),t.Y36(O.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-list"]],inputs:{list:"list",title:"title"},decls:10,vars:4,consts:[[1,"header"],[2,"width","30px"],[2,"margin-left","10px","cursor","pointer",3,"click"],[2,"margin","20px"],[4,"ngIf"],["style","border-radius: 15px;",3,"hidePageSize","pageSize","showFirstLastButtons","length","page",4,"ngIf"],["style","padding: 10%; text-align: center;",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass","mouseenter","mouseleave","click"],["matListItemIcon","",1,"item-img",3,"src"],[1,"item-content"],[2,"display","flex","gap","10px"],[1,"material-icons-outlined","result-icon"],[2,"cursor","pointer",3,"click"],[2,"border-radius","15px",3,"hidePageSize","pageSize","showFirstLastButtons","length","page"],["paginator",""],[2,"padding","10%","text-align","center"]],template:function(a,p){1&a&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"mat-icon",2),t.NdJ("click",function(){return p.dialogRef.close()}),t._uU(5,"close"),t.qZA()(),t.TgZ(6,"div",3),t.YNc(7,L,2,1,"mat-nav-list",4),t.YNc(8,q,2,4,"mat-paginator",5),t.YNc(9,B,2,1,"div",6),t.qZA()),2&a&&(t.xp6(3),t.Oqu(p.title),t.xp6(4),t.Q6J("ngIf",p.list.length>0),t.xp6(1),t.Q6J("ngIf",p.list.length>0),t.xp6(1),t.Q6J("ngIf",0==p.list.length))},dependencies:[l.Hw,C.Hk,C.Tg,C.Yt,_.NW,h.mk,h.sg,h.O5],styles:[".header[_ngcontent-%COMP%]{text-align:center;margin:20px;padding-bottom:20px;border-bottom:1px solid var(--light-grey);font-size:16px;display:flex;align-items:center;justify-content:space-between}.even-row[_ngcontent-%COMP%]{background-color:#e2e1e1}.odd-row[_ngcontent-%COMP%]{background-color:transparent}mat-list-item[_ngcontent-%COMP%]{height:-moz-fit-content!important;height:fit-content!important;padding:5px;cursor:default}mat-list-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}mat-list-item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:5px;box-shadow:2px 2px 5px var(--dark-grey)}mat-list-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:10px;flex-wrap:wrap}mat-list-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}mat-list-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px!important}"]}),i})();var y=o(8988),J=o(4377),Q=o(8628),Y=o(1728),W=o(6996),K=o(3649),f=o(9515);function A(i,d){if(1&i&&(t.TgZ(0,"span",23),t._uU(1),t.qZA()),2&i){const a=t.oxw(2);t.Q6J("ngClass","Venta"!=a.cardData.codigo?a.colorMap[a.cardData.estado]||"red":"green")("matTooltip",a.cardData.codigo&&"Venta"==a.cardData.codigo?"VENDIDO":a.cardData.codigo?a.cardData.codigo+" "+a.cardData.estado:"donaciones"==a.app?"Donaci\xf3n "+a.cardData.estado:"Trueque "+a.cardData.estado),t.xp6(1),t.hij(" ","Venta"!=a.cardData.codigo?a.iconMap[a.cardData.estado]||"pending":"shopping_cart"," ")}}function s(i,d){if(1&i&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&i){const a=t.oxw(2);t.Q6J("ngClass","Venta"!=a.cardData.codigo?a.colorMap[a.cardData.estado]||"red":"green"),t.xp6(1),t.hij(" ",a.cardData.codigo&&"Venta"==a.cardData.codigo?"VENDIDO":a.cardData.estado,"")}}function U(i,d){if(1&i&&(t.TgZ(0,"div",25),t._uU(1),t.qZA()),2&i){const a=t.oxw(2);t.xp6(1),t.hij(" ",a.cardData.valorSecundario," ")}}function k(i,d){if(1&i){const a=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(g){const M=t.CHM(a).$implicit,P=t.oxw(3);return P.buttonClicked(P.cardData,M),t.KtG(g.stopPropagation())}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA()()}if(2&i){const a=d.$implicit;t.Akn("info"==a.color?"background-color: var(--info)":"opinion"==a.color?"background-color: var(--opiniones); color: white;":""),t.Q6J("color",a.color)("matTooltip",a.name),t.xp6(2),t.Oqu(a.icon)}}function H(i,d){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,k,3,5,"button",27),t.qZA()),2&i){const a=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",a.cardData.buttons)}}function G(i,d){1&i&&(t.TgZ(0,"span",31),t._uU(1," \xa1Llev\xe1 tu donaci\xf3n! "),t.TgZ(2,"span",32),t._uU(3,"info"),t.qZA()())}function $(i,d){1&i&&(t.TgZ(0,"span",31),t._uU(1," \xa1En env\xedo! "),t.TgZ(2,"span",33),t._uU(3,"info"),t.qZA()())}function V(i,d){if(1&i&&(t.TgZ(0,"span",31),t._uU(1),t.TgZ(2,"span",34),t._uU(3,"info"),t.qZA()()),2&i){const a=t.oxw(3);t.xp6(1),t.hij(" ","POR_CONFIGURAR"==a.cardData.estadoAux?"\xa1Env\xedo pendiente!":"\xa1En env\xedo!"," "),t.xp6(1),t.Q6J("matTooltip","POR_CONFIGURAR"==a.cardData.estadoAux?"El swapper debe configurar el env\xedo. Te avisaremos cuando lo haga.":"El env\xedo est\xe1 activo. Shipnow buscar\xe1 el producto en los pr\xf3ximos 2 d\xedas habiles, y luego te lo llevar\xe1.")}}function X(i,d){1&i&&(t.TgZ(0,"span",31)(1,"span",35),t._uU(2,"done_all"),t.qZA(),t._uU(3," \xa1Donaci\xf3n recibida! "),t.qZA())}function tt(i,d){if(1&i&&(t.TgZ(0,"div",29),t.YNc(1,G,4,0,"span",30),t.YNc(2,$,4,0,"span",30),t.YNc(3,V,4,2,"span",30),t.YNc(4,X,4,0,"span",30),t.qZA()),2&i){const a=t.oxw(2);t.xp6(1),t.Q6J("ngIf","EN ESPERA"==a.cardData.estado&&a.isSwapper&&a.idUserLoggedIn==a.cardData.usuario.id),t.xp6(1),t.Q6J("ngIf","EN ENVIO"==a.cardData.estado&&!a.isSwapper),t.xp6(1),t.Q6J("ngIf","APROBADA"==a.cardData.estado&&!a.isSwapper&&!!a.cardData.estadoAux&&"RECIBIDO"!=a.cardData.estadoAux),t.xp6(1),t.Q6J("ngIf",!!a.cardData.estadoAux&&"RECIBIDO"==a.cardData.estadoAux)}}function nt(i,d){if(1&i&&(t.TgZ(0,"span",31),t._uU(1),t.TgZ(2,"span",34),t._uU(3,"info"),t.qZA()()),2&i){const a=t.oxw(3);t.xp6(1),t.hij(" ","POR_CONFIGURAR"==a.cardData.estadoAux?"\xa1Env\xedo pendiente!":"\xa1En env\xedo!"," "),t.xp6(1),t.Q6J("matTooltip","POR_CONFIGURAR"==a.cardData.estadoAux?"El swapper debe configurar el env\xedo. Te avisaremos cuando lo haga.":"El env\xedo est\xe1 activo. Shipnow buscar\xe1 tu producto en los pr\xf3ximos 2 d\xedas habiles, en el horario que configuraste.")}}function et(i,d){1&i&&(t.TgZ(0,"span",31)(1,"span",35),t._uU(2,"done_all"),t.qZA(),t._uU(3," \xa1Producto recibido! "),t.qZA())}function at(i,d){if(1&i&&(t.TgZ(0,"div",29),t.YNc(1,nt,4,2,"span",30),t.YNc(2,et,4,0,"span",30),t.qZA()),2&i){const a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!!a.cardData.estadoAux&&"RECIBIDO"!=a.cardData.estadoAux&&"Venta"==a.cardData.codigo),t.xp6(1),t.Q6J("ngIf",!!a.cardData.estadoAux&&"RECIBIDO"==a.cardData.estadoAux)}}function it(i,d){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const a=t.oxw(2);t.xp6(1),t.Oqu(t.xi3(2,1,a.cardData.fecha,"dd/MM/yyyy"))}}function u(i,d){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.qZA()),2&i){const a=t.oxw(2);t.xp6(1),t.Oqu(a.cardData.fechaString)}}function x(i,d){if(1&i){const a=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(){t.CHM(a);const g=t.oxw();return t.KtG(g.clicked(g.cardData))}),t.TgZ(1,"mat-chip",2)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",3),t.YNc(5,A,2,3,"span",4),t.YNc(6,s,2,2,"span",5),t.qZA(),t.TgZ(7,"div",6),t._UZ(8,"img",7),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"h3",10),t._uU(12),t.qZA(),t.TgZ(13,"div",11)(14,"h2",12),t._uU(15),t.qZA()(),t.YNc(16,U,2,1,"div",13),t.qZA()(),t.YNc(17,H,2,1,"div",14),t.YNc(18,tt,5,4,"div",15),t.YNc(19,at,3,2,"div",15),t.TgZ(20,"div",16),t._UZ(21,"img",17),t.TgZ(22,"h4")(23,"div",18)(24,"a",19),t._uU(25),t.qZA()(),t.TgZ(26,"div",20),t._UZ(27,"app-rating",21),t.qZA()(),t.TgZ(28,"div"),t.YNc(29,it,3,4,"h6",22),t.YNc(30,u,2,1,"h6",22),t.qZA()()()}if(2&i){const a=t.oxw();t.ekj("selected-card",1==a.cardData.isSelected)("is-donacion","Donaci\xf3n"==a.cardData.codigo),t.xp6(1),t.Q6J("ngClass","publicaciones"==a.app?"background-verde":"background-lila"),t.xp6(2),t.hij(" ",a.cardData.usuario.localidad," "),t.xp6(2),t.Q6J("ngIf",a.cardData.estado),t.xp6(1),t.Q6J("ngIf",a.cardData.estado&&a.screenWidth<=500),t.xp6(2),t.Q6J("src",a.getImagen(a.cardData.imagen),t.LSH),t.xp6(4),t.Oqu(a.cardData.titulo),t.xp6(2),t.Q6J("ngClass","publicaciones"==a.app?"font-verde":"font-lila"),t.xp6(1),t.hij(" ",a.cardData.valorPrincipal," "),t.xp6(1),t.Q6J("ngIf",a.cardData.valorSecundario),t.xp6(1),t.Q6J("ngIf",a.cardData.buttons.length>0),t.xp6(1),t.Q6J("ngIf","Donaci\xf3n"==a.cardData.codigo),t.xp6(1),t.Q6J("ngIf","Donaci\xf3n"!=a.cardData.codigo),t.xp6(1),t.Q6J("ngClass","publicaciones"==a.app?"background-verde":"background-lila"),t.xp6(1),t.Q6J("src","assets/perfiles/perfiles-"+a.cardData.usuario.imagen+".jpg",t.LSH),t.xp6(3),t.Q6J("href","perfil/"+a.cardData.usuario.id,t.LSH),t.xp6(1),t.Oqu(a.cardData.usuario.nombre),t.xp6(2),t.Q6J("puntuacion",a.cardData.usuario.puntaje)("color","publicaciones"==a.app?"var(--trueques-dark)":"var(--donaciones-dark)"),t.xp6(2),t.Q6J("ngIf",a.cardData.fecha),t.xp6(1),t.Q6J("ngIf",a.cardData.fechaString)}}let r=(()=>{class i{constructor(a,p,g,m,M){this.truequesService=a,this.router=p,this.dialog=g,this.auth=m,this.donacionesService=M,this.app="colectas",this.mine=!1,this.statusChanged=new t.vpe,this.cardSelected=new t.vpe,this.cardUnselected=new t.vpe,this.modalClosed=new t.vpe,this.iconMap={APROBADO:"verified",APROBADA:"verified",RECIBIDO:"add_task",RECIBIDA:"add_task",PENDIENTE:"pending","EN ESPERA":"schedule","EN ENVIO":"schedule",ABIERTA:"lock_open",CERRADA:"lock",CANCELADA:"cancel",ANULADA:"cancel",RECHAZADA:"cancel"},this.colorMap={APROBADO:"green",APROBADA:"green",RECIBIDO:"green",RECIBIDA:"green",PENDIENTE:"purple","EN ENVIO":"purple",ABIERTA:"green","EN ESPERA":"purple"},this.isSwapper=!1,this.isSwapper=m.isUserSwapper(),this.idUserLoggedIn=m.getUserID(),this.screenWidth=window.innerWidth>0?window.innerWidth:screen.width}clicked(a){switch(a.action){case"select":console.log(this.cardData),this.cardData&&(this.cardData.isSelected=!this.cardData.isSelected,this.cardData.isSelected?this.cardSelected.emit(a.id):this.cardUnselected.emit(a.id));break;case"detail":this.showDetail(a);break;case"trueque":this.router.navigate(["publicacion/"+a.idAuxiliar]);break;default:this.router.navigate([("colectas"==this.app?"colecta/":"publicaciones"==this.app?"publicacion/":"colecta/")+("colectas"==this.app||"publicaciones"==this.app?a.id:a.idAuxiliar)])}}showDetail(a){var p=this;let g,m;var M;"publicaciones"==this.app&&(g=v.r,this.truequesService.getPublicacion(a.id).subscribe({next:(M=(0,e.Z)(function*(P){m={publicacion:yield P,userData:{isLoggedIn:p.auth.isUserLoggedIn},userType:"publicacionOrigen"},m.publicacion.parsedImagenes=m.publicacion.imagenes.split("|"),p.openDialog(g,m,"80vh")}),function(I){return M.apply(this,arguments)})}))}openDialog(a,p,g="60vh",m="80vw"){this.dialog.open(a,{maxWidth:m,maxHeight:g,width:"100%",panelClass:"full-screen-modal",data:p}).afterClosed().subscribe(P=>{"newEnvio"==P?this.openDialog(y.o,{card:this.cardData,newEnvio:!0},"70vh","60vw"):this.modalClosed.emit({result:P,componente:a.name})})}buttonClicked(a,p){switch(p.action){case"list":this.openDialog(F,a);break;case"add_or_remove":case"click_card":this.clicked(a);break;case"navigate":this.router.navigate(["publicacion/"+a.idAuxiliar]);break;case"ver_envio":this.openDialog(y.o,"donaciones"==this.app?{cards:[a]}:{card:a},"70vh","60vw");break;case"configurar_envio":return void this.openDialog(y.o,{card:a},"70vh","60vw");case"change_status":default:this.changeStatus(a,p.status);break;case"opinar":this.router.navigate(["perfil/"+a.usuario.id])}}changeStatus(a,p){let g="",m="",M="",P="",I="",Z="warning";console.log(a,p);const S=a.codigo?a.codigo.toLowerCase():"publicaciones"==this.app?"propuesta de trueque":"donaci\xf3n";switch(p){case"CANCELADO":g="Confirmar Cancelaci\xf3n",m="\xbfEst\xe1s seguro/a que quer\xe9s cancelar esta "+S+"? La acci\xf3n es irreversible, pero podr\xe1s crear otra luego.",I="S\xed, cancelar",P="No, mantener",Z="warning",this.fireSwal(g,m,M,P,I,Z,a,p,S);break;case"ACEPTADO":g="Confirmar Aprobaci\xf3n",m="Confirm\xe1 que acept\xe1s la "+S+". Esta acci\xf3n es irreversible!",M="S\xed, aceptar",P="No, cancelar",Z="warning",this.fireSwal(g,m,M,P,I,Z,a,p,S);break;case"RECHAZADO":g="Confirmar Rechazo",m="\xbfEst\xe1s seguro/a que quer\xe9s rechazar esta "+S+"? La acci\xf3n es irreversible.",I="S\xed, rechazar",P="No, cancelar",Z="warning",this.fireSwal(g,m,M,P,I,Z,a,p,S);break;case"EN_ESPERA":this.donacionesService.getColecta(a.idAuxiliar).subscribe({next:z=>{console.log("RESSS",z),console.log("after subscribe"),g="Confirmar Env\xedo en Persona",m=`Esto significa que vos ten\xe9s que llevar la donaci\xf3n a la fundaci\xf3n. La direcci\xf3n es \n\t\t\t\t\t\t${z.fundacionDTO.direcciones[0].calle} ${z.fundacionDTO.direcciones[0].altura} ${z.fundacionDTO.direcciones[0].piso||""} ${z.fundacionDTO.direcciones[0].departamento||""}\n\t\t\t\t\t\t(${z.fundacionDTO.direcciones[0].localidad})\n\t\t\t\t\t\t`,I="S\xed, confirmar",P="No, cancelar",Z="warning",this.fireSwal(g,m,M,P,I,Z,a,p,S)}});break;case"CERRADA":g="Confirmar Cierre",m="\xbfEst\xe1s seguro/a que quer\xe9s cerrar esta "+S+"? Se cancelar\xe1n todos sus trueques pendientes. Esta acci\xf3n es irreversible.",I="S\xed, confirmar",P="No, cancelar",Z="warning",this.fireSwal(g,m,M,P,I,Z,a,p,S);break;default:g="Confirmar Acci\xf3n",m="Cambiar el estado de la "+S+" es irreversible, \xbfEst\xe1s seguro/a que quer\xe9s continuar?",M="S\xed, continuar",P="No, cancelar",Z="warning",this.fireSwal(g,m,M,P,I,Z,a,p,S)}}fireSwal(a,p,g,m,M,P,I,Z,S){n().fire({title:a,text:p,showConfirmButton:""!=g,confirmButtonText:g,showDenyButton:""!=M,denyButtonText:M,showCancelButton:""!=m,cancelButtonText:m,icon:P,reverseButtons:!0}).then(({isConfirmed:z,isDenied:N})=>{(z||N)&&("CERRADA"==Z?this.truequesService.cerrarPublicacion(I.id).subscribe({next:j=>{console.log(j),n().fire("Se cambi\xf3 el estado!","Se guard\xf3 el nuevo estado de la "+S,"success").then(()=>{this.statusChanged.emit()})}}):"publicaciones"==this.app&&"RECIBIDA"==Z?this.truequesService.recibirPublicacion(I.id).subscribe({next:j=>{n().fire("Se cambi\xf3 el estado!","Se guard\xf3 el nuevo estado de la "+S,"success").then(()=>{this.statusChanged.emit()})}}):"publicaciones"==this.app&&I.idAuxiliar?this.truequesService.cambiarEstadoTrueque(I.idAuxiliar,Z).subscribe({next:j=>{n().fire("Se cambi\xf3 el estado!","Se guard\xf3 el nuevo estado de la "+S,"success").then(()=>{this.statusChanged.emit()})}}):I.idAuxiliar&&this.donacionesService.cambiarEstadoDonacion(I.idAuxiliar,I.id,{nuevoEstado:Z}).subscribe({next:j=>{n().fire("Se cambi\xf3 el estado!","Se guard\xf3 el nuevo estado de la "+S,"success").then(()=>{this.statusChanged.emit()})}}))})}getImagen(a){return this.truequesService.getImagen(a)}}return i.\u0275fac=function(a){return new(a||i)(t.Y36(c.x),t.Y36(O.F0),t.Y36(b.uw),t.Y36(J.e),t.Y36(Q.M))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-card"]],inputs:{app:"app",mine:"mine",cardData:"cardData"},outputs:{statusChanged:"statusChanged",cardSelected:"cardSelected",cardUnselected:"cardUnselected",modalClosed:"modalClosed"},decls:1,vars:1,consts:[["class","card big",3,"selected-card","is-donacion","click",4,"ngIf"],[1,"card","big",3,"click"],[1,"chip-localidad",3,"ngClass"],[2,"position","absolute","top","10px","left","10px","display","flex","flex-direction","column"],["class","material-icons-outlined result-icon",3,"ngClass","matTooltip",4,"ngIf"],["class","result-icon","style","font-size: 14px;",3,"ngClass",4,"ngIf"],[1,"img-div",2,"display","flex","justify-content","center"],[1,"card-img",3,"src"],[1,"card-body"],[1,"body-data"],[1,"card-title"],[1,"valor-principal"],[2,"max-width","300px",3,"ngClass"],["class","valor-secundario",4,"ngIf"],["class","buttons",4,"ngIf"],["style","width: 100%;",4,"ngIf"],[1,"user-data",3,"ngClass"],[1,"user-img",3,"src"],[1,"name"],[3,"href"],[2,"margin","0 10px","display","flex","align-items","center","justify-content","center"],[3,"puntuacion","color"],[4,"ngIf"],[1,"material-icons-outlined","result-icon",3,"ngClass","matTooltip"],[1,"result-icon",2,"font-size","14px",3,"ngClass"],[1,"valor-secundario"],[1,"buttons"],["mat-mini-fab","","matTooltipPosition","above",3,"color","matTooltip","style","click",4,"ngFor","ngForOf"],["mat-mini-fab","","matTooltipPosition","above",3,"color","matTooltip","click"],[2,"width","100%"],["class","llevar-donacion",4,"ngIf"],[1,"llevar-donacion"],["matTooltip","Cuando entregues la donaci\xf3n, la fundaci\xf3n podr\xe1 marcarla como RECIBIDA.",1,"material-icons-outlined"],["matTooltip","La donaci\xf3n est\xe1 en proceso de env\xedo.",1,"material-icons-outlined"],[1,"material-icons-outlined",3,"matTooltip"],[1,"material-icons-outlined"]],template:function(a,p){1&a&&t.YNc(0,x,31,24,"div",0),2&a&&t.Q6J("ngIf",p.cardData)},dependencies:[l.Hw,Y.nh,W.HS,K.gM,h.mk,h.sg,h.O5,f.A,h.uU],styles:[".card[_ngcontent-%COMP%]{margin:5px;display:flex;flex-direction:column;align-items:center;max-width:515px!important}.card.big[_ngcontent-%COMP%]{height:515px!important}.card.big[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px!important}.card.small[_ngcontent-%COMP%]{height:480px!important}.card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]:hover{cursor:pointer}.card.selected-card[_ngcontent-%COMP%]{background-color:#bceba1}.card.selected-card.is-donacion[_ngcontent-%COMP%]{background-color:#dcb9ef}.card[_ngcontent-%COMP%]   .chip-localidad[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;padding:2px;font-weight:500}.card[_ngcontent-%COMP%]   .chip-localidad.button[_ngcontent-%COMP%]{font-size:10px!important;padding:0 10px}.card[_ngcontent-%COMP%]   .chip-localidad.background-verde[_ngcontent-%COMP%]{background-color:var(--trueques)}.card[_ngcontent-%COMP%]   .chip-localidad.background-lila[_ngcontent-%COMP%]{background-color:var(--donaciones)}.card[_ngcontent-%COMP%]   .chip-localidad.background-warn[_ngcontent-%COMP%]{background-color:var(--info)}.card[_ngcontent-%COMP%]   .chip-localidad.background-warn[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]   .img-div[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px;align-items:center;height:200px}.card[_ngcontent-%COMP%]   .img-div[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{max-height:160px;margin:20px;width:auto;max-width:100%;box-shadow:2px 2px 5px var(--dark-grey)}.card[_ngcontent-%COMP%]   .img-div[_ngcontent-%COMP%]   .card-img.big[_ngcontent-%COMP%]{max-height:160px}.card[_ngcontent-%COMP%]   .img-div[_ngcontent-%COMP%]   .card-img.small[_ngcontent-%COMP%]{max-height:110px}.card[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]{display:flex;max-width:180px;gap:30px;flex-wrap:wrap;justify-content:center}.card[_ngcontent-%COMP%]   .estado-publicacion[_ngcontent-%COMP%]{margin-top:5px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .body-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:0}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .valor-principal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700!important;margin:0}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]   .user-data[_ngcontent-%COMP%]{text-align:center;padding:10px;display:grid;grid-template-columns:1fr 4fr 2fr;justify-items:center;align-items:center;width:100%;border-radius:0 0 10px 10px;min-height:95px}.card[_ngcontent-%COMP%]   .user-data[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0}.card[_ngcontent-%COMP%]   .user-data[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{width:30px;border-radius:50%}.card[_ngcontent-%COMP%]   .user-data[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .user-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px}.card[_ngcontent-%COMP%]   .user-data[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:normal}.card[_ngcontent-%COMP%]   .user-data[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.card[_ngcontent-%COMP%]   .user-data[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#444}.card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:10px;margin:10px auto;justify-content:space-evenly}.card[_ngcontent-%COMP%]   .llevar-donacion[_ngcontent-%COMP%]{gap:10px;background:var(--info);width:100%;display:flex;justify-content:center;align-items:center;padding:5px}.result-icon[_ngcontent-%COMP%]{font-size:40px}.result-icon.green[_ngcontent-%COMP%]{color:var(--success)}.result-icon.red[_ngcontent-%COMP%]{color:var(--warn)}.result-icon.purple[_ngcontent-%COMP%]{color:var(--secondary-color)}@media (min-width: 0px) and (max-width: 576px){.buttons[_ngcontent-%COMP%]{width:50%!important}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase}}.background-verde[_ngcontent-%COMP%]{background-color:#bceba1}.background-lila[_ngcontent-%COMP%]{background-color:#dcb9ef}.font-verde[_ngcontent-%COMP%]{color:var(--trueques-dark)}.font-lila[_ngcontent-%COMP%]{color:var(--donaciones-dark)}"]}),i})()},9229:(R,D,o)=>{o.d(D,{o:()=>O});var e=o(2223),t=o(3276),v=o(4755),E=o(7833);function n(l,C){if(1&l){const _=e.EpF();e.TgZ(0,"div")(1,"app-card",4),e.NdJ("statusChanged",function(T){e.CHM(_);const w=e.oxw(2);return e.KtG(w.cardStatusChanged(T))})("cardSelected",function(T){e.CHM(_);const w=e.oxw(2);return e.KtG(w.cardWasSelected(T))})("cardUnselected",function(T){e.CHM(_);const w=e.oxw(2);return e.KtG(w.cardWasUnselected(T))})("modalClosed",function(T){e.CHM(_);const w=e.oxw(2);return e.KtG(w.modalWasClosed(T))}),e.qZA()()}if(2&l){const _=C.$implicit,h=e.oxw(2);e.Tol(h.fullScreenWidth?"col-xs-12 col-sm-6 col-md-4":h.smallWidth?"col-lg-12 col-xl-6":"col-xs-12 col-sm-6 col-md-12 col-lg-6 col-xl-4"),e.xp6(1),e.Q6J("cardData",_)("app",h.app)}}function b(l,C){if(1&l){const _=e.EpF();e.TgZ(0,"mat-paginator",5,6),e.NdJ("page",function(T){e.CHM(_);const w=e.oxw(2);return e.KtG(w.changePage(T))}),e.qZA()}if(2&l){const _=e.oxw(2);e.ekj("no-label",_.smallWidth),e.Q6J("hidePageSize",!0)("pageSize",_.pageSize)("showFirstLastButtons",!0)("length",_.cardList.length)}}function c(l,C){if(1&l&&(e.TgZ(0,"div",1),e.YNc(1,n,2,4,"div",2),e.YNc(2,b,2,6,"mat-paginator",3),e.qZA()),2&l){const _=e.oxw();e.xp6(1),e.Q6J("ngForOf",_.paginatedCardList),e.xp6(1),e.Q6J("ngIf",_.cardList.length>0)}}let O=(()=>{class l{constructor(){this.cardList=[],this.app="colectas",this.fullScreenWidth=!1,this.smallWidth=!1,this.statusChanged=new e.vpe,this.cardSelected=new e.vpe,this.cardUnselected=new e.vpe,this.modalClosed=new e.vpe,this.paginatedCardList=[],this.pageSize=12}ngOnChanges(_){this.fixedPageSize&&(this.pageSize=this.fixedPageSize),this.paginatedCardList=this.cardList.slice(0,this.pageSize)}changePage(_){const h=_.pageIndex*_.pageSize;this.paginatedCardList=this.cardList.slice(h,h+_.pageSize)}cardStatusChanged(_){console.log("status",_),this.statusChanged.emit(_)}cardWasSelected(_){"donaciones"!=this.app&&this.cardList.map(h=>{h.id!=_&&(h.isSelected=!1)}),this.cardSelected.emit(_)}cardWasUnselected(_){this.cardUnselected.emit(_)}modalWasClosed(_){this.modalClosed.emit(_)}}return l.\u0275fac=function(_){return new(_||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-deck"]],viewQuery:function(_,h){if(1&_&&e.Gf(t.NW,5),2&_){let T;e.iGM(T=e.CRH())&&(h.paginator=T.first)}},inputs:{cardList:"cardList",app:"app",fullScreenWidth:"fullScreenWidth",smallWidth:"smallWidth",pageSize:"pageSize",fixedPageSize:"fixedPageSize"},outputs:{statusChanged:"statusChanged",cardSelected:"cardSelected",cardUnselected:"cardUnselected",modalClosed:"modalClosed"},features:[e.TTD],decls:1,vars:1,consts:[["class","card-deck row",4,"ngIf"],[1,"card-deck","row"],[3,"class",4,"ngFor","ngForOf"],["style","border-radius: 15px;",3,"hidePageSize","pageSize","showFirstLastButtons","length","no-label","page",4,"ngIf"],[3,"cardData","app","statusChanged","cardSelected","cardUnselected","modalClosed"],[2,"border-radius","15px",3,"hidePageSize","pageSize","showFirstLastButtons","length","page"],["paginator",""]],template:function(_,h){1&_&&e.YNc(0,c,3,2,"div",0),2&_&&e.Q6J("ngIf",h.cardList.length>0)},dependencies:[t.NW,v.sg,v.O5,E.A],styles:[".no-label[_ngcontent-%COMP%]     .mat-mdc-paginator-range-label{display:none!important}"]}),l})()},8988:(R,D,o)=>{o.d(D,{o:()=>it});var e=o(9401),t=o(5580),v=o(5226),E=o.n(v),n=o(2223),b=o(4303),c=o(4666),O=o(5763),l=o(4377),C=o(8628),_=o(9114),h=o(430),T=o(9609),w=o(8467),L=o(1728),q=o(787),B=o(1217),F=o(3649),y=o(4755);function J(u,x){if(1&u&&(n.TgZ(0,"span"),n._uU(1,"Datos de tu env\xedo para: "),n._UZ(2,"br"),n._uU(3),n.qZA()),2&u){const r=n.oxw();n.xp6(3),n.hij(" ",r.ordersToShow[0].titulo,"")}}function Q(u,x){1&u&&(n.TgZ(0,"span"),n._uU(1,"Configur\xe1 el env\xedo de tu producto"),n.qZA())}function Y(u,x){1&u&&n._UZ(0,"mat-spinner",7)}function W(u,x){if(1&u&&(n.TgZ(0,"div",23),n._uU(1," El peso de este producto es: "),n.TgZ(2,"b"),n._uU(3),n.qZA()()),2&u){const r=n.oxw(2);n.xp6(3),n.hij("",r.compra.publicacionDTO.peso," gramos")}}function K(u,x){1&u&&(n.TgZ(0,"mat-error"),n._uU(1," Campo obligatorio "),n.qZA())}function f(u,x){if(1&u&&(n.TgZ(0,"mat-form-field")(1,"mat-label"),n._uU(2,"Peso Aproximado del Producto"),n.qZA(),n._UZ(3,"input",24),n.TgZ(4,"span",25),n._uU(5,"gramos"),n.qZA(),n.YNc(6,K,2,0,"mat-error",2),n.qZA()),2&u){const r=n.oxw(2);n.xp6(6),n.Q6J("ngIf",r.ordenForm.get("peso").hasError("required"))}}function A(u,x){1&u&&(n.TgZ(0,"mat-error"),n._uU(1," Campo obligatorio "),n.qZA())}function s(u,x){1&u&&(n.TgZ(0,"span",26),n._uU(1,"info"),n.qZA())}function U(u,x){1&u&&(n.TgZ(0,"span",27),n._uU(1,"info"),n.qZA())}function k(u,x){if(1&u&&(n.TgZ(0,"div",28)(1,"span"),n._uU(2,"El env\xedo se calcula utilizando tu direcci\xf3n:"),n.qZA(),n.TgZ(3,"span")(4,"b"),n._uU(5),n.qZA()()()),2&u){const r=n.oxw(2);n.xp6(5),n.HOy("",r.user.particularDTO.direcciones[0].calle," ",r.user.particularDTO.direcciones[0].altura,", ",r.user.particularDTO.direcciones[0].localidad," (CP",r.user.particularDTO.direcciones[0].codigoPostal,")")}}function H(u,x){if(1&u&&(n.TgZ(0,"b",33),n._uU(1),n.ALo(2,"currency"),n.qZA()),2&u){const r=n.oxw(3);n.xp6(1),n.Oqu(r.costoEnvio?n.lcZ(2,1,r.costoEnvio):"-")}}function G(u,x){1&u&&n._UZ(0,"mat-spinner",34)}function $(u,x){if(1&u){const r=n.EpF();n.TgZ(0,"div",29)(1,"div"),n._uU(2,"Costo de env\xedo:"),n.qZA(),n.YNc(3,H,3,3,"b",30),n.YNc(4,G,1,0,"mat-spinner",31),n.TgZ(5,"button",32),n.NdJ("click",function(){n.CHM(r);const d=n.oxw(2);return n.KtG(d.calcularEnvio())}),n._uU(6,"Calcular"),n.qZA()()}if(2&u){const r=n.oxw(2);n.xp6(3),n.Q6J("ngIf",!r.loadingCosto),n.xp6(1),n.Q6J("ngIf",r.loadingCosto)}}function V(u,x){1&u&&n._UZ(0,"mat-spinner",35)}function X(u,x){if(1&u){const r=n.EpF();n.TgZ(0,"div"),n.YNc(1,W,4,1,"div",8),n.TgZ(2,"form",9),n.YNc(3,f,7,1,"mat-form-field",2),n.TgZ(4,"div",10)(5,"mat-form-field")(6,"mat-label"),n._uU(7,"Disponibilidad Horaria"),n.qZA(),n.TgZ(8,"mat-select",11)(9,"mat-option",12),n._uU(10," 9hs a 12hs"),n.qZA(),n.TgZ(11,"mat-option",13),n._uU(12," 13hs a 16hs"),n.qZA(),n.TgZ(13,"mat-option",14),n._uU(14," 17hs a 20hs"),n.qZA()(),n.YNc(15,A,2,0,"mat-error",2),n.qZA(),n.YNc(16,s,2,0,"span",15),n.YNc(17,U,2,0,"span",16),n.qZA()(),n.YNc(18,k,6,4,"div",17),n.YNc(19,$,7,2,"div",18),n.TgZ(20,"div",19)(21,"button",20),n.NdJ("click",function(){n.CHM(r);const d=n.oxw();return n.KtG(d.dialogRef.close())}),n._uU(22,"CANCELAR"),n.qZA(),n.TgZ(23,"button",21),n.NdJ("click",function(){n.CHM(r);const d=n.oxw();return d.crearOrden(),d.ordenForm.markAllAsTouched(),n.KtG(d.ordenForm.valid)}),n.TgZ(24,"span"),n._uU(25,"CONFIRMAR"),n.qZA()(),n.YNc(26,V,1,0,"mat-spinner",22),n.qZA()()}if(2&u){const r=n.oxw();n.xp6(1),n.Q6J("ngIf","compra"==r.type&&r.compra),n.xp6(1),n.Q6J("formGroup",r.ordenForm),n.xp6(1),n.Q6J("ngIf","compra"!=r.type),n.xp6(12),n.Q6J("ngIf",r.ordenForm.get("disponibilidad").hasError("required")),n.xp6(1),n.Q6J("ngIf","compra"==r.type),n.xp6(1),n.Q6J("ngIf","compra"!=r.type),n.xp6(1),n.Q6J("ngIf",r.user),n.xp6(1),n.Q6J("ngIf",r.ordenForm.valid),n.xp6(4),n.Q6J("disabled",r.loadingSave||!r.ordenForm.valid),n.xp6(3),n.Q6J("ngIf",r.loadingSave)}}function tt(u,x){if(1&u&&(n.TgZ(0,"div",42)(1,"mat-icon"),n._uU(2,"chevron_right"),n.qZA(),n.TgZ(3,"span")(4,"b"),n._uU(5),n.qZA(),n._uU(6),n.qZA()()),2&u){const r=x.$implicit;n.xp6(3),n.Udp("color","CANCELADO"==r.estado?"var(--warn-color)":"POR_DESPACHAR"==r.estado?"var(--donaciones-dark)":"var(--primary-color)"),n.xp6(2),n.Oqu(r.estado.replace("_"," ")),n.xp6(1),n.hij(" - ",r.fechaEnvio,"")}}function nt(u,x){if(1&u&&(n.TgZ(0,"div")(1,"p",39)(2,"mat-icon"),n._uU(3,"numbers"),n.qZA(),n._uU(4,"N\xfamero de \xf3rden: "),n.TgZ(5,"b"),n._uU(6),n.qZA()(),n.TgZ(7,"p")(8,"mat-icon"),n._uU(9,"event"),n.qZA(),n._uU(10,"Fecha: "),n.TgZ(11,"b"),n._uU(12),n.ALo(13,"date"),n.qZA()(),n.TgZ(14,"p")(15,"mat-icon"),n._uU(16,"credit_card"),n.qZA(),n._uU(17,"Precio de env\xedo: "),n.TgZ(18,"b"),n._uU(19),n.ALo(20,"currency"),n.qZA()(),n.TgZ(21,"p")(22,"mat-icon"),n._uU(23,"place"),n.qZA(),n._uU(24,"Origen: "),n.TgZ(25,"b"),n._uU(26),n.qZA()(),n.TgZ(27,"p")(28,"mat-icon"),n._uU(29,"place"),n.qZA(),n._uU(30,"Destino: "),n.TgZ(31,"b"),n._uU(32),n.qZA()(),n.TgZ(33,"div")(34,"h3")(35,"mat-icon"),n._uU(36,"route"),n.qZA(),n._uU(37,"Estados del env\xedo:"),n.qZA(),n.TgZ(38,"div",40),n.YNc(39,tt,7,4,"div",41),n.qZA()()()),2&u){const r=x.$implicit,i=x.index;n.xp6(1),n.Akn(i>0?"margin-top: 15px;":""),n.xp6(5),n.Oqu(r.idOrden),n.xp6(6),n.Oqu(n.xi3(13,8,r.fechaCreacionOrdenEnvio,"dd/MM/yyyy")),n.xp6(7),n.Oqu(n.lcZ(20,11,r.precioEnvio)),n.xp6(7),n.Oqu(r.nombreUserOrigen),n.xp6(6),n.Oqu(r.nombreUserDestino),n.xp6(7),n.Q6J("ngForOf",r.listaFechaEnvios)}}function et(u,x){if(1&u){const r=n.EpF();n.TgZ(0,"div",43)(1,"button",44),n.NdJ("click",function(){n.CHM(r);const d=n.oxw(2);return n.KtG(d.nuevoEnvio())}),n._uU(2,"NUEVO ENV\xcdO"),n.qZA()()}}function at(u,x){if(1&u&&(n.TgZ(0,"div",36),n.YNc(1,nt,40,13,"div",37),n.YNc(2,et,3,0,"div",38),n.qZA()),2&u){const r=n.oxw();n.xp6(1),n.Q6J("ngForOf",r.ordersToShow),n.xp6(1),n.Q6J("ngIf",r.hasCancelledEnvio)}}let it=(()=>{class u{constructor(r,i,d,a,p,g,m,M){this.fb=r,this.dialogRef=i,this.data=d,this.logisticaService=a,this.compraService=p,this.usuarioService=g,this.auth=m,this.donacionesService=M,this.loading=!0,this.loadingSave=!1,this.userOrders=[],this.ordersToShow=[],this.loadingCosto=!1,this.type="compra",this.hasCancelledEnvio=!1,this.isNuevoEnvio=!1,console.log(d),this.ordenForm=r.group({peso:["",e.kI.required],disponibilidad:["",e.kI.required]})}ngOnInit(){this.data.cards?this.type="variasDonaciones":"Donaci\xf3n"==this.data.card.codigo&&(this.type="unaDonacion"),this.data.newEnvio&&(this.isNuevoEnvio=!0,this.loading=!1),this.getUserOrders()}getUserOrders(){this.ordersToShow.splice(0),this.logisticaService.obtenerMisOrdenes("compra"!=this.type?"donaciones":"publicaciones").subscribe({next:r=>{if(r.length>0&&(this.userOrders=r),console.log(this.userOrders),"compra"!=this.type){const i="variasDonaciones"==this.type?[...new Set(this.data.cards.map(d=>d.idDonacion||d.id))]:[this.data.card.id];console.log(i),this.ordersToShow=this.userOrders.filter(d=>d.productosADonarDeOrdenList.some(a=>i.includes(a.idDonacion))),this.ordersToShow.sort((d,a)=>new Date(d.fechaCreacionOrdenEnvio).getTime()-new Date(a.fechaCreacionOrdenEnvio).getTime()),!this.isNuevoEnvio&&this.ordersToShow.length>0&&this.ordersToShow[this.ordersToShow.length-1].listaFechaEnvios.find(d=>"CANCELADO"==d.estado)&&(this.hasCancelledEnvio=!0)}else this.compraService.getMyCompras().subscribe({next:i=>{const a=i.find(p=>p.idCompra==this.data.card.idAuxiliar);a&&(this.compra=a,this.ordenForm.controls.peso.setValue(a.publicacionDTO.peso)),this.ordersToShow=this.userOrders.filter(p=>p.publicacionId==this.data.card.id)}});0==this.ordersToShow.length?this.usuarioService.getUserByID(this.auth.getUserID()).subscribe({next:i=>{this.user=i,console.log(this.user),this.loading=!1}}):this.loading=!1}})}calcularEnvio(){this.loadingCosto=!0,this.logisticaService.getCostoEnvio(this.ordenForm.value.peso).subscribe({next:r=>{this.costoEnvio=r.precio,this.loadingCosto=!1}})}crearOrden(){console.log(this.data),E().fire({title:"Confirmar env\xedo",text:"Los datos que ingresaste se guardar\xe1n y se crear\xe1 una orden de env\xedo. No podr\xe1s hacer cambios luego. \xbfDese\xe1s continuar?",icon:"question",showCancelButton:!0,cancelButtonText:"CANCELAR",confirmButtonText:"CONFIRMAR"}).then(({isConfirmed:r})=>{r&&this.confirmarOrden()})}confirmarOrden(){if(this.loadingSave=!0,"variasDonaciones"==this.type){const r=this.data.cards;console.log("donaciones",r),this.configurarDonaciones(r)}else"unaDonacion"==this.type?this.donacionesService.getMisDonaciones().subscribe({next:r=>{const i=r.find(d=>d.idDonacion==this.data.card.id);this.configurarDonaciones([i])}}):this.compra&&this.logisticaService.getCostoEnvio(this.ordenForm.value.peso).subscribe({next:r=>{this.enviarOrden({titulo:this.data.card.titulo,userIdDestino:this.compra.particularCompradorDTO.usuarioDTO.idUsuario,userIdOrigen:this.compra.publicacionDTO.particularDTO.usuarioDTO.idUsuario,idPublicacion:this.compra.publicacionDTO.idPublicacion,costoEnvio:r.precio})}})}configurarDonaciones(r){const i=[],d=[];for(const a of r)i.push({productoId:a.producto.idProducto,donacionId:a.idDonacion,cantidad:a.cantidadDonacion}),d.includes(a.producto.descripcion)||d.push(a.producto.descripcion);this.logisticaService.getCostoEnvio(this.ordenForm.value.peso).subscribe({next:a=>{const p={titulo:d.join(", "),userIdDestino:r[0].producto.colectaDTO.fundacionDTO.usuarioDTO.idUsuario,userIdOrigen:r[0].particularDTO.usuarioDTO.idUsuario,idColecta:r[0].producto.colectaDTO.idColecta,listProductos:i,costoEnvio:a.precio};this.enviarOrden(p)}})}enviarOrden(r){this.logisticaService.crearOrden(r).subscribe({next:i=>{this.loadingSave=!1,E().fire("\xa1Excelente!","Tu orden se cre\xf3 con \xe9xito","success"),this.dialogRef.close(!0)}})}nuevoEnvio(){this.dialogRef.close("newEnvio")}}return u.\u0275fac=function(r){return new(r||u)(n.Y36(e.qu),n.Y36(t.so),n.Y36(t.WI),n.Y36(b.C),n.Y36(c.K),n.Y36(O.i),n.Y36(l.e),n.Y36(C.M))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-envio-modal"]],decls:10,vars:5,consts:[[1,"header"],[2,"width","30px"],[4,"ngIf"],[2,"margin-left","10px","cursor","pointer",3,"click"],[2,"display","flex","justify-content","center"],["diameter","20","style","margin-bottom: 60px;",4,"ngIf"],["class","main-data",4,"ngIf"],["diameter","20",2,"margin-bottom","60px"],["style","margin: 0 20px 20px; text-align: center;",4,"ngIf"],["id","envio-form",3,"formGroup"],[2,"width","70%","display","flex","justify-content","center"],["formControlName","disponibilidad"],["value","9-12"],["value","13-16"],["value","17-20"],["class","material-icons-outlined","style","margin-top: 15px; margin-left: 15px; cursor: default;","matTooltip","Shipnow buscar\xe1 el producto en los pr\xf3ximos 2 d\xedas y luego te lo llevar\xe1.","matTooltipPosition","right",4,"ngIf"],["class","material-icons-outlined","style","margin-top: 15px; margin-left: 15px; cursor: default;","matTooltip","Shipnow buscar\xe1 tu donaci\xf3n en los pr\xf3ximos 2 d\xedas.","matTooltipPosition","right",4,"ngIf"],["class","direccion",4,"ngIf"],["class","costo-envio",4,"ngIf"],[1,"buttons"],["mat-fab","","extended","","color","light",3,"click"],["mat-fab","","extended","",1,"confirm",3,"disabled","click"],["diameter","20",4,"ngIf"],[2,"margin","0 20px 20px","text-align","center"],["matInput","","formControlName","peso","type","number",1,"number-input"],["matSuffix","",2,"margin","20px"],["matTooltip","Shipnow buscar\xe1 el producto en los pr\xf3ximos 2 d\xedas y luego te lo llevar\xe1.","matTooltipPosition","right",1,"material-icons-outlined",2,"margin-top","15px","margin-left","15px","cursor","default"],["matTooltip","Shipnow buscar\xe1 tu donaci\xf3n en los pr\xf3ximos 2 d\xedas.","matTooltipPosition","right",1,"material-icons-outlined",2,"margin-top","15px","margin-left","15px","cursor","default"],[1,"direccion"],[1,"costo-envio"],["style","font-size: 14px;",4,"ngIf"],["diameter","20","color","secondary",4,"ngIf"],["mat-fab","","extended","",1,"confirm",3,"click"],[2,"font-size","14px"],["diameter","20","color","secondary"],["diameter","20"],[1,"main-data"],[4,"ngFor","ngForOf"],["style","display: flex; margin: 20px; justify-content: center;",4,"ngIf"],[2,"text-align","center","justify-content","center","padding","5px","font-size","16px","letter-spacing","1px","background-color","#fde074"],[2,"display","flex","flex-direction","column","gap","10px","margin-left","25px"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[2,"display","flex","margin","20px","justify-content","center"],["mat-fab","","extended","",2,"background-color","var(--info)",3,"click"]],template:function(r,i){1&r&&(n.TgZ(0,"div",0),n._UZ(1,"span",1),n.YNc(2,J,4,1,"span",2),n.YNc(3,Q,2,0,"span",2),n.TgZ(4,"mat-icon",3),n.NdJ("click",function(){return i.dialogRef.close()}),n._uU(5,"close"),n.qZA()(),n.TgZ(6,"div",4),n.YNc(7,Y,1,0,"mat-spinner",5),n.qZA(),n.YNc(8,X,27,10,"div",2),n.YNc(9,at,3,2,"div",6)),2&r&&(n.xp6(2),n.Q6J("ngIf",i.ordersToShow.length>0),n.xp6(1),n.Q6J("ngIf",0==i.ordersToShow.length),n.xp6(4),n.Q6J("ngIf",i.loading),n.xp6(1),n.Q6J("ngIf",!i.loading&&(0==i.ordersToShow.length||i.isNuevoEnvio)),n.xp6(1),n.Q6J("ngIf",!i.loading&&i.ordersToShow.length>0&&!i.isNuevoEnvio))},dependencies:[_.KE,_.hX,_.TO,_.R9,h.Hw,T.Nt,w.Ou,L.cs,q.gD,B.ey,F.gM,e._Y,e.Fj,e.wV,e.JJ,e.JL,e.sg,e.u,y.sg,y.O5,y.H9,y.uU],styles:[".header[_ngcontent-%COMP%]{text-align:center;margin:20px;padding-bottom:20px;border-bottom:1px solid var(--light-grey);font-size:16px;display:flex;align-items:center;justify-content:space-between}#main-envios[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}#main-envios[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-bottom:0;height:30px;color:var(--dark-grey);cursor:pointer}#envio-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}#envio-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:70%}#envio-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button, #envio-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}#envio-form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-webkit-appearance:textfield;appearance:textfield}.buttons[_ngcontent-%COMP%], .costo-envio[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;align-items:center;margin:20px}.buttons[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%], .costo-envio[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{background-color:var(--info);color:#000}.buttons[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]:disabled, .costo-envio[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]:disabled{background-color:var(--light-grey)}.direccion[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px;text-align:center}.main-data[_ngcontent-%COMP%]{padding:0 20px 20px}.main-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .main-data[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .main-data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}@media (min-width: 0px) and (max-width: 576px){.buttons[_ngcontent-%COMP%]{flex-direction:column-reverse;margin-bottom:20px}}"]}),u})()},9515:(R,D,o)=>{o.d(D,{A:()=>b});var e=o(2223),t=o(4755),v=o(3148);function E(c,O){if(1&c&&e._UZ(0,"i",5),2&c){const l=e.oxw().fill;e.Udp("width",l,"%")}}function n(c,O){if(1&c&&(e.TgZ(0,"i",3),e.YNc(1,E,1,2,"i",4),e.qZA()),2&c){const l=O.fill,C=e.oxw();e.Udp("font-size",C.remSize,"rem")("color",C.color),e.xp6(1),e.Q6J("ngIf",l>0)}}let b=(()=>{class c{constructor(){this.puntuacion=3.6,this.remSize=1,this.color="var(--opiniones)"}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-rating"]],inputs:{puntuacion:"puntuacion",remSize:"remSize",color:"color"},decls:4,vars:4,consts:[[1,"puntuacion"],["t",""],[3,"rate","starTemplate","readonly","max","rateChange"],[1,"bi-star"],["class","bi-star-fill filled",3,"width",4,"ngIf"],[1,"bi-star-fill","filled"]],template:function(l,C){if(1&l&&(e.TgZ(0,"div",0),e.YNc(1,n,2,5,"ng-template",null,1,e.W1O),e.TgZ(3,"ngb-rating",2),e.NdJ("rateChange",function(h){return C.puntuacion=h}),e.qZA()()),2&l){const _=e.MAs(2);e.xp6(3),e.Q6J("rate",C.puntuacion)("starTemplate",_)("readonly",!0)("max",5)}},dependencies:[t.O5,v.OC],styles:[".puntuacion[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;display:inline-block;padding-right:.1rem}.puntuacion[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%]{overflow:hidden;position:absolute;top:0;left:0}"]}),c})()}}]);