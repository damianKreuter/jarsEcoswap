"use strict";(self.webpackChunkapp_eco_swap=self.webpackChunkapp_eco_swap||[]).push([[592],{4893:(g,_,o)=>{o.d(_,{k:()=>p});var n=o(2223),d=o(5500);const s="URImsUsuarios";let p=(()=>{class a{constructor(t){this.backendService=t}getTiposProductos(){return this.backendService.get(s,"api/tiposProductos")}getProductosColecta(t){return this.backendService.get(s,"api/productos/"+t)}}return a.\u0275fac=function(t){return new(t||a)(n.LFG(d.k))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},2777:(g,_,o)=>{o.d(_,{x:()=>p});var n=o(2223),d=o(5500);const s="URImsUsuarios";let p=(()=>{class a{constructor(t){this.backendService=t}crearPublicacion(t){return this.backendService.post(s,"api/publicacion",t)}getPublicaciones(t={}){return this.backendService.get(s,"api/publicaciones",t)}getMisPublicaciones(){return this.backendService.get(s,"api/misPublicaciones")}getPublicacion(t){return this.backendService.get(s,"api/publicacion/"+t)}getImagen(t){return this.backendService.getUrlByName(s)+"api/getImage/"+t}crearTrueque(t,l){return this.backendService.post(s,"api/trueque",{idPublicacionOrigen:t,idPublicacionPropuesta:l})}getTruequesFromPublicacion(t){return this.backendService.get(s,`api/publicacion/${t}/trueques`)}getMisPublicacionesForTrueque(t){return this.backendService.get(s,`api/publicacion/${t}/trueques`)}cambiarEstadoTrueque(t,l){return this.backendService.put(s,`api/trueque/${t}`,{nuevoEstado:l})}}return a.\u0275fac=function(t){return new(t||a)(n.LFG(d.k))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},8719:(g,_,o)=>{o.d(_,{G:()=>M});var n=o(2223),d=o(2777),s=o(1531),p=o(430),a=o(1728),r=o(4755);function t(e,u){if(1&e&&n._UZ(0,"img",13),2&e){const c=n.oxw().$implicit,i=n.oxw();n.Q6J("src",i.getImagen(c.parsedImagenes[0]),n.LSH)("ngClass","publicaciones"==i.origin||"mis-publicaciones"==i.origin?"big":"small")}}function l(e,u){if(1&e&&(n.TgZ(0,"div",14),n._uU(1),n.qZA()),2&e){const c=n.oxw().$implicit;n.xp6(1),n.hij(" Precio de venta: $",c.precioVenta," ")}}function m(e,u){if(1&e&&(n.TgZ(0,"div",15),n._uU(1),n.qZA()),2&e){const c=n.oxw().$implicit;n.xp6(1),n.hij(" Estado del trueque: ",c.estadoTrueque," ")}}function x(e,u){if(1&e&&(n.TgZ(0,"div",16),n._uU(1),n.qZA()),2&e){const c=n.oxw().$implicit;n.xp6(1),n.hij(" Estado de la publicaci\xf3n: ",c.estadoPublicacion," ")}}function f(e,u){if(1&e&&(n.TgZ(0,"h6"),n._uU(1),n.qZA()),2&e){const c=n.oxw(2).$implicit;n.xp6(1),n.Oqu(c.particularDTO.direcciones[0].codigoPostal)}}function C(e,u){if(1&e&&(n.TgZ(0,"div",17),n._UZ(1,"img",18),n.TgZ(2,"h4"),n._uU(3),n.qZA(),n.TgZ(4,"h6"),n._uU(5),n.ALo(6,"date"),n.qZA(),n.YNc(7,f,2,1,"h6",19),n.qZA()),2&e){const c=n.oxw().$implicit,i=n.oxw();n.xp6(3),n.Oqu(c.particularDTO.nombre+" "+c.particularDTO.apellido),n.xp6(2),n.Oqu(n.xi3(6,3,c.fechaPublicacion,"dd/MM/yyyy")),n.xp6(2),n.Q6J("ngIf","publicaciones"==i.origin&&c.particularDTO.direcciones.length>0)}}function h(e,u){if(1&e){const c=n.EpF();n.TgZ(0,"button",22),n.NdJ("click",function(P){const b=n.CHM(c).$implicit,E=n.oxw(2).$implicit;return n.oxw().changeEstadoPublicacion(E,b.status),n.KtG(P.stopPropagation())}),n.TgZ(1,"mat-icon"),n._uU(2),n.qZA(),n._uU(3),n.qZA()}if(2&e){const c=u.$implicit,i=n.oxw(2).$implicit;n.Q6J("color",c.color)("disabled","RECIBIDO"!=c.status?"PENDIENTE"!=i.estadoTrueque:"ACEPTADO"!=i.estadoTrueque),n.xp6(2),n.Oqu(c.icon),n.xp6(1),n.hij(" ",c.name," ")}}function O(e,u){if(1&e&&(n.TgZ(0,"div",20),n.YNc(1,h,4,4,"button",21),n.qZA()),2&e){const c=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",c.buttons)}}function T(e,u){if(1&e){const c=n.EpF();n.TgZ(0,"div",2),n.NdJ("click",function(){const v=n.CHM(c).$implicit,b=n.oxw();return n.KtG(b.clicked(v))}),n.TgZ(1,"div",3),n.YNc(2,t,1,2,"img",4),n.qZA(),n.TgZ(3,"div",5)(4,"h2",6),n._uU(5),n.qZA(),n.TgZ(6,"div",7),n._uU(7),n.qZA(),n.YNc(8,l,2,1,"div",8),n.YNc(9,m,2,1,"div",9),n.YNc(10,x,2,1,"div",10),n.qZA(),n.YNc(11,C,8,6,"div",11),n.YNc(12,O,2,1,"div",12),n.qZA()}if(2&e){const c=u.$implicit,i=n.oxw();n.Q6J("ngClass","intercambio"==i.origin&&c.idPublicacion==i.cardSelected?"selected-card":""),n.xp6(2),n.Q6J("ngIf",c.parsedImagenes&&c.parsedImagenes.length>0),n.xp6(3),n.Oqu(c.titulo),n.xp6(2),n.AsE(" Valor de trueque: $",c.valorTruequeMin," - $",c.valorTruequeMax," "),n.xp6(1),n.Q6J("ngIf","VENTA"==c.tipoPublicacion),n.xp6(1),n.Q6J("ngIf","propuestas"==i.origin),n.xp6(1),n.Q6J("ngIf","mis-publicaciones"==i.origin),n.xp6(1),n.Q6J("ngIf","publicaciones"==i.origin||"mis-publicaciones"==i.origin),n.xp6(1),n.Q6J("ngIf","propuestas"==i.origin)}}let M=(()=>{class e{constructor(c,i){this.truequesService=c,this.router=i,this.publicacionesToShow=[],this.origin="publicaciones",this.buttons=[],this.selectedCard=new n.vpe,this.changeStatus=new n.vpe,console.log(this.publicacionesToShow,this.buttons)}getImagen(c){return this.truequesService.getImagen(c)}clicked(c){"publicaciones"==this.origin||"mis-publicaciones"==this.origin?this.goToPublicacion(c):(this.cardSelected=c.idPublicacion,this.selectedCard.emit(this.cardSelected))}goToPublicacion(c){this.router.navigate(["publicacion/"+c.idPublicacion])}changeEstadoPublicacion(c,i){this.changeStatus.emit({publicacion:c,newStatus:i})}}return e.\u0275fac=function(c){return new(c||e)(n.Y36(d.x),n.Y36(s.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-deck-publicaciones"]],inputs:{publicacionesToShow:"publicacionesToShow",origin:"origin",buttons:"buttons"},outputs:{selectedCard:"selectedCard",changeStatus:"changeStatus"},decls:2,vars:1,consts:[[1,"card-deck"],["class","card row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card","row",3,"ngClass","click"],[1,"col-sm-4",2,"display","flex","justify-content","center"],["class","card-img",3,"src","ngClass",4,"ngIf"],[1,"card-body","col-sm-5"],[1,"card-title"],[1,"trueque"],["class","venta",4,"ngIf"],["class","estado",4,"ngIf"],["class","estado-publicacion",4,"ngIf"],["class","card-fundacion col-sm-2",4,"ngIf"],["class","col-3 buttons",4,"ngIf"],[1,"card-img",3,"src","ngClass"],[1,"venta"],[1,"estado"],[1,"estado-publicacion"],[1,"card-fundacion","col-sm-2"],["src","assets/persona.png",1,"img-fundacion"],[4,"ngIf"],[1,"col-3","buttons"],["mat-fab","","extended","",3,"color","disabled","click",4,"ngFor","ngForOf"],["mat-fab","","extended","",3,"color","disabled","click"]],template:function(c,i){1&c&&(n.TgZ(0,"div",0),n.YNc(1,T,13,10,"div",1),n.qZA()),2&c&&(n.xp6(1),n.Q6J("ngForOf",i.publicacionesToShow))},dependencies:[p.Hw,a.cs,r.mk,r.sg,r.O5,r.uU],styles:[".card[_ngcontent-%COMP%]{margin:5px;display:flex;flex-direction:row;align-items:center}.card.selected-card[_ngcontent-%COMP%]{background-color:#bceba1}.card[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{margin:20px;width:auto;max-width:100%}.card[_ngcontent-%COMP%]   .card-img.big[_ngcontent-%COMP%]{max-height:160px}.card[_ngcontent-%COMP%]   .card-img.small[_ngcontent-%COMP%]{max-height:110px}.card[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.card[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]{margin:5px 10px;min-width:100px}.card[_ngcontent-%COMP%]   .estado-publicacion[_ngcontent-%COMP%]{margin-top:5px}.card[_ngcontent-%COMP%]   .card-fundacion[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]   .card-fundacion[_ngcontent-%COMP%]   .img-fundacion[_ngcontent-%COMP%]{width:30px}.card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin:10px auto}.card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;width:100%}@media (min-width: 0px) and (max-width: 576px){.buttons[_ngcontent-%COMP%]{width:50%!important}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;width:100%}}"]}),e})()},4984:(g,_,o)=>{o.d(_,{O:()=>a});var n=o(2223),d=o(8467),s=o(4755);function p(r,t){1&r&&n._UZ(0,"mat-spinner",2)}let a=(()=>{class r{constructor(){this.loading=!1}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-spinner"]],inputs:{loading:"loading"},decls:2,vars:1,consts:[[2,"display","flex","justify-content","center"],["diameter","40",4,"ngIf"],["diameter","40"]],template:function(l,m){1&l&&(n.TgZ(0,"div",0),n.YNc(1,p,1,0,"mat-spinner",1),n.qZA()),2&l&&(n.xp6(1),n.Q6J("ngIf",m.loading))},dependencies:[d.Ou,s.O5]}),r})()}}]);