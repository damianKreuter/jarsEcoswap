"use strict";(self.webpackChunkapp_eco_swap=self.webpackChunkapp_eco_swap||[]).push([[592],{4893:(g,d,i)=>{i.d(d,{k:()=>p});var n=i(2223),l=i(5500);const r="URImsUsuarios";let p=(()=>{class a{constructor(t){this.backendService=t}getTiposProductos(){return this.backendService.get(r,"api/tiposProductos")}getProductosColecta(t){return this.backendService.get(r,"api/productos/"+t)}}return a.\u0275fac=function(t){return new(t||a)(n.LFG(l.k))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},2777:(g,d,i)=>{i.d(d,{x:()=>p});var n=i(2223),l=i(5500);const r="URImsUsuarios";let p=(()=>{class a{constructor(t){this.backendService=t}crearPublicacion(t){return this.backendService.post(r,"api/publicacion",t)}getPublicaciones(t={}){return this.backendService.get(r,"api/publicaciones",t)}getMisPublicaciones(){return this.backendService.get(r,"api/misPublicaciones")}getPublicacion(t){return this.backendService.get(r,"api/publicacion/"+t)}getImagen(t){return this.backendService.getUrlByName(r)+"api/getImage/"+t}crearTrueque(t,_){return this.backendService.post(r,"api/trueque",{idPublicacionOrigen:t,idPublicacionPropuesta:_})}getTruequesFromPublicacion(t){return this.backendService.get(r,`api/publicacion/${t}/trueques`)}getMisPublicacionesForTrueque(t){return this.backendService.get(r,`api/publicacion/${t}/trueques`)}cambiarEstadoTrueque(t,_){return this.backendService.put(r,`api/trueque/${t}`,{nuevoEstado:_})}}return a.\u0275fac=function(t){return new(t||a)(n.LFG(l.k))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},8719:(g,d,i)=>{i.d(d,{G:()=>O});var n=i(2223),l=i(2777),r=i(1531),p=i(430),a=i(1728),s=i(4755);function t(c,u){if(1&c&&n._UZ(0,"img",12),2&c){const e=n.oxw().$implicit,o=n.oxw();n.Q6J("src",o.getImagen(e.parsedImagenes[0]),n.LSH)("ngClass","publicaciones"==o.origin?"big":"small")}}function _(c,u){if(1&c&&(n.TgZ(0,"div",13),n._uU(1),n.qZA()),2&c){const e=n.oxw().$implicit;n.xp6(1),n.hij(" Precio de venta: $",e.precioVenta," ")}}function m(c,u){if(1&c&&(n.TgZ(0,"div",14),n._uU(1),n.qZA()),2&c){const e=n.oxw().$implicit;n.xp6(1),n.hij(" Estado: ",e.estadoTrueque," ")}}function C(c,u){if(1&c&&(n.TgZ(0,"div",15),n._UZ(1,"img",16),n.TgZ(2,"h4"),n._uU(3),n.qZA(),n.TgZ(4,"h6"),n._uU(5),n.ALo(6,"date"),n.qZA()()),2&c){const e=n.oxw().$implicit;n.xp6(3),n.Oqu(e.particularDTO.nombre+" "+e.particularDTO.apellido),n.xp6(2),n.Oqu(n.xi3(6,2,e.fechaPublicacion,"dd/MM/yyyy"))}}function x(c,u){if(1&c){const e=n.EpF();n.TgZ(0,"button",19),n.NdJ("click",function(P){const b=n.CHM(e).$implicit,T=n.oxw(2).$implicit;return n.oxw().changeEstadoPublicacion(T,b.status),n.KtG(P.stopPropagation())}),n.TgZ(1,"mat-icon"),n._uU(2),n.qZA(),n._uU(3),n.qZA()}if(2&c){const e=u.$implicit,o=n.oxw(2).$implicit;n.Q6J("color",e.color)("disabled","RECIBIDO"!=e.status?"PENDIENTE"!=o.estadoTrueque:"ACEPTADO"!=o.estadoTrueque),n.xp6(2),n.Oqu(e.icon),n.xp6(1),n.hij(" ",e.name," ")}}function f(c,u){if(1&c&&(n.TgZ(0,"div",17),n.YNc(1,x,4,4,"button",18),n.qZA()),2&c){const e=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",e.buttons)}}function h(c,u){if(1&c){const e=n.EpF();n.TgZ(0,"div",2),n.NdJ("click",function(){const v=n.CHM(e).$implicit,b=n.oxw();return n.KtG(b.clicked(v))}),n.TgZ(1,"div",3),n.YNc(2,t,1,2,"img",4),n.qZA(),n.TgZ(3,"div",5)(4,"h2",6),n._uU(5),n.qZA(),n.TgZ(6,"div",7),n._uU(7),n.qZA(),n.YNc(8,_,2,1,"div",8),n.YNc(9,m,2,1,"div",9),n.qZA(),n.YNc(10,C,7,5,"div",10),n.YNc(11,f,2,1,"div",11),n.qZA()}if(2&c){const e=u.$implicit,o=n.oxw();n.Q6J("ngClass","intercambio"==o.origin&&e.idPublicacion==o.cardSelected?"selected-card":""),n.xp6(2),n.Q6J("ngIf",e.parsedImagenes&&e.parsedImagenes.length>0),n.xp6(3),n.Oqu(e.titulo),n.xp6(2),n.AsE(" Valor de trueque: $",e.valorTruequeMin," - $",e.valorTruequeMax," "),n.xp6(1),n.Q6J("ngIf","VENTA"==e.tipoPublicacion),n.xp6(1),n.Q6J("ngIf","propuestas"==o.origin),n.xp6(1),n.Q6J("ngIf","publicaciones"==o.origin),n.xp6(1),n.Q6J("ngIf","propuestas"==o.origin)}}let O=(()=>{class c{constructor(e,o){this.truequesService=e,this.router=o,this.publicacionesToShow=[],this.origin="publicaciones",this.buttons=[],this.selectedCard=new n.vpe,this.changeStatus=new n.vpe,console.log(this.publicacionesToShow,this.buttons)}getImagen(e){return this.truequesService.getImagen(e)}clicked(e){"publicaciones"==this.origin?this.goToPublicacion(e):(this.cardSelected=e.idPublicacion,this.selectedCard.emit(this.cardSelected))}goToPublicacion(e){this.router.navigate(["publicacion/"+e.idPublicacion])}changeEstadoPublicacion(e,o){this.changeStatus.emit({publicacion:e,newStatus:o})}}return c.\u0275fac=function(e){return new(e||c)(n.Y36(l.x),n.Y36(r.F0))},c.\u0275cmp=n.Xpm({type:c,selectors:[["app-deck-publicaciones"]],inputs:{publicacionesToShow:"publicacionesToShow",origin:"origin",buttons:"buttons"},outputs:{selectedCard:"selectedCard",changeStatus:"changeStatus"},decls:2,vars:1,consts:[[1,"card-deck"],["class","card row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card","row",3,"ngClass","click"],[1,"col-sm-4",2,"display","flex","justify-content","center"],["class","card-img",3,"src","ngClass",4,"ngIf"],[1,"card-body","col-sm-5"],[1,"card-title"],[1,"trueque"],["class","venta",4,"ngIf"],["class","estado",4,"ngIf"],["class","card-fundacion col-sm-2",4,"ngIf"],["class","col-3 buttons",4,"ngIf"],[1,"card-img",3,"src","ngClass"],[1,"venta"],[1,"estado"],[1,"card-fundacion","col-sm-2"],["src","assets/persona.png",1,"img-fundacion"],[1,"col-3","buttons"],["mat-fab","","extended","",3,"color","disabled","click",4,"ngFor","ngForOf"],["mat-fab","","extended","",3,"color","disabled","click"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.YNc(1,h,12,9,"div",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",o.publicacionesToShow))},dependencies:[p.Hw,a.cs,s.mk,s.sg,s.O5,s.uU],styles:[".card[_ngcontent-%COMP%]{margin:5px;display:flex;flex-direction:row;align-items:center}.card.selected-card[_ngcontent-%COMP%]{background-color:#bceba1}.card[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{margin:20px;width:auto;max-width:100%}.card[_ngcontent-%COMP%]   .card-img.big[_ngcontent-%COMP%]{max-height:160px}.card[_ngcontent-%COMP%]   .card-img.small[_ngcontent-%COMP%]{max-height:110px}.card[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.card[_ngcontent-%COMP%]   .productos[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]{margin:5px 10px;min-width:100px}.card[_ngcontent-%COMP%]   .card-fundacion[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]   .card-fundacion[_ngcontent-%COMP%]   .img-fundacion[_ngcontent-%COMP%]{width:30px}.card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin:10px auto}.card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;width:100%}@media (min-width: 0px) and (max-width: 576px){.buttons[_ngcontent-%COMP%]{width:50%!important}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;width:100%}}"]}),c})()},4984:(g,d,i)=>{i.d(d,{O:()=>a});var n=i(2223),l=i(8467),r=i(4755);function p(s,t){1&s&&n._UZ(0,"mat-spinner",2)}let a=(()=>{class s{constructor(){this.loading=!1}}return s.\u0275fac=function(_){return new(_||s)},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-spinner"]],inputs:{loading:"loading"},decls:2,vars:1,consts:[[2,"display","flex","justify-content","center"],["diameter","40",4,"ngIf"],["diameter","40"]],template:function(_,m){1&_&&(n.TgZ(0,"div",0),n.YNc(1,p,1,0,"mat-spinner",1),n.qZA()),2&_&&(n.xp6(1),n.Q6J("ngIf",m.loading))},dependencies:[l.Ou,r.O5]}),s})()}}]);